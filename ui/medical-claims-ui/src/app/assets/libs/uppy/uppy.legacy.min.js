"use strict";
(function(){var Qte=Object.create;var kd=Object.defineProperty;var Zte=Object.getOwnPropertyDescriptor;var ere=Object.getOwnPropertyNames;var tre=Object.getPrototypeOf,rre=Object.prototype.hasOwnProperty;var Kk=function(e){return kd(e,"__esModule",{value:!0})};var Yk=function(e,t){return function(){return e&&(t=e(e=0)),t}};var h=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},Xk=function(e,t){for(var r in t)kd(e,r,{get:t[r],enumerable:!0})},Jk=function(e,t,r,n){if(t&&typeof t=="object"||typeof t=="function")for(var a=ere(t),i=0,o=a.length,u;i<o;i++)u=a[i],!rre.call(e,u)&&(r||u!=="default")&&kd(e,u,{get:function(s){return t[s]}.bind(null,u),enumerable:!(n=Zte(t,u))||n.enumerable});return e},Gr=function(e,t){return Jk(Kk(kd(e!=null?Qte(tre(e)):{},"default",!t&&e&&e.__esModule?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},re=function(e){return function(t,r){return e&&e.get(t)||(r=Jk(Kk({}),t,1),e&&e.set(t,r),r)}}(typeof WeakMap!="undefined"?new WeakMap:0);var H=h(function(Mst,Qk){function vo(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vo=function(r){return typeof r}:vo=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vo(e)}var Id=function(t){return t&&t.Math==Math&&t};Qk.exports=Id((typeof globalThis=="undefined"?"undefined":vo(globalThis))=="object"&&globalThis)||Id((typeof window=="undefined"?"undefined":vo(window))=="object"&&window)||Id((typeof self=="undefined"?"undefined":vo(self))=="object"&&self)||Id((typeof global=="undefined"?"undefined":vo(global))=="object"&&global)||function(){return this}()||Function("return this")()});var ae=h(function(Nst,Zk){Zk.exports=function(e){try{return!!e()}catch(t){return!0}}});var Ee=h(function(Bst,eI){var nre=ae();eI.exports=!nre(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var le=h(function(Lst,tI){var zl=Function.prototype.call;tI.exports=zl.bind?zl.bind(zl):function(){return zl.apply(zl,arguments)}});var Hl=h(function(iI){"use strict";var rI={}.propertyIsEnumerable,nI=Object.getOwnPropertyDescriptor,ire=nI&&!rI.call({1:2},1);iI.f=ire?function(t){var r=nI(this,t);return!!r&&r.enumerable}:rI});var yn=h(function(Hst,aI){aI.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var ie=h(function($st,uI){var oI=Function.prototype,V0=oI.bind,G0=oI.call,are=V0&&V0.bind(G0);uI.exports=V0?function(e){return e&&are(G0,e)}:function(e){return e&&function(){return G0.apply(e,arguments)}}});var yr=h(function(Wst,lI){var sI=ie(),ore=sI({}.toString),ure=sI("".slice);lI.exports=function(e){return ure(ore(e),8,-1)}});var yo=h(function(Vst,cI){var sre=H(),lre=ie(),cre=ae(),fre=yr(),K0=sre.Object,pre=lre("".split);cI.exports=cre(function(){return!K0("z").propertyIsEnumerable(0)})?function(e){return fre(e)=="String"?pre(e,""):K0(e)}:K0});var Tt=h(function(Gst,fI){var dre=H(),hre=dre.TypeError;fI.exports=function(e){if(e==null)throw hre("Can't call method on "+e);return e}});var er=h(function(Kst,pI){var vre=yo(),yre=Tt();pI.exports=function(e){return vre(yre(e))}});var Te=h(function(Yst,dI){dI.exports=function(e){return typeof e=="function"}});var we=h(function(Xst,hI){function Fd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fd=function(r){return typeof r}:Fd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fd(e)}var mre=Te();hI.exports=function(e){return Fd(e)=="object"?e!==null:mre(e)}});var Fe=h(function(Jst,vI){var Y0=H(),gre=Te(),bre=function(t){return gre(t)?t:void 0};vI.exports=function(e,t){return arguments.length<2?bre(Y0[e]):Y0[e]&&Y0[e][t]}});var tr=h(function(Qst,yI){var _re=ie();yI.exports=_re({}.isPrototypeOf)});var vi=h(function(Zst,mI){var wre=Fe();mI.exports=wre("navigator","userAgent")||""});var mo=h(function(elt,OI){var gI=H(),X0=vi(),bI=gI.process,_I=gI.Deno,wI=bI&&bI.versions||_I&&_I.version,SI=wI&&wI.v8,mn,xd;SI&&(mn=SI.split("."),xd=mn[0]>0&&mn[0]<4?1:+(mn[0]+mn[1]));!xd&&X0&&(mn=X0.match(/Edge\/(\d+)/),(!mn||mn[1]>=74)&&(mn=X0.match(/Chrome\/(\d+)/),mn&&(xd=+mn[1])));OI.exports=xd});var Cd=h(function(tlt,RI){var PI=mo(),Sre=ae();RI.exports=!!Object.getOwnPropertySymbols&&!Sre(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&PI&&PI<41})});var J0=h(function(rlt,qI){function Dd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dd=function(r){return typeof r}:Dd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dd(e)}var Ore=Cd();qI.exports=Ore&&!Symbol.sham&&Dd(Symbol.iterator)=="symbol"});var Hu=h(function(nlt,EI){function jd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jd=function(r){return typeof r}:jd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jd(e)}var Pre=H(),Rre=Fe(),qre=Te(),Ere=tr(),Tre=J0(),Are=Pre.Object;EI.exports=Tre?function(e){return jd(e)=="symbol"}:function(e){var t=Rre("Symbol");return qre(t)&&Ere(t.prototype,Are(e))}});var $u=h(function(ilt,TI){var kre=H(),Ire=kre.String;TI.exports=function(e){try{return Ire(e)}catch(t){return"Object"}}});var pe=h(function(alt,AI){var Fre=H(),xre=Te(),Cre=$u(),Dre=Fre.TypeError;AI.exports=function(e){if(xre(e))return e;throw Dre(Cre(e)+" is not a function")}});var Ct=h(function(olt,kI){var jre=pe();kI.exports=function(e,t){var r=e[t];return r==null?void 0:jre(r)}});var t_=h(function(ult,II){var Ure=H(),Q0=le(),Z0=Te(),e_=we(),Mre=Ure.TypeError;II.exports=function(e,t){var r,n;if(t==="string"&&Z0(r=e.toString)&&!e_(n=Q0(r,e))||Z0(r=e.valueOf)&&!e_(n=Q0(r,e))||t!=="string"&&Z0(r=e.toString)&&!e_(n=Q0(r,e)))return n;throw Mre("Can't convert object to primitive value")}});var de=h(function(slt,FI){FI.exports=!1});var Ud=h(function(llt,CI){var xI=H(),Nre=Object.defineProperty;CI.exports=function(e,t){try{Nre(xI,e,{value:t,configurable:!0,writable:!0})}catch(r){xI[e]=t}return t}});var $l=h(function(clt,jI){var Bre=H(),Lre=Ud(),DI="__core-js_shared__",zre=Bre[DI]||Lre(DI,{});jI.exports=zre});var Wu=h(function(flt,MI){var Hre=de(),UI=$l();(MI.exports=function(e,t){return UI[e]||(UI[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.19.3",mode:Hre?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})});var xe=h(function(plt,NI){var $re=H(),Wre=Tt(),Vre=$re.Object;NI.exports=function(e){return Vre(Wre(e))}});var Le=h(function(dlt,BI){var Gre=ie(),Kre=xe(),Yre=Gre({}.hasOwnProperty);BI.exports=Object.hasOwn||function(t,r){return Yre(Kre(t),r)}});var Vu=h(function(hlt,LI){var Xre=ie(),Jre=0,Qre=Math.random(),Zre=Xre(1 .toString);LI.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Zre(++Jre+Qre,36)}});var ge=h(function(vlt,VI){var ene=H(),tne=Wu(),zI=Le(),rne=Vu(),HI=Cd(),$I=J0(),Gu=tne("wks"),go=ene.Symbol,WI=go&&go.for,nne=$I?go:go&&go.withoutSetter||rne;VI.exports=function(e){if(!zI(Gu,e)||!(HI||typeof Gu[e]=="string")){var t="Symbol."+e;HI&&zI(go,e)?Gu[e]=go[e]:$I&&WI?Gu[e]=WI(t):Gu[e]=nne(t)}return Gu[e]}});var r_=h(function(ylt,YI){var ine=H(),ane=le(),GI=we(),KI=Hu(),one=Ct(),une=t_(),sne=ge(),lne=ine.TypeError,cne=sne("toPrimitive");YI.exports=function(e,t){if(!GI(e)||KI(e))return e;var r=one(e,cne),n;if(r){if(t===void 0&&(t="default"),n=ane(r,e,t),!GI(n)||KI(n))return n;throw lne("Can't convert object to primitive value")}return t===void 0&&(t="number"),une(e,t)}});var yi=h(function(mlt,XI){var fne=r_(),pne=Hu();XI.exports=function(e){var t=fne(e,"string");return pne(t)?t:t+""}});var Wl=h(function(glt,QI){var dne=H(),JI=we(),n_=dne.document,hne=JI(n_)&&JI(n_.createElement);QI.exports=function(e){return hne?n_.createElement(e):{}}});var i_=h(function(blt,ZI){var vne=Ee(),yne=ae(),mne=Wl();ZI.exports=!vne&&!yne(function(){return Object.defineProperty(mne("div"),"a",{get:function(){return 7}}).a!=7})});var Dt=h(function(t2){var gne=Ee(),bne=le(),_ne=Hl(),wne=yn(),Sne=er(),One=yi(),Pne=Le(),Rne=i_(),e2=Object.getOwnPropertyDescriptor;t2.f=gne?e2:function(t,r){if(t=Sne(t),r=One(r),Rne)try{return e2(t,r)}catch(n){}if(Pne(t,r))return wne(!bne(_ne.f,t,r),t[r])}});var V=h(function(wlt,n2){var r2=H(),qne=we(),Ene=r2.String,Tne=r2.TypeError;n2.exports=function(e){if(qne(e))return e;throw Tne(Ene(e)+" is not an object")}});var Ne=h(function(o2){var Ane=H(),kne=Ee(),Ine=i_(),i2=V(),Fne=yi(),xne=Ane.TypeError,a2=Object.defineProperty;o2.f=kne?a2:function(t,r,n){if(i2(t),r=Fne(r),i2(n),Ine)try{return a2(t,r,n)}catch(a){}if("get"in n||"set"in n)throw xne("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var At=h(function(Olt,u2){var Cne=Ee(),Dne=Ne(),jne=yn();u2.exports=Cne?function(e,t,r){return Dne.f(e,t,jne(1,r))}:function(e,t,r){return e[t]=r,e}});var Vl=h(function(Plt,s2){var Une=ie(),Mne=Te(),a_=$l(),Nne=Une(Function.toString);Mne(a_.inspectSource)||(a_.inspectSource=function(e){return Nne(e)});s2.exports=a_.inspectSource});var o_=h(function(Rlt,c2){var Bne=H(),Lne=Te(),zne=Vl(),l2=Bne.WeakMap;c2.exports=Lne(l2)&&/native code/.test(zne(l2))});var Gl=h(function(qlt,p2){var Hne=Wu(),$ne=Vu(),f2=Hne("keys");p2.exports=function(e){return f2[e]||(f2[e]=$ne(e))}});var Ku=h(function(Elt,d2){d2.exports={}});var Ve=h(function(Tlt,g2){var Wne=o_(),h2=H(),u_=ie(),Vne=we(),Gne=At(),s_=Le(),l_=$l(),Kne=Gl(),Yne=Ku(),v2="Object already initialized",c_=h2.TypeError,Xne=h2.WeakMap,Md,Kl,Nd,Jne=function(t){return Nd(t)?Kl(t):Md(t,{})},Qne=function(t){return function(r){var n;if(!Vne(r)||(n=Kl(r)).type!==t)throw c_("Incompatible receiver, "+t+" required");return n}};Wne||l_.state?(ya=l_.state||(l_.state=new Xne),y2=u_(ya.get),f_=u_(ya.has),m2=u_(ya.set),Md=function(t,r){if(f_(ya,t))throw new c_(v2);return r.facade=t,m2(ya,t,r),r},Kl=function(t){return y2(ya,t)||{}},Nd=function(t){return f_(ya,t)}):(bo=Kne("state"),Yne[bo]=!0,Md=function(t,r){if(s_(t,bo))throw new c_(v2);return r.facade=t,Gne(t,bo,r),r},Kl=function(t){return s_(t,bo)?t[bo]:{}},Nd=function(t){return s_(t,bo)});var ya,y2,f_,m2,bo;g2.exports={set:Md,get:Kl,has:Nd,enforce:Jne,getterFor:Qne}});var ma=h(function(Alt,_2){var p_=Ee(),Zne=Le(),b2=Function.prototype,eie=p_&&Object.getOwnPropertyDescriptor,d_=Zne(b2,"name"),tie=d_&&function(){}.name==="something",rie=d_&&(!p_||p_&&eie(b2,"name").configurable);_2.exports={EXISTS:d_,PROPER:tie,CONFIGURABLE:rie}});var ct=h(function(klt,P2){var nie=H(),w2=Te(),iie=Le(),S2=At(),aie=Ud(),oie=Vl(),O2=Ve(),uie=ma().CONFIGURABLE,sie=O2.get,lie=O2.enforce,cie=String(String).split("String");(P2.exports=function(e,t,r,n){var a=n?!!n.unsafe:!1,i=n?!!n.enumerable:!1,o=n?!!n.noTargetGet:!1,u=n&&n.name!==void 0?n.name:t,s;if(w2(r)&&(String(u).slice(0,7)==="Symbol("&&(u="["+String(u).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!iie(r,"name")||uie&&r.name!==u)&&S2(r,"name",u),s=lie(r),s.source||(s.source=cie.join(typeof u=="string"?u:""))),e===nie){i?e[t]=r:aie(t,r);return}else a?!o&&e[t]&&(i=!0):delete e[t];i?e[t]=r:S2(e,t,r)})(Function.prototype,"toString",function(){return w2(this)&&sie(this).source||oie(this)})});var Kt=h(function(Ilt,R2){var fie=Math.ceil,pie=Math.floor;R2.exports=function(e){var t=+e;return t!==t||t===0?0:(t>0?pie:fie)(t)}});var mi=h(function(Flt,q2){var die=Kt(),hie=Math.max,vie=Math.min;q2.exports=function(e,t){var r=die(e);return r<0?hie(r+t,0):vie(r,t)}});var Ar=h(function(xlt,E2){var yie=Kt(),mie=Math.min;E2.exports=function(e){return e>0?mie(yie(e),9007199254740991):0}});var Ge=h(function(Clt,T2){var gie=Ar();T2.exports=function(e){return gie(e.length)}});var Yl=h(function(Dlt,k2){var bie=er(),_ie=mi(),wie=Ge(),A2=function(t){return function(r,n,a){var i=bie(r),o=wie(i),u=_ie(a,o),s;if(t&&n!=n){for(;o>u;)if(s=i[u++],s!=s)return!0}else for(;o>u;u++)if((t||u in i)&&i[u]===n)return t||u||0;return!t&&-1}};k2.exports={includes:A2(!0),indexOf:A2(!1)}});var v_=h(function(jlt,F2){var Sie=ie(),h_=Le(),Oie=er(),Pie=Yl().indexOf,Rie=Ku(),I2=Sie([].push);F2.exports=function(e,t){var r=Oie(e),n=0,a=[],i;for(i in r)!h_(Rie,i)&&h_(r,i)&&I2(a,i);for(;t.length>n;)h_(r,i=t[n++])&&(~Pie(a,i)||I2(a,i));return a}});var Bd=h(function(Ult,x2){x2.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var gi=h(function(C2){var qie=v_(),Eie=Bd(),Tie=Eie.concat("length","prototype");C2.f=Object.getOwnPropertyNames||function(t){return qie(t,Tie)}});var Ld=h(function(D2){D2.f=Object.getOwnPropertySymbols});var zd=h(function(Blt,j2){var Aie=Fe(),kie=ie(),Iie=gi(),Fie=Ld(),xie=V(),Cie=kie([].concat);j2.exports=Aie("Reflect","ownKeys")||function(t){var r=Iie.f(xie(t)),n=Fie.f;return n?Cie(r,n(t)):r}});var Hd=h(function(Llt,U2){var Die=Le(),jie=zd(),Uie=Dt(),Mie=Ne();U2.exports=function(e,t){for(var r=jie(t),n=Mie.f,a=Uie.f,i=0;i<r.length;i++){var o=r[i];Die(e,o)||n(e,o,a(t,o))}}});var Yu=h(function(zlt,M2){var Nie=ae(),Bie=Te(),Lie=/#|\.prototype\./,Xl=function(t,r){var n=Hie[zie(t)];return n==Wie?!0:n==$ie?!1:Bie(r)?Nie(r):!!r},zie=Xl.normalize=function(e){return String(e).replace(Lie,".").toLowerCase()},Hie=Xl.data={},$ie=Xl.NATIVE="N",Wie=Xl.POLYFILL="P";M2.exports=Xl});var P=h(function(Hlt,N2){function Jl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jl=function(r){return typeof r}:Jl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jl(e)}var y_=H(),Vie=Dt().f,Gie=At(),Kie=ct(),Yie=Ud(),Xie=Hd(),Jie=Yu();N2.exports=function(e,t){var r=e.target,n=e.global,a=e.stat,i,o,u,s,l,c;if(n?o=y_:a?o=y_[r]||Yie(r,{}):o=(y_[r]||{}).prototype,o)for(u in t){if(l=t[u],e.noTargetGet?(c=Vie(o,u),s=c&&c.value):s=o[u],i=Jie(n?u:r+(a?".":"#")+u,e.forced),!i&&s!==void 0){if(Jl(l)==Jl(s))continue;Xie(l,s)}(e.sham||s&&s.sham)&&Gie(l,"sham",!0),Kie(o,u,l,e)}}});var Ke=h(function($lt,z2){function $d(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$d=function(r){return typeof r}:$d=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$d(e)}var m_=Function.prototype,B2=m_.apply,Qie=m_.bind,L2=m_.call;z2.exports=(typeof Reflect=="undefined"?"undefined":$d(Reflect))=="object"&&Reflect.apply||(Qie?L2.bind(B2):function(){return L2.apply(B2,arguments)})});var _o=h(function(Wlt,H2){var Zie=yr();H2.exports=Array.isArray||function(t){return Zie(t)=="Array"}});var Wd=h(function(Vlt,W2){var eae=ge(),tae=eae("toStringTag"),$2={};$2[tae]="z";W2.exports=String($2)==="[object z]"});var ga=h(function(Glt,V2){var rae=H(),nae=Wd(),iae=Te(),Vd=yr(),aae=ge(),oae=aae("toStringTag"),uae=rae.Object,sae=Vd(function(){return arguments}())=="Arguments",lae=function(t,r){try{return t[r]}catch(n){}};V2.exports=nae?Vd:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=lae(t=uae(e),oae))=="string"?r:sae?Vd(t):(n=Vd(t))=="Object"&&iae(t.callee)?"Arguments":n}});var Be=h(function(Klt,G2){var cae=H(),fae=ga(),pae=cae.String;G2.exports=function(e){if(fae(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return pae(e)}});var wo=h(function(Ylt,K2){var dae=v_(),hae=Bd();K2.exports=Object.keys||function(t){return dae(t,hae)}});var Gd=h(function(Xlt,Y2){var vae=Ee(),yae=Ne(),mae=V(),gae=er(),bae=wo();Y2.exports=vae?Object.defineProperties:function(t,r){mae(t);for(var n=gae(r),a=bae(r),i=a.length,o=0,u;i>o;)yae.f(t,u=a[o++],n[u]);return t}});var g_=h(function(Jlt,X2){var _ae=Fe();X2.exports=_ae("document","documentElement")});var jt=h(function(Qlt,nF){var wae=V(),Sae=Gd(),J2=Bd(),Oae=Ku(),Pae=g_(),Rae=Wl(),qae=Gl(),Q2=">",Z2="<",b_="prototype",__="script",eF=qae("IE_PROTO"),w_=function(){},tF=function(t){return Z2+__+Q2+t+Z2+"/"+__+Q2},rF=function(t){t.write(tF("")),t.close();var r=t.parentWindow.Object;return t=null,r},Eae=function(){var t=Rae("iframe"),r="java"+__+":",n;return t.style.display="none",Pae.appendChild(t),t.src=String(r),n=t.contentWindow.document,n.open(),n.write(tF("document.F=Object")),n.close(),n.F},Kd,Yd=function(){try{Kd=new ActiveXObject("htmlfile")}catch(r){}Yd=typeof document!="undefined"?document.domain&&Kd?rF(Kd):Eae():rF(Kd);for(var t=J2.length;t--;)delete Yd[b_][J2[t]];return Yd()};Oae[eF]=!0;nF.exports=Object.create||function(t,r){var n;return t!==null?(w_[b_]=wae(t),n=new w_,w_[b_]=null,n[eF]=t):n=Yd(),r===void 0?n:Sae(n,r)}});var bi=h(function(Zlt,iF){"use strict";var Tae=yi(),Aae=Ne(),kae=yn();iF.exports=function(e,t,r){var n=Tae(t);n in e?Aae.f(e,n,kae(0,r)):e[n]=r}});var So=h(function(ect,oF){var Iae=H(),aF=mi(),Fae=Ge(),xae=bi(),Cae=Iae.Array,Dae=Math.max;oF.exports=function(e,t,r){for(var n=Fae(e),a=aF(t,n),i=aF(r===void 0?n:r,n),o=Cae(Dae(i-a,0)),u=0;a<i;a++,u++)xae(o,u,e[a]);return o.length=u,o}});var Jd=h(function(tct,lF){function Xd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xd=function(r){return typeof r}:Xd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xd(e)}var jae=yr(),Uae=er(),uF=gi().f,Mae=So(),sF=(typeof window=="undefined"?"undefined":Xd(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Nae=function(t){try{return uF(t)}catch(r){return Mae(sF)}};lF.exports.f=function(t){return sF&&jae(t)=="Window"?Nae(t):uF(Uae(t))}});var ba=h(function(rct,cF){var Bae=ie();cF.exports=Bae([].slice)});var S_=h(function(fF){var Lae=ge();fF.f=Lae});var dF=h(function(ict,pF){var zae=H();pF.exports=zae});var at=h(function(act,vF){var hF=dF(),Hae=Le(),$ae=S_(),Wae=Ne().f;vF.exports=function(e){var t=hF.Symbol||(hF.Symbol={});Hae(t,e)||Wae(t,e,{value:$ae.f(e)})}});var Kr=h(function(oct,mF){var Vae=Ne().f,Gae=Le(),Kae=ge(),yF=Kae("toStringTag");mF.exports=function(e,t,r){e&&!Gae(e=r?e:e.prototype,yF)&&Vae(e,yF,{configurable:!0,value:t})}});var Ye=h(function(uct,_F){var gF=ie(),Yae=pe(),bF=gF(gF.bind);_F.exports=function(e,t){return Yae(e),t===void 0?e:bF?bF(e,t):function(){return e.apply(t,arguments)}}});var Oo=h(function(sct,PF){var Xae=ie(),Jae=ae(),wF=Te(),Qae=ga(),Zae=Fe(),eoe=Vl(),SF=function(){},toe=[],OF=Zae("Reflect","construct"),O_=/^\s*(?:class|function)\b/,roe=Xae(O_.exec),noe=!O_.exec(SF),Ql=function(t){if(!wF(t))return!1;try{return OF(SF,toe,t),!0}catch(r){return!1}},ioe=function(t){if(!wF(t))return!1;switch(Qae(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return noe||!!roe(O_,eoe(t))};PF.exports=!OF||Jae(function(){var e;return Ql(Ql.call)||!Ql(Object)||!Ql(function(){e=!0})||e})?ioe:Ql});var TF=h(function(lct,EF){var aoe=H(),RF=_o(),ooe=Oo(),uoe=we(),soe=ge(),loe=soe("species"),qF=aoe.Array;EF.exports=function(e){var t;return RF(e)&&(t=e.constructor,ooe(t)&&(t===qF||RF(t.prototype))?t=void 0:uoe(t)&&(t=t[loe],t===null&&(t=void 0))),t===void 0?qF:t}});var Po=h(function(cct,AF){var coe=TF();AF.exports=function(e,t){return new(coe(e))(t===0?0:t)}});var kt=h(function(fct,IF){var foe=Ye(),poe=ie(),doe=yo(),hoe=xe(),voe=Ge(),yoe=Po(),kF=poe([].push),_a=function(t){var r=t==1,n=t==2,a=t==3,i=t==4,o=t==6,u=t==7,s=t==5||o;return function(l,c,f,p){for(var d=hoe(l),v=doe(d),m=foe(c,f),g=voe(v),w=0,b=p||yoe,O=r?b(l,g):n||u?b(l,0):void 0,T,x;g>w;w++)if((s||w in v)&&(T=v[w],x=m(T,w,d),t))if(r)O[w]=x;else if(x)switch(t){case 3:return!0;case 5:return T;case 6:return w;case 2:kF(O,T)}else switch(t){case 4:return!1;case 7:kF(O,T)}return o?-1:a||i?i:O}};IF.exports={forEach:_a(0),map:_a(1),filter:_a(2),some:_a(3),every:_a(4),find:_a(5),findIndex:_a(6),filterReject:_a(7)}});var ih=h(function(pct,ax){var iue=ae();ax.exports=!iue(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var Ut=h(function(dct,ux){var aue=H(),oue=Le(),uue=Te(),sue=xe(),lue=Gl(),cue=ih(),ox=lue("IE_PROTO"),B_=aue.Object,fue=B_.prototype;ux.exports=cue?B_.getPrototypeOf:function(e){var t=sue(e);if(oue(t,ox))return t[ox];var r=t.constructor;return uue(r)&&t instanceof r?r.prototype:t instanceof B_?fue:null}});var L_=h(function(hct,lx){function ah(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ah=function(r){return typeof r}:ah=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ah(e)}var sx=H(),pue=Te(),due=sx.String,hue=sx.TypeError;lx.exports=function(e){if(ah(e)=="object"||pue(e))return e;throw hue("Can't set "+due(e)+" as a prototype")}});var Oi=h(function(vct,cx){var vue=ie(),yue=V(),mue=L_();cx.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=vue(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(t,[]),e=t instanceof Array}catch(n){}return function(a,i){return yue(a),mue(i),e?r(a,i):a.__proto__=i,a}}():void 0)});var dx=h(function(yct,px){var z_=ie(),gue=So(),bue=z_("".replace),_ue=z_("".split),wue=z_([].join),H_=function(e){return String(Error(e).stack)}("zxcasd"),fx=/\n\s*at [^:]*:[^\n]*/,Sue=fx.test(H_),Oue=/@[^\n]*\n/.test(H_)&&!/zxcasd/.test(H_);px.exports=function(e,t){if(typeof e!="string")return e;if(Sue)for(;t--;)e=bue(e,fx,"");else if(Oue)return wue(gue(_ue(e,"\n"),t),"\n");return e}});var vx=h(function(mct,hx){var Pue=we(),Rue=At();hx.exports=function(e,t){Pue(t)&&"cause"in t&&Rue(e,"cause",t.cause)}});var Qu=h(function(gct,yx){yx.exports={}});var oh=h(function(bct,mx){var que=ge(),Eue=Qu(),Tue=que("iterator"),Aue=Array.prototype;mx.exports=function(e){return e!==void 0&&(Eue.Array===e||Aue[Tue]===e)}});var Pi=h(function(_ct,bx){var kue=ga(),gx=Ct(),Iue=Qu(),Fue=ge(),xue=Fue("iterator");bx.exports=function(e){if(e!=null)return gx(e,xue)||gx(e,"@@iterator")||Iue[kue(e)]}});var gn=h(function(wct,_x){var Cue=H(),Due=le(),jue=pe(),Uue=V(),Mue=$u(),Nue=Pi(),Bue=Cue.TypeError;_x.exports=function(e,t){var r=arguments.length<2?Nue(e):t;if(jue(r))return Uue(Due(r,e));throw Bue(Mue(e)+" is not iterable")}});var oc=h(function(Sct,Sx){var Lue=le(),wx=V(),zue=Ct();Sx.exports=function(e,t,r){var n,a;wx(e);try{if(n=zue(e,"return"),!n){if(t==="throw")throw r;return r}n=Lue(n,e)}catch(i){a=!0,n=i}if(t==="throw")throw r;if(a)throw n;return wx(n),r}});var ye=h(function(Oct,qx){function uh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uh=function(r){return typeof r}:uh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uh(e)}var Hue=H(),$ue=Ye(),Wue=le(),Vue=V(),Gue=$u(),Kue=oh(),Yue=Ge(),Ox=tr(),Xue=gn(),Jue=Pi(),Px=oc(),Que=Hue.TypeError,sh=function(t,r){this.stopped=t,this.result=r},Rx=sh.prototype;qx.exports=function(e,t,r){var n=r&&r.that,a=!!(r&&r.AS_ENTRIES),i=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),u=$ue(t,n),s,l,c,f,p,d,v,m=function(b){return s&&Px(s,"normal",b),new sh(!0,b)},g=function(b){return a?(Vue(b),o?u(b[0],b[1],m):u(b[0],b[1])):o?u(b,m):u(b)};if(i)s=e;else{if(l=Jue(e),!l)throw Que(Gue(e)+" is not iterable");if(Kue(l)){for(c=0,f=Yue(e);f>c;c++)if(p=g(e[c]),p&&Ox(Rx,p))return p;return new sh(!1)}s=Xue(e,l)}for(d=s.next;!(v=Wue(d,s)).done;){try{p=g(v.value)}catch(w){Px(s,"throw",w)}if(uh(p)=="object"&&p&&Ox(Rx,p))return p}return new sh(!1)}});var Tx=h(function(Pct,Ex){var Zue=Be();Ex.exports=function(e,t){return e===void 0?arguments.length<2?"":t:Zue(e)}});var kx=h(function(Rct,Ax){var ese=ae(),tse=yn();Ax.exports=!ese(function(){var e=Error("a");return"stack"in e?(Object.defineProperty(e,"stack",tse(1,7)),e.stack!==7):!0})});var V_=h(function(){"use strict";var rse=P(),nse=H(),ise=tr(),ase=Ut(),lh=Oi(),ose=Hd(),Ix=jt(),ch=At(),$_=yn(),use=dx(),sse=vx(),lse=ye(),cse=Tx(),fse=ge(),pse=kx(),dse=fse("toStringTag"),fh=nse.Error,hse=[].push,uc=function(t,r){var n=arguments.length>2?arguments[2]:void 0,a=ise(W_,this),i;lh?i=lh(new fh(void 0),a?ase(this):W_):(i=a?this:Ix(W_),ch(i,dse,"Error")),ch(i,"message",cse(r,"")),pse&&ch(i,"stack",use(i.stack,1)),sse(i,n);var o=[];return lse(t,hse,{that:o}),ch(i,"errors",o),i};lh?lh(uc,fh):ose(uc,fh);var W_=uc.prototype=Ix(fh.prototype,{constructor:$_(1,uc),message:$_(1,""),name:$_(1,"AggregateError")});rse({global:!0},{AggregateError:uc})});var Zu=h(function(Tct,Fx){var vse=ae(),yse=ge(),mse=mo(),gse=yse("species");Fx.exports=function(e){return mse>=51||!vse(function(){var t=[],r=t.constructor={};return r[gse]=function(){return{foo:1}},t[e](Boolean).foo!==1})}});var K_=h(function(Act,Mx){"use strict";var Cse=xe(),G_=mi(),Dse=Ge(),jse=Math.min;Mx.exports=[].copyWithin||function(t,r){var n=Cse(this),a=Dse(n),i=G_(t,a),o=G_(r,a),u=arguments.length>2?arguments[2]:void 0,s=jse((u===void 0?a:G_(u,a))-o,a-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=l,o+=l;return n}});var Yt=h(function(kct,Nx){var Use=ge(),Mse=jt(),Nse=Ne(),Y_=Use("unscopables"),X_=Array.prototype;X_[Y_]==null&&Nse.f(X_,Y_,{configurable:!0,value:Mse(null)});Nx.exports=function(e){X_[Y_][e]=!0}});var ph=h(function(Ict,Lx){"use strict";var Hse=xe(),Bx=mi(),$se=Ge();Lx.exports=function(t){for(var r=Hse(this),n=$se(r),a=arguments.length,i=Bx(a>1?arguments[1]:void 0,n),o=a>2?arguments[2]:void 0,u=o===void 0?n:Bx(o,n);u>i;)r[i++]=t;return r}});var Z_=h(function(Fct,$x){"use strict";var ile=H(),ale=_o(),ole=Ge(),ule=Ye(),sle=ile.TypeError,lle=function e(t,r,n,a,i,o,u,s){for(var l=i,c=0,f=u?ule(u,s):!1,p,d;c<a;){if(c in n){if(p=f?f(n[c],c,r):n[c],o>0&&ale(p))d=ole(p),l=e(t,r,p,d,l,o-1)-1;else{if(l>=9007199254740991)throw sle("Exceed the acceptable array length");t[l]=p}l++}c++}return l};$x.exports=lle});var dh=h(function(xct,Wx){var Sle=V(),Ole=oc();Wx.exports=function(e,t,r,n){try{return n?t(Sle(r)[0],r[1]):t(r)}catch(a){Ole(e,"throw",a)}}});var ew=h(function(Cct,Kx){"use strict";var Ple=H(),Rle=Ye(),qle=le(),Ele=xe(),Tle=dh(),Ale=oh(),kle=Oo(),Ile=Ge(),Vx=bi(),Fle=gn(),xle=Pi(),Gx=Ple.Array;Kx.exports=function(t){var r=Ele(t),n=kle(this),a=arguments.length,i=a>1?arguments[1]:void 0,o=i!==void 0;o&&(i=Rle(i,a>2?arguments[2]:void 0));var u=xle(r),s=0,l,c,f,p,d,v;if(u&&!(this==Gx&&Ale(u)))for(p=Fle(r,u),d=p.next,c=n?new this:[];!(f=qle(d,p)).done;s++)v=o?Tle(p,i,[f.value,s],!0):f.value,Vx(c,s,v);else for(l=Ile(r),c=n?new this(l):Gx(l);l>s;s++)v=o?i(r[s],s):r[s],Vx(c,s,v);return c.length=s,c}});var sc=h(function(Dct,Qx){var Cle=ge(),Yx=Cle("iterator"),Xx=!1;try{Jx=0,tw={next:function(){return{done:!!Jx++}},return:function(){Xx=!0}},tw[Yx]=function(){return this},Array.from(tw,function(){throw 2})}catch(e){}var Jx,tw;Qx.exports=function(e,t){if(!t&&!Xx)return!1;var r=!1;try{var n={};n[Yx]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(a){}return r}});var es=h(function(jct,tC){"use strict";var zle=ae(),Hle=Te(),$le=jt(),Zx=Ut(),Wle=ct(),Vle=ge(),Gle=de(),rw=Vle("iterator"),eC=!1,Ri,nw,iw;[].keys&&(iw=[].keys(),"next"in iw?(nw=Zx(Zx(iw)),nw!==Object.prototype&&(Ri=nw)):eC=!0);var Kle=Ri==null||zle(function(){var e={};return Ri[rw].call(e)!==e});Kle?Ri={}:Gle&&(Ri=$le(Ri));Hle(Ri[rw])||Wle(Ri,rw,function(){return this});tC.exports={IteratorPrototype:Ri,BUGGY_SAFARI_ITERATORS:eC}});var Oa=h(function(Uct,rC){"use strict";var Yle=es().IteratorPrototype,Xle=jt(),Jle=yn(),Qle=Kr(),Zle=Qu(),ece=function(){return this};rC.exports=function(e,t,r,n){var a=t+" Iterator";return e.prototype=Xle(Yle,{next:Jle(+!n,r)}),Qle(e,a,!1,!0),Zle[a]=ece,e}});var yh=h(function(Mct,pC){"use strict";var tce=P(),rce=le(),hh=de(),nC=ma(),nce=Te(),ice=Oa(),iC=Ut(),aC=Oi(),ace=Kr(),oce=At(),aw=ct(),uce=ge(),oC=Qu(),uC=es(),sce=nC.PROPER,lce=nC.CONFIGURABLE,sC=uC.IteratorPrototype,vh=uC.BUGGY_SAFARI_ITERATORS,lc=uce("iterator"),lC="keys",cc="values",cC="entries",fC=function(){return this};pC.exports=function(e,t,r,n,a,i,o){ice(r,t,n);var u=function(b){if(b===a&&p)return p;if(!vh&&b in c)return c[b];switch(b){case lC:return function(){return new r(this,b)};case cc:return function(){return new r(this,b)};case cC:return function(){return new r(this,b)}}return function(){return new r(this)}},s=t+" Iterator",l=!1,c=e.prototype,f=c[lc]||c["@@iterator"]||a&&c[a],p=!vh&&f||u(a),d=t=="Array"&&c.entries||f,v,m,g;if(d&&(v=iC(d.call(new e)),v!==Object.prototype&&v.next&&(!hh&&iC(v)!==sC&&(aC?aC(v,sC):nce(v[lc])||aw(v,lc,fC)),ace(v,s,!0,!0),hh&&(oC[s]=fC))),sce&&a==cc&&f&&f.name!==cc&&(!hh&&lce?oce(c,"name",cc):(l=!0,p=function(){return rce(f,this)})),a)if(m={values:u(cc),keys:i?p:u(lC),entries:u(cC)},o)for(g in m)(vh||l||!(g in c))&&aw(c,g,m[g]);else tce({target:t,proto:!0,forced:vh||l},m);return(!hh||o)&&c[lc]!==p&&aw(c,lc,p,{name:a}),oC[t]=p,m}});var fc=h(function(Nct,yC){"use strict";var cce=er(),ow=Yt(),dC=Qu(),hC=Ve(),fce=yh(),vC="Array Iterator",pce=hC.set,dce=hC.getterFor(vC);yC.exports=fce(Array,"Array",function(e,t){pce(this,{type:vC,target:cce(e),index:0,kind:t})},function(){var e=dce(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values");dC.Arguments=dC.Array;ow("keys");ow("values");ow("entries")});var pc=h(function(Bct,mC){"use strict";var hce=ae();mC.exports=function(e,t){var r=[][e];return!!r&&hce(function(){r.call(null,t||function(){throw 1},1)})}});var mh=h(function(Lct,SC){var wC=So(),Vce=Math.floor,Gce=function e(t,r){var n=t.length,a=Vce(n/2);return n<8?Kce(t,r):Yce(t,e(wC(t,0,a),r),e(wC(t,a),r),r)},Kce=function(t,r){for(var n=t.length,a=1,i,o;a<n;){for(o=a,i=t[a];o&&r(t[o-1],i)>0;)t[o]=t[--o];o!==a++&&(t[o]=i)}return t},Yce=function(t,r,n,a){for(var i=r.length,o=n.length,u=0,s=0;u<i||s<o;)t[u+s]=u<i&&s<o?a(r[u],n[s])<=0?r[u++]:n[s++]:u<i?r[u++]:n[s++];return t};SC.exports=Gce});var sw=h(function(zct,PC){var Xce=vi(),OC=Xce.match(/firefox\/(\d+)/i);PC.exports=!!OC&&+OC[1]});var lw=h(function(Hct,RC){var Jce=vi();RC.exports=/MSIE|Trident/.test(Jce)});var gh=h(function($ct,EC){var Qce=vi(),qC=Qce.match(/AppleWebKit\/(\d+)\./);EC.exports=!!qC&&+qC[1]});var Ra=h(function(Wct,jC){"use strict";var pfe=Fe(),dfe=Ne(),hfe=ge(),vfe=Ee(),DC=hfe("species");jC.exports=function(e){var t=pfe(e),r=dfe.f;vfe&&t&&!t[DC]&&r(t,DC,{configurable:!0,get:function(){return this}})}});var fw=h(function(Vct,UC){UC.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var bn=h(function(Gct,MC){var Cfe=ct();MC.exports=function(e,t,r){for(var n in t)Cfe(e,n,t[n],r);return e}});var Xr=h(function(Kct,NC){var Dfe=H(),jfe=tr(),Ufe=Dfe.TypeError;NC.exports=function(e,t){if(jfe(t,e))return e;throw Ufe("Incorrect invocation")}});var pw=h(function(Yct,BC){var Mfe=H(),Nfe=Kt(),Bfe=Ar(),Lfe=Mfe.RangeError;BC.exports=function(e){if(e===void 0)return 0;var t=Nfe(e),r=Bfe(t);if(t!==r)throw Lfe("Wrong length or index");return r}});var zC=h(function(Xct,LC){var zfe=H(),Hfe=zfe.Array,$fe=Math.abs,qi=Math.pow,Wfe=Math.floor,Vfe=Math.log,Gfe=Math.LN2,Kfe=function(t,r,n){var a=Hfe(n),i=n*8-r-1,o=(1<<i)-1,u=o>>1,s=r===23?qi(2,-24)-qi(2,-77):0,l=t<0||t===0&&1/t<0?1:0,c=0,f,p,d;for(t=$fe(t),t!=t||t===1/0?(p=t!=t?1:0,f=o):(f=Wfe(Vfe(t)/Gfe),d=qi(2,-f),t*d<1&&(f--,d*=2),f+u>=1?t+=s/d:t+=s*qi(2,1-u),t*d>=2&&(f++,d/=2),f+u>=o?(p=0,f=o):f+u>=1?(p=(t*d-1)*qi(2,r),f=f+u):(p=t*qi(2,u-1)*qi(2,r),f=0));r>=8;)a[c++]=p&255,p/=256,r-=8;for(f=f<<r|p,i+=r;i>0;)a[c++]=f&255,f/=256,i-=8;return a[--c]|=l*128,a},Yfe=function(t,r){var n=t.length,a=n*8-r-1,i=(1<<a)-1,o=i>>1,u=a-7,s=n-1,l=t[s--],c=l&127,f;for(l>>=7;u>0;)c=c*256+t[s--],u-=8;for(f=c&(1<<-u)-1,c>>=-u,u+=r;u>0;)f=f*256+t[s--],u-=8;if(c===0)c=1-o;else{if(c===i)return f?NaN:l?-1/0:1/0;f=f+qi(2,r),c=c-o}return(l?-1:1)*f*qi(2,c-r)};LC.exports={pack:Kfe,unpack:Yfe}});var _w=h(function(Jct,u3){"use strict";var bh=H(),dw=ie(),hw=Ee(),Xfe=fw(),HC=ma(),$C=At(),WC=bn(),vw=ae(),_h=Xr(),Jfe=Kt(),Qfe=Ar(),wh=pw(),VC=zC(),Zfe=Ut(),GC=Oi(),epe=gi().f,tpe=Ne().f,rpe=ph(),npe=So(),KC=Kr(),YC=Ve(),ipe=HC.PROPER,XC=HC.CONFIGURABLE,ts=YC.get,JC=YC.set,Sh="ArrayBuffer",QC="DataView",rs="prototype",ape="Wrong length",ZC="Wrong index",_n=bh[Sh],kr=_n,ns=kr&&kr[rs],Vn=bh[QC],Eo=Vn&&Vn[rs],e3=Object.prototype,ope=bh.Array,Oh=bh.RangeError,upe=dw(rpe),spe=dw([].reverse),t3=VC.pack,r3=VC.unpack,n3=function(t){return[t&255]},i3=function(t){return[t&255,t>>8&255]},a3=function(t){return[t&255,t>>8&255,t>>16&255,t>>24&255]},o3=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},lpe=function(t){return t3(t,23,4)},cpe=function(t){return t3(t,52,8)},Ph=function(t,r){tpe(t[rs],r,{get:function(){return ts(this)[r]}})},qa=function(t,r,n,a){var i=wh(n),o=ts(t);if(i+r>o.byteLength)throw Oh(ZC);var u=ts(o.buffer).bytes,s=i+o.byteOffset,l=npe(u,s,s+r);return a?l:spe(l)},Ea=function(t,r,n,a,i,o){var u=wh(n),s=ts(t);if(u+r>s.byteLength)throw Oh(ZC);for(var l=ts(s.buffer).bytes,c=u+s.byteOffset,f=a(+i),p=0;p<r;p++)l[c+p]=f[o?p:r-p-1]};if(!Xfe)kr=function(t){_h(this,ns);var r=wh(t);JC(this,{bytes:upe(ope(r),0),byteLength:r}),hw||(this.byteLength=r)},ns=kr[rs],Vn=function(t,r,n){_h(this,Eo),_h(t,ns);var a=ts(t).byteLength,i=Jfe(r);if(i<0||i>a)throw Oh("Wrong offset");if(n=n===void 0?a-i:Qfe(n),i+n>a)throw Oh(ape);JC(this,{buffer:t,byteLength:n,byteOffset:i}),hw||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},Eo=Vn[rs],hw&&(Ph(kr,"byteLength"),Ph(Vn,"buffer"),Ph(Vn,"byteLength"),Ph(Vn,"byteOffset")),WC(Eo,{getInt8:function(t){return qa(this,1,t)[0]<<24>>24},getUint8:function(t){return qa(this,1,t)[0]},getInt16:function(t){var r=qa(this,2,t,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=qa(this,2,t,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(t){return o3(qa(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return o3(qa(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return r3(qa(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return r3(qa(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,r){Ea(this,1,t,n3,r)},setUint8:function(t,r){Ea(this,1,t,n3,r)},setInt16:function(t,r){Ea(this,2,t,i3,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,r){Ea(this,2,t,i3,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,r){Ea(this,4,t,a3,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,r){Ea(this,4,t,a3,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,r){Ea(this,4,t,lpe,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,r){Ea(this,8,t,cpe,r,arguments.length>2?arguments[2]:void 0)}});else{if(yw=ipe&&_n.name!==Sh,!vw(function(){_n(1)})||!vw(function(){new _n(-1)})||vw(function(){return new _n,new _n(1.5),new _n(NaN),yw&&!XC})){for(kr=function(t){return _h(this,ns),new _n(wh(t))},kr[rs]=ns,mw=epe(_n),gw=0;mw.length>gw;)(Rh=mw[gw++])in kr||$C(kr,Rh,_n[Rh]);ns.constructor=kr}else yw&&XC&&$C(_n,"name",Sh);GC&&Zfe(Eo)!==e3&&GC(Eo,e3),dc=new Vn(new kr(2)),bw=dw(Eo.setInt8),dc.setInt8(0,2147483648),dc.setInt8(1,2147483649),(dc.getInt8(0)||!dc.getInt8(1))&&WC(Eo,{setInt8:function(t,r){bw(this,t,r<<24>>24)},setUint8:function(t,r){bw(this,t,r<<24>>24)}},{unsafe:!0})}var yw,mw,gw,Rh,dc,bw;KC(kr,Sh);KC(Vn,QC);u3.exports={ArrayBuffer:kr,DataView:Vn}});var c3=h(function(Qct,l3){"use strict";var ype=H(),mpe=V(),gpe=t_(),bpe=ype.TypeError;l3.exports=function(e){if(mpe(this),e==="string"||e==="default")e="string";else if(e!=="number")throw bpe("Incorrect hint");return gpe(this,e)}});var Sw=h(function(){var Cpe=P(),Dpe=H();Cpe({global:!0},{globalThis:Dpe})});var Th=h(function(tft,S3){var Xpe=ae();S3.exports=Xpe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var vc=h(function(rft,P3){var Jpe=ae(),Qpe=we(),Zpe=yr(),O3=Th(),Ah=Object.isExtensible,ede=Jpe(function(){Ah(1)});P3.exports=ede||O3?function(t){return!Qpe(t)||O3&&Zpe(t)=="ArrayBuffer"?!1:Ah?Ah(t):!0}:Ah});var is=h(function(nft,R3){var tde=ae();R3.exports=!tde(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Ta=h(function(ift,T3){function kh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kh=function(r){return typeof r}:kh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kh(e)}var rde=P(),nde=ie(),ide=Ku(),ade=we(),Ow=Le(),ode=Ne().f,q3=gi(),ude=Jd(),Pw=vc(),sde=Vu(),lde=is(),E3=!1,Ei=sde("meta"),cde=0,Rw=function(t){ode(t,Ei,{value:{objectID:"O"+cde++,weakData:{}}})},fde=function(t,r){if(!ade(t))return kh(t)=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Ow(t,Ei)){if(!Pw(t))return"F";if(!r)return"E";Rw(t)}return t[Ei].objectID},pde=function(t,r){if(!Ow(t,Ei)){if(!Pw(t))return!0;if(!r)return!1;Rw(t)}return t[Ei].weakData},dde=function(t){return lde&&E3&&Pw(t)&&!Ow(t,Ei)&&Rw(t),t},hde=function(){vde.enable=function(){},E3=!0;var t=q3.f,r=nde([].splice),n={};n[Ei]=1,t(n).length&&(q3.f=function(a){for(var i=t(a),o=0,u=i.length;o<u;o++)if(i[o]===Ei){r(i,o,1);break}return i},rde({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ude.f}))},vde=T3.exports={enable:hde,fastKey:fde,getWeakData:pde,onFreeze:dde};ide[Ei]=!0});var yc=h(function(aft,k3){var yde=Te(),mde=we(),A3=Oi();k3.exports=function(e,t,r){var n,a;return A3&&yde(n=t.constructor)&&n!==r&&mde(a=n.prototype)&&a!==r.prototype&&A3(e,a),e}});var mc=h(function(oft,F3){"use strict";var gde=P(),bde=H(),_de=ie(),I3=Yu(),wde=ct(),Sde=Ta(),Ode=ye(),Pde=Xr(),Rde=Te(),qw=we(),Ew=ae(),qde=sc(),Ede=Kr(),Tde=yc();F3.exports=function(e,t,r){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,i=n?"set":"add",o=bde[e],u=o&&o.prototype,s=o,l={},c=function(b){var O=_de(u[b]);wde(u,b,b=="add"?function(x){return O(this,x===0?0:x),this}:b=="delete"?function(T){return a&&!qw(T)?!1:O(this,T===0?0:T)}:b=="get"?function(x){return a&&!qw(x)?void 0:O(this,x===0?0:x)}:b=="has"?function(x){return a&&!qw(x)?!1:O(this,x===0?0:x)}:function(x,D){return O(this,x===0?0:x,D),this})},f=I3(e,!Rde(o)||!(a||u.forEach&&!Ew(function(){new o().entries().next()})));if(f)s=r.getConstructor(t,e,n,i),Sde.enable();else if(I3(e,!0)){var p=new s,d=p[i](a?{}:-0,1)!=p,v=Ew(function(){p.has(1)}),m=qde(function(w){new o(w)}),g=!a&&Ew(function(){for(var w=new o,b=5;b--;)w[i](b,b);return!w.has(-0)});m||(s=t(function(w,b){Pde(w,u);var O=Tde(new o,w,s);return b!=null&&Ode(b,O[i],{that:O,AS_ENTRIES:n}),O}),s.prototype=u,u.constructor=s),(v||g)&&(c("delete"),c("has"),n&&c("get")),(g||d)&&c(i),a&&u.clear&&delete u.clear}return l[e]=s,gde({global:!0,forced:s!=o},l),Ede(s,e),a||r.setStrong(s,e,n),s}});var Aw=h(function(uft,U3){"use strict";var Ade=Ne().f,kde=jt(),x3=bn(),Ide=Ye(),Fde=Xr(),xde=ye(),Cde=yh(),Dde=Ra(),gc=Ee(),C3=Ta().fastKey,D3=Ve(),j3=D3.set,Tw=D3.getterFor;U3.exports={getConstructor:function(t,r,n,a){var i=t(function(c,f){Fde(c,o),j3(c,{type:r,index:kde(null),first:void 0,last:void 0,size:0}),gc||(c.size=0),f!=null&&xde(f,c[a],{that:c,AS_ENTRIES:n})}),o=i.prototype,u=Tw(r),s=function(f,p,d){var v=u(f),m=l(f,p),g,w;return m?m.value=d:(v.last=m={index:w=C3(p,!0),key:p,value:d,previous:g=v.last,next:void 0,removed:!1},v.first||(v.first=m),g&&(g.next=m),gc?v.size++:f.size++,w!=="F"&&(v.index[w]=m)),f},l=function(f,p){var d=u(f),v=C3(p),m;if(v!=="F")return d.index[v];for(m=d.first;m;m=m.next)if(m.key==p)return m};return x3(o,{clear:function(){for(var f=this,p=u(f),d=p.index,v=p.first;v;)v.removed=!0,v.previous&&(v.previous=v.previous.next=void 0),delete d[v.index],v=v.next;p.first=p.last=void 0,gc?p.size=0:f.size=0},delete:function(f){var p=this,d=u(p),v=l(p,f);if(v){var m=v.next,g=v.previous;delete d.index[v.index],v.removed=!0,g&&(g.next=m),m&&(m.previous=g),d.first==v&&(d.first=m),d.last==v&&(d.last=g),gc?d.size--:p.size--}return!!v},forEach:function(f){for(var p=u(this),d=Ide(f,arguments.length>1?arguments[1]:void 0),v;v=v?v.next:p.first;)for(d(v.value,v.key,this);v&&v.removed;)v=v.previous},has:function(f){return!!l(this,f)}}),x3(o,n?{get:function(f){var p=l(this,f);return p&&p.value},set:function(f,p){return s(this,f===0?0:f,p)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),gc&&Ade(o,"size",{get:function(){return u(this).size}}),i},setStrong:function(t,r,n){var a=r+" Iterator",i=Tw(r),o=Tw(a);Cde(t,r,function(u,s){j3(this,{type:a,target:u,state:i(u),kind:s,last:void 0})},function(){for(var u=o(this),s=u.kind,l=u.last;l&&l.removed;)l=l.previous;return!u.target||!(u.last=l=l?l.next:u.state.first)?(u.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l.key,done:!1}:s=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}},n?"entries":"values",!n,!0),Dde(r)}}});var Ih=h(function(){"use strict";var jde=mc(),Ude=Aw();jde("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Ude)});var kw=h(function(cft,M3){var Mde=Math.log;M3.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Mde(1+t)}});var Fh=h(function(fft,H3){H3.exports=Math.sign||function(t){return(t=+t)==0||t!=t?t:t<0?-1:1}});var _c=h(function(pft,$3){var bc=Math.expm1,nhe=Math.exp;$3.exports=!bc||bc(10)>22025.465794806718||bc(10)<22025.465794806718||bc(-2e-17)!=-2e-17?function(t){return(t=+t)==0?t:t>-1e-6&&t<1e-6?t+t*t/2:nhe(t)-1}:bc});var Dw=h(function(dft,G3){var she=Fh(),lhe=Math.abs,xh=Math.pow,xw=xh(2,-52),Ch=xh(2,-23),che=xh(2,127)*(2-Ch),Cw=xh(2,-126),fhe=function(t){return t+1/xw-1/xw};G3.exports=Math.fround||function(t){var r=lhe(t),n=she(t),a,i;return r<Cw?n*fhe(r/Cw/Ch)*Cw*Ch:(a=(1+Ch/xw)*r,i=a-(a-r),i>che||i!=i?n*(1/0):n*i)}});var jw=h(function(hft,eD){var Lhe=ie();eD.exports=Lhe(1 .valueOf)});var wc=h(function(vft,tD){tD.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var To=h(function(yft,nD){var zhe=ie(),Hhe=Tt(),$he=Be(),Whe=wc(),rD=zhe("".replace),Dh="["+Whe+"]",Vhe=RegExp("^"+Dh+Dh+"*"),Ghe=RegExp(Dh+Dh+"*$"),Uw=function(t){return function(r){var n=$he(Hhe(r));return t&1&&(n=rD(n,Vhe,"")),t&2&&(n=rD(n,Ghe,"")),n}};nD.exports={start:Uw(1),end:Uw(2),trim:Uw(3)}});var zw=h(function(mft,uD){var fve=H(),pve=fve.isFinite;uD.exports=Number.isFinite||function(t){return typeof t=="number"&&pve(t)}});var Mh=h(function(gft,sD){var vve=we(),yve=Math.floor;sD.exports=Number.isInteger||function(t){return!vve(t)&&isFinite(t)&&yve(t)===t}});var dD=h(function(bft,pD){var lD=H(),Rve=ae(),qve=ie(),Eve=Be(),Tve=To().trim,Ave=wc(),kve=qve("".charAt),Nh=lD.parseFloat,cD=lD.Symbol,fD=cD&&cD.iterator,Ive=1/Nh(Ave+"-0")!=-1/0||fD&&!Rve(function(){Nh(Object(fD))});pD.exports=Ive?function(t){var r=Tve(Eve(t)),n=Nh(r);return n===0&&kve(r,0)=="-"?-0:n}:Nh});var Hw=h(function(_ft,_D){var vD=H(),xve=ae(),Cve=ie(),Dve=Be(),jve=To().trim,yD=wc(),Oc=vD.parseInt,mD=vD.Symbol,gD=mD&&mD.iterator,bD=/^[+-]?0x/i,Uve=Cve(bD.exec),Mve=Oc(yD+"08")!==8||Oc(yD+"0x16")!==22||gD&&!xve(function(){Oc(Object(gD))});_D.exports=Mve?function(t,r){var n=jve(Dve(t));return Oc(n,r>>>0||(Uve(bD,n)?16:10))}:Oc});var Bh=h(function(wft,SD){"use strict";var Bve=H(),Lve=Kt(),zve=Be(),Hve=Tt(),$ve=Bve.RangeError;SD.exports=function(t){var r=zve(Hve(this)),n="",a=Lve(t);if(a<0||a==1/0)throw $ve("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(r+=r))a&1&&(n+=r);return n}});var Kw=h(function(Sft,ID){"use strict";var AD=Ee(),Qve=ie(),Zve=le(),eye=ae(),Gw=wo(),tye=Ld(),rye=Hl(),nye=xe(),iye=yo(),os=Object.assign,kD=Object.defineProperty,aye=Qve([].concat);ID.exports=!os||eye(function(){if(AD&&os({b:1},os(kD({},"a",{enumerable:!0,get:function(){kD(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(a){t[a]=a}),os({},e)[r]!=7||Gw(os({},t)).join("")!=n})?function(t,r){for(var n=nye(t),a=arguments.length,i=1,o=tye.f,u=rye.f;a>i;)for(var s=iye(arguments[i++]),l=o?aye(Gw(s),o(s)):Gw(s),c=l.length,f=0,p;c>f;)p=l[f++],(!AD||Zve(u,s,p))&&(n[p]=s[p]);return n}:os});var Rc=h(function(Oft,CD){"use strict";var uye=de(),sye=H(),lye=ae(),xD=gh();CD.exports=uye||!lye(function(){if(!(xD&&xD<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete sye[e]}})});var Yw=h(function(Pft,UD){var Sye=Ee(),DD=ie(),Oye=wo(),Pye=er(),Rye=Hl().f,qye=DD(Rye),Eye=DD([].push),jD=function(t){return function(r){for(var n=Pye(r),a=Oye(n),i=a.length,o=0,u=[],s;i>o;)s=a[o++],(!Sye||qye(n,s))&&Eye(u,t?[s,n[s]]:n[s]);return u}};UD.exports={entries:jD(!0),values:jD(!1)}});var Jw=h(function(Rft,LD){LD.exports=Object.is||function(t,r){return t===r?t!==0||1/t==1/r:t!=t&&r!=r}});var GD=h(function(qft,VD){"use strict";var Kme=Wd(),Yme=ga();VD.exports=Kme?{}.toString:function(){return"[object "+Yme(this)+"]"}});var rS=h(function(Eft,KD){var tge=H();KD.exports=tge.Promise});var qc=h(function(Tft,YD){var rge=H(),nge=Oo(),ige=$u(),age=rge.TypeError;YD.exports=function(e){if(nge(e))return e;throw age(ige(e)+" is not a constructor")}});var rr=h(function(Aft,JD){var XD=V(),oge=qc(),uge=ge(),sge=uge("species");JD.exports=function(e,t){var r=XD(e).constructor,n;return r===void 0||(n=XD(r)[sge])==null?t:oge(n)}});var nS=h(function(kft,QD){var lge=vi();QD.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(lge)});var Ec=h(function(Ift,ZD){var cge=yr(),fge=H();ZD.exports=cge(fge.process)=="process"});var pS=h(function(Fft,uj){var Ir=H(),pge=Ke(),dge=Ye(),ej=Te(),hge=Le(),vge=ae(),tj=g_(),yge=ba(),rj=Wl(),mge=nS(),gge=Ec(),iS=Ir.setImmediate,aS=Ir.clearImmediate,bge=Ir.process,oS=Ir.Dispatch,_ge=Ir.Function,nj=Ir.MessageChannel,wge=Ir.String,uS=0,Tc={},ij="onreadystatechange",Ac,ko,sS,lS;try{Ac=Ir.location}catch(e){}var cS=function(t){if(hge(Tc,t)){var r=Tc[t];delete Tc[t],r()}},fS=function(t){return function(){cS(t)}},aj=function(t){cS(t.data)},oj=function(t){Ir.postMessage(wge(t),Ac.protocol+"//"+Ac.host)};(!iS||!aS)&&(iS=function(t){var r=yge(arguments,1);return Tc[++uS]=function(){pge(ej(t)?t:_ge(t),void 0,r)},ko(uS),uS},aS=function(t){delete Tc[t]},gge?ko=function(t){bge.nextTick(fS(t))}:oS&&oS.now?ko=function(t){oS.now(fS(t))}:nj&&!mge?(sS=new nj,lS=sS.port2,sS.port1.onmessage=aj,ko=dge(lS.postMessage,lS)):Ir.addEventListener&&ej(Ir.postMessage)&&!Ir.importScripts&&Ac&&Ac.protocol!=="file:"&&!vge(oj)?(ko=oj,Ir.addEventListener("message",aj,!1)):ij in rj("script")?ko=function(t){tj.appendChild(rj("script"))[ij]=function(){tj.removeChild(this),cS(t)}}:ko=function(t){setTimeout(fS(t),0)});uj.exports={set:iS,clear:aS}});var lj=h(function(xft,sj){var Sge=vi(),Oge=H();sj.exports=/ipad|iphone|ipod/i.test(Sge)&&Oge.Pebble!==void 0});var fj=h(function(Cft,cj){var Pge=vi();cj.exports=/web0s(?!.*chrome)/i.test(Pge)});var mS=h(function(Dft,bj){var Io=H(),pj=Ye(),Rge=Dt().f,dS=pS().set,qge=nS(),Ege=lj(),Tge=fj(),hS=Ec(),dj=Io.MutationObserver||Io.WebKitMutationObserver,hj=Io.document,vj=Io.process,zh=Io.Promise,yj=Rge(Io,"queueMicrotask"),mj=yj&&yj.value,kc,Fo,Ic,us,vS,yS,Hh,gj;mj||(kc=function(){var t,r;for(hS&&(t=vj.domain)&&t.exit();Fo;){r=Fo.fn,Fo=Fo.next;try{r()}catch(n){throw Fo?us():Ic=void 0,n}}Ic=void 0,t&&t.enter()},!qge&&!hS&&!Tge&&dj&&hj?(vS=!0,yS=hj.createTextNode(""),new dj(kc).observe(yS,{characterData:!0}),us=function(){yS.data=vS=!vS}):!Ege&&zh&&zh.resolve?(Hh=zh.resolve(void 0),Hh.constructor=zh,gj=pj(Hh.then,Hh),us=function(){gj(kc)}):hS?us=function(){vj.nextTick(kc)}:(dS=pj(dS,Io),us=function(){dS(kc)}));bj.exports=mj||function(e){var t={fn:e,next:void 0};Ic&&(Ic.next=t),Fo||(Fo=t,us()),Ic=t}});var ss=h(function(jft,wj){"use strict";var _j=pe(),Age=function(t){var r,n;this.promise=new t(function(a,i){if(r!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");r=a,n=i}),this.resolve=_j(r),this.reject=_j(n)};wj.exports.f=function(e){return new Age(e)}});var gS=h(function(Uft,Sj){var kge=V(),Ige=we(),Fge=ss();Sj.exports=function(e,t){if(kge(e),Ige(t)&&t.constructor===e)return t;var r=Fge.f(e),n=r.resolve;return n(t),r.promise}});var bS=h(function(Mft,Oj){var xge=H();Oj.exports=function(e,t){var r=xge.console;r&&r.error&&(arguments.length==1?r.error(e):r.error(e,t))}});var Fc=h(function(Nft,Pj){Pj.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}});var qj=h(function(Bft,Rj){function $h(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$h=function(r){return typeof r}:$h=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$h(e)}Rj.exports=(typeof window=="undefined"?"undefined":$h(window))=="object"});var AS=h(function(){"use strict";var ibe=P(),abe=le(),obe=pe(),ube=ss(),sbe=Fc(),lbe=ye();ibe({target:"Promise",stat:!0},{allSettled:function(t){var r=this,n=ube.f(r),a=n.resolve,i=n.reject,o=sbe(function(){var u=obe(r.resolve),s=[],l=0,c=1;lbe(t,function(f){var p=l++,d=!1;c++,abe(u,r,f).then(function(v){d||(d=!0,s[p]={status:"fulfilled",value:v},--c||a(s))},function(v){d||(d=!0,s[p]={status:"rejected",reason:v},--c||a(s))})}),--c||a(s)});return o.error&&i(o.value),n.promise}})});var kS=h(function(){"use strict";var cbe=P(),fbe=pe(),pbe=Fe(),dbe=le(),hbe=ss(),vbe=Fc(),ybe=ye(),Gj="No one promise resolved";cbe({target:"Promise",stat:!0},{any:function(t){var r=this,n=pbe("AggregateError"),a=hbe.f(r),i=a.resolve,o=a.reject,u=vbe(function(){var s=fbe(r.resolve),l=[],c=0,f=1,p=!1;ybe(t,function(d){var v=c++,m=!1;f++,dbe(s,r,d).then(function(g){m||p||(p=!0,i(g))},function(g){m||p||(m=!0,l[v]=g,--f||o(new n(l,Gj)))})}),--f||o(new n(l,Gj))});return u.error&&o(u.value),a.promise}})});var tU=h(function(Wft,eU){"use strict";var Abe=H(),Jj=ie(),kbe=pe(),Ibe=we(),Fbe=Le(),Qj=ba(),Zj=Abe.Function,xbe=Jj([].concat),Cbe=Jj([].join),FS={},Dbe=function(t,r,n){if(!Fbe(FS,r)){for(var a=[],i=0;i<r;i++)a[i]="a["+i+"]";FS[r]=Zj("C,a","return new C("+Cbe(a,",")+")")}return FS[r](t,n)};eU.exports=Zj.bind||function(t){var r=kbe(this),n=r.prototype,a=Qj(arguments,1),i=function(){var u=xbe(a,Qj(arguments));return this instanceof i?Dbe(r,u.length,u):r.apply(t,u)};return Ibe(n)&&(i.prototype=n),i}});var DS=h(function(Vft,fU){var cU=Le();fU.exports=function(e){return e!==void 0&&(cU(e,"value")||cU(e,"writable"))}});var ds=h(function(Gft,gU){var D0e=we(),j0e=yr(),U0e=ge(),M0e=U0e("match");gU.exports=function(e){var t;return D0e(e)&&((t=e[M0e])!==void 0?!!t:j0e(e)=="RegExp")}});var Co=h(function(Kft,bU){"use strict";var N0e=V();bU.exports=function(){var e=N0e(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}});var jc=h(function(Yft,_U){var US=ae(),B0e=H(),MS=B0e.RegExp,NS=US(function(){var e=MS("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),L0e=NS||US(function(){return!MS("a","y").sticky}),z0e=NS||US(function(){var e=MS("^r","gy");return e.lastIndex=2,e.exec("str")!=null});_U.exports={BROKEN_CARET:z0e,MISSED_STICKY:L0e,UNSUPPORTED_Y:NS}});var Xh=h(function(Xft,wU){var H0e=ae(),$0e=H(),W0e=$0e.RegExp;wU.exports=H0e(function(){var e=W0e(".","s");return!(e.dotAll&&e.exec("\n")&&e.flags==="s")})});var BS=h(function(Jft,SU){var V0e=ae(),G0e=H(),K0e=G0e.RegExp;SU.exports=V0e(function(){var e=K0e("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"})});var Uc=h(function(Qft,CU){"use strict";var ys=le(),Qh=ie(),E_e=Be(),T_e=Co(),A_e=jc(),k_e=Wu(),I_e=jt(),F_e=Ve().get,x_e=Xh(),C_e=BS(),D_e=k_e("native-string-replace",String.prototype.replace),Zh=RegExp.prototype.exec,WS=Zh,j_e=Qh("".charAt),U_e=Qh("".indexOf),M_e=Qh("".replace),VS=Qh("".slice),GS=function(){var e=/a/,t=/b*/g;return ys(Zh,e,"a"),ys(Zh,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),xU=A_e.BROKEN_CARET,KS=/()??/.exec("")[1]!==void 0,N_e=GS||KS||xU||x_e||C_e;N_e&&(WS=function(t){var r=this,n=F_e(r),a=E_e(t),i=n.raw,o,u,s,l,c,f,p;if(i)return i.lastIndex=r.lastIndex,o=ys(WS,i,a),r.lastIndex=i.lastIndex,o;var d=n.groups,v=xU&&r.sticky,m=ys(T_e,r),g=r.source,w=0,b=a;if(v&&(m=M_e(m,"y",""),U_e(m,"g")===-1&&(m+="g"),b=VS(a,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&j_e(a,r.lastIndex-1)!=="\n")&&(g="(?: "+g+")",b=" "+b,w++),u=new RegExp("^(?:"+g+")",m)),KS&&(u=new RegExp("^"+g+"$(?!\\s)",m)),GS&&(s=r.lastIndex),l=ys(Zh,v?u:r,b),v?l?(l.input=VS(l.input,w),l[0]=VS(l[0],w),l.index=r.lastIndex,r.lastIndex+=l[0].length):r.lastIndex=0:GS&&l&&(r.lastIndex=r.global?l.index+l[0].length:s),KS&&l&&l.length>1&&ys(D_e,l[0],u,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(l[c]=void 0)}),l&&d)for(l.groups=f=I_e(null),c=0;c<d.length;c++)p=d[c],f[p[0]]=l[p[1]];return l});CU.exports=WS});var ev=h(function(){"use strict";var B_e=P(),DU=Uc();B_e({target:"RegExp",proto:!0,forced:/./.exec!==DU},{exec:DU})});var jo=h(function(tpt,zU){var JS=ie(),_we=Kt(),wwe=Be(),Swe=Tt(),Owe=JS("".charAt),BU=JS("".charCodeAt),Pwe=JS("".slice),LU=function(t){return function(r,n){var a=wwe(Swe(r)),i=_we(n),o=a.length,u,s;return i<0||i>=o?t?"":void 0:(u=BU(a,i),u<55296||u>56319||i+1===o||(s=BU(a,i+1))<56320||s>57343?t?Owe(a,i):u:t?Pwe(a,i,i+2):(u-55296<<10)+(s-56320)+65536)}};zU.exports={codeAt:LU(!1),charAt:LU(!0)}});var tv=h(function(rpt,HU){var Ewe=H(),Twe=ds(),Awe=Ewe.TypeError;HU.exports=function(e){if(Twe(e))throw Awe("The method doesn't accept regular expressions");return e}});var rv=h(function(npt,$U){var kwe=ge(),Iwe=kwe("match");$U.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[Iwe]=!1,"/./"[e](t)}catch(n){}}return!1}});var QS=h(function(){"use strict";var tSe=jo().charAt,rSe=Be(),QU=Ve(),nSe=yh(),ZU="String Iterator",iSe=QU.set,aSe=QU.getterFor(ZU);nSe(String,"String",function(e){iSe(this,{type:ZU,string:rSe(e),index:0})},function(){var t=aSe(this),r=t.string,n=t.index,a;return n>=r.length?{value:void 0,done:!0}:(a=tSe(r,n),t.index+=a.length,{value:a,done:!1})})});var Mc=h(function(opt,iM){"use strict";ev();var eM=ie(),tM=ct(),oSe=Uc(),rM=ae(),nM=ge(),uSe=At(),sSe=nM("species"),ZS=RegExp.prototype;iM.exports=function(e,t,r,n){var a=nM(e),i=!rM(function(){var l={};return l[a]=function(){return 7},""[e](l)!=7}),o=i&&!rM(function(){var l=!1,c=/a/;return e==="split"&&(c={},c.constructor={},c.constructor[sSe]=function(){return c},c.flags="",c[a]=/./[a]),c.exec=function(){return l=!0,null},c[a](""),!l});if(!i||!o||r){var u=eM(/./[a]),s=t(a,""[e],function(l,c,f,p,d){var v=eM(l),m=c.exec;return m===oSe||m===ZS.exec?i&&!d?{done:!0,value:u(c,f,p)}:{done:!0,value:v(f,c,p)}:{done:!1}});tM(String.prototype,e,s[0]),tM(ZS,a,s[1])}n&&uSe(ZS[a],"sham",!0)}});var Nc=h(function(upt,aM){"use strict";var lSe=jo().charAt;aM.exports=function(e,t,r){return t+(r?lSe(e,t).length:1)}});var ms=h(function(spt,uM){var cSe=H(),oM=le(),fSe=V(),pSe=Te(),dSe=yr(),hSe=Uc(),vSe=cSe.TypeError;uM.exports=function(e,t){var r=e.exec;if(pSe(r)){var n=oM(r,e,t);return n!==null&&fSe(n),n}if(dSe(e)==="RegExp")return oM(hSe,e,t);throw vSe("RegExp#exec called on incompatible receiver")}});var oO=h(function(){"use strict";var OSe=P(),PSe=H(),lM=le(),tO=ie(),RSe=Oa(),cM=Tt(),fM=Ar(),Bc=Be(),qSe=V(),ESe=yr(),TSe=tr(),ASe=ds(),kSe=Co(),ISe=Ct(),FSe=ct(),xSe=ae(),CSe=ge(),DSe=rr(),jSe=Nc(),USe=ms(),pM=Ve(),rO=de(),nv=CSe("matchAll"),dM="RegExp String",hM=dM+" Iterator",MSe=pM.set,NSe=pM.getterFor(hM),Lc=RegExp.prototype,BSe=PSe.TypeError,vM=tO(kSe),nO=tO("".indexOf),iv=tO("".matchAll),iO=!!iv&&!xSe(function(){iv("a",/./)}),LSe=RSe(function(t,r,n,a){MSe(this,{type:hM,regexp:t,string:r,global:n,unicode:a,done:!1})},dM,function(){var t=NSe(this);if(t.done)return{value:void 0,done:!0};var r=t.regexp,n=t.string,a=USe(r,n);return a===null?{value:void 0,done:t.done=!0}:t.global?(Bc(a[0])===""&&(r.lastIndex=jSe(n,fM(r.lastIndex),t.unicode)),{value:a,done:!1}):(t.done=!0,{value:a,done:!1})}),aO=function(t){var r=qSe(this),n=Bc(t),a,i,o,u,s,l;return a=DSe(r,RegExp),i=r.flags,i===void 0&&TSe(Lc,r)&&!("flags"in Lc)&&(i=vM(r)),o=i===void 0?"":Bc(i),u=new a(a===RegExp?r.source:r,o),s=!!~nO(o,"g"),l=!!~nO(o,"u"),u.lastIndex=fM(r.lastIndex),new LSe(u,n,s,l)};OSe({target:"String",proto:!0,forced:iO},{matchAll:function(t){var r=cM(this),n,a,i,o;if(t!=null){if(ASe(t)&&(n=Bc(cM("flags"in Lc?t.flags:vM(t))),!~nO(n,"g")))throw BSe("`.matchAll` does not allow non-global regexes");if(iO)return iv(r,t);if(i=ISe(t,nv),i===void 0&&rO&&ESe(t)=="RegExp"&&(i=aO),i)return lM(i,t,r)}else if(iO)return iv(r,t);return a=Bc(r),o=new RegExp(t,"g"),rO?lM(aO,o,a):o[nv](a)}});rO||nv in Lc||FSe(Lc,nv,aO)});var uO=h(function(fpt,bM){var yM=ie(),zSe=Ar(),mM=Be(),HSe=Bh(),$Se=Tt(),WSe=yM(HSe),VSe=yM("".slice),GSe=Math.ceil,gM=function(t){return function(r,n,a){var i=mM($Se(r)),o=zSe(n),u=i.length,s=a===void 0?" ":mM(a),l,c;return o<=u||s==""?i:(l=o-u,c=WSe(s,GSe(l/s.length)),c.length>l&&(c=VSe(c,0,l)),t?i+c:c+i)}};bM.exports={start:gM(!1),end:gM(!0)}});var sO=h(function(ppt,_M){var KSe=vi();_M.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(KSe)});var pO=h(function(dpt,PM){var lO=ie(),sOe=xe(),lOe=Math.floor,cO=lO("".charAt),cOe=lO("".replace),fO=lO("".slice),fOe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,pOe=/\$([$&'`]|\d{1,2})/g;PM.exports=function(e,t,r,n,a,i){var o=r+e.length,u=n.length,s=pOe;return a!==void 0&&(a=sOe(a),s=fOe),cOe(i,s,function(l,c){var f;switch(cO(c,0)){case"$":return"$";case"&":return e;case"`":return fO(t,0,r);case"'":return fO(t,o);case"<":f=a[fO(c,1,-1)];break;default:var p=+c;if(p===0)return l;if(p>u){var d=lOe(p/10);return d===0?l:d<=u?n[d-1]===void 0?cO(c,1):n[d-1]+cO(c,1):l}f=n[p-1]}return f===void 0?"":f})}});var vO=h(function(){"use strict";var FOe=P(),xOe=H(),COe=le(),ov=ie(),AM=Tt(),DOe=Te(),jOe=ds(),bs=Be(),UOe=Ct(),MOe=Co(),NOe=pO(),BOe=ge(),LOe=de(),zOe=BOe("replace"),HOe=RegExp.prototype,$Oe=xOe.TypeError,WOe=ov(MOe),kM=ov("".indexOf),VOe=ov("".replace),IM=ov("".slice),GOe=Math.max,FM=function(t,r,n){return n>t.length?-1:r===""?n:kM(t,r,n)};FOe({target:"String",proto:!0},{replaceAll:function(t,r){var n=AM(this),a,i,o,u,s,l,c,f,p,d=0,v=0,m="";if(t!=null){if(a=jOe(t),a&&(i=bs(AM("flags"in HOe?t.flags:WOe(t))),!~kM(i,"g")))throw $Oe("`.replaceAll` does not allow non-global regexes");if(o=UOe(t,zOe),o)return COe(o,t,n,r);if(LOe&&a)return VOe(bs(n),t,r)}for(u=bs(n),s=bs(t),l=DOe(r),l||(r=bs(r)),c=s.length,f=GOe(1,c),d=FM(u,s,0);d!==-1;)p=l?bs(r(s,d,u)):NOe(s,u,d,[],void 0,r),m+=IM(u,v,d)+p,v=d+c,d=FM(u,s,d+f);return v<u.length&&(m+=IM(u,v)),m}})});var uv=h(function(ypt,VM){var P1e=ma().PROPER,R1e=ae(),$M=wc(),WM="\u200B\x85\u180E";VM.exports=function(e){return R1e(function(){return!!$M[e]()||WM[e]()!==WM||P1e&&$M[e].name!==e})}});var gr=h(function(mpt,QM){var D1e=ie(),j1e=Tt(),JM=Be(),U1e=/"/g,M1e=D1e("".replace);QM.exports=function(e,t,r,n){var a=JM(j1e(e)),i="<"+t;return r!==""&&(i+=" "+r+'="'+M1e(JM(n),U1e,"&quot;")+'"'),i+">"+a+"</"+t+">"}});var br=h(function(gpt,ZM){var N1e=ae();ZM.exports=function(e){return N1e(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}});var Ae=h(function(bpt,uN){"use strict";var RPe=fw(),gO=Ee(),nr=H(),eN=Te(),bO=we(),Uo=Le(),_O=ga(),qPe=$u(),wO=At(),SO=ct(),EPe=Ne().f,TPe=tr(),OO=Ut(),Ss=Oi(),APe=ge(),tN=Vu(),sv=nr.Int8Array,PO=sv&&sv.prototype,rN=nr.Uint8ClampedArray,nN=rN&&rN.prototype,Kn=sv&&OO(sv),wn=PO&&OO(PO),kPe=Object.prototype,RO=nr.TypeError,iN=APe("toStringTag"),qO=tN("TYPED_ARRAY_TAG"),EO=tN("TYPED_ARRAY_CONSTRUCTOR"),Fi=RPe&&!!Ss&&_O(nr.opera)!=="Opera",aN=!1,_r,ka,Os,xi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},TO={BigInt64Array:8,BigUint64Array:8},IPe=function(t){if(!bO(t))return!1;var r=_O(t);return r==="DataView"||Uo(xi,r)||Uo(TO,r)},oN=function(t){if(!bO(t))return!1;var r=_O(t);return Uo(xi,r)||Uo(TO,r)},FPe=function(t){if(oN(t))return t;throw RO("Target is not a typed array")},xPe=function(t){if(eN(t)&&(!Ss||TPe(Kn,t)))return t;throw RO(qPe(t)+" is not a typed array constructor")},CPe=function(t,r,n){if(!!gO){if(n)for(var a in xi){var i=nr[a];if(i&&Uo(i.prototype,t))try{delete i.prototype[t]}catch(o){}}(!wn[t]||n)&&SO(wn,t,n?r:Fi&&PO[t]||r)}},DPe=function(t,r,n){var a,i;if(!!gO){if(Ss){if(n){for(a in xi)if(i=nr[a],i&&Uo(i,t))try{delete i[t]}catch(o){}}if(!Kn[t]||n)try{return SO(Kn,t,n?r:Fi&&Kn[t]||r)}catch(o){}else return}for(a in xi)i=nr[a],i&&(!i[t]||n)&&SO(i,t,r)}};for(_r in xi)ka=nr[_r],Os=ka&&ka.prototype,Os?wO(Os,EO,ka):Fi=!1;for(_r in TO)ka=nr[_r],Os=ka&&ka.prototype,Os&&wO(Os,EO,ka);if((!Fi||!eN(Kn)||Kn===Function.prototype)&&(Kn=function(){throw RO("Incorrect invocation")},Fi))for(_r in xi)nr[_r]&&Ss(nr[_r],Kn);if((!Fi||!wn||wn===kPe)&&(wn=Kn.prototype,Fi))for(_r in xi)nr[_r]&&Ss(nr[_r].prototype,wn);Fi&&OO(nN)!==wn&&Ss(nN,wn);if(gO&&!Uo(wn,iN)){aN=!0,EPe(wn,iN,{get:function(){return bO(this)?this[qO]:void 0}});for(_r in xi)nr[_r]&&wO(nr[_r],qO,_r)}uN.exports={NATIVE_ARRAY_BUFFER_VIEWS:Fi,TYPED_ARRAY_CONSTRUCTOR:EO,TYPED_ARRAY_TAG:aN&&qO,aTypedArray:FPe,aTypedArrayConstructor:xPe,exportTypedArrayMethod:CPe,exportTypedArrayStaticMethod:DPe,isView:IPe,isTypedArray:oN,TypedArray:Kn,TypedArrayPrototype:wn}});var lv=h(function(_pt,lN){var sN=H(),AO=ae(),jPe=sc(),UPe=Ae().NATIVE_ARRAY_BUFFER_VIEWS,MPe=sN.ArrayBuffer,Mo=sN.Int8Array;lN.exports=!UPe||!AO(function(){Mo(1)})||!AO(function(){new Mo(-1)})||!jPe(function(e){new Mo,new Mo(null),new Mo(1.5),new Mo(e)},!0)||AO(function(){return new Mo(new MPe(2),1,void 0).length!==1})});var Ps=h(function(wpt,cN){var NPe=H(),BPe=Kt(),LPe=NPe.RangeError;cN.exports=function(e){var t=BPe(e);if(t<0)throw LPe("The argument can't be less than 0");return t}});var kO=h(function(Spt,fN){var zPe=H(),HPe=Ps(),$Pe=zPe.RangeError;fN.exports=function(e,t){var r=HPe(e);if(r%t)throw $Pe("Wrong offset");return r}});var IO=h(function(Opt,pN){var WPe=Ye(),VPe=le(),GPe=qc(),KPe=xe(),YPe=Ge(),XPe=gn(),JPe=Pi(),QPe=oh(),ZPe=Ae().aTypedArrayConstructor;pN.exports=function(t){var r=GPe(this),n=KPe(t),a=arguments.length,i=a>1?arguments[1]:void 0,o=i!==void 0,u=JPe(n),s,l,c,f,p,d;if(u&&!QPe(u))for(p=XPe(n,u),d=p.next,n=[];!(f=VPe(d,p)).done;)n.push(f.value);for(o&&a>2&&(i=WPe(i,arguments[2])),l=YPe(n),c=new(ZPe(r))(l),s=0;l>s;s++)c[s]=o?i(n[s],s):n[s];return c}});var Yn=h(function(Ppt,NO){"use strict";var dN=P(),hN=H(),vN=le(),eRe=Ee(),tRe=lv(),No=Ae(),yN=_w(),mN=Xr(),rRe=yn(),Rs=At(),nRe=Mh(),iRe=Ar(),gN=pw(),FO=kO(),bN=yi(),$c=Le(),aRe=ga(),xO=we(),oRe=Hu(),uRe=jt(),sRe=tr(),cv=Oi(),lRe=gi().f,_N=IO(),cRe=kt().forEach,fRe=Ra(),wN=Ne(),SN=Dt(),ON=Ve(),pRe=yc(),CO=ON.get,dRe=ON.set,DO=wN.f,hRe=SN.f,vRe=Math.round,jO=hN.RangeError,PN=yN.ArrayBuffer,yRe=PN.prototype,mRe=yN.DataView,fv=No.NATIVE_ARRAY_BUFFER_VIEWS,gRe=No.TYPED_ARRAY_CONSTRUCTOR,RN=No.TYPED_ARRAY_TAG,qN=No.TypedArray,Wc=No.TypedArrayPrototype,bRe=No.aTypedArrayConstructor,UO=No.isTypedArray,pv="BYTES_PER_ELEMENT",MO="Wrong length",EN=function(t,r){bRe(t);for(var n=0,a=r.length,i=new t(a);a>n;)i[n]=r[n++];return i},dv=function(t,r){DO(t,r,{get:function(){return CO(this)[r]}})},TN=function(t){var r;return sRe(yRe,t)||(r=aRe(t))=="ArrayBuffer"||r=="SharedArrayBuffer"},AN=function(t,r){return UO(t)&&!oRe(r)&&r in t&&nRe(+r)&&r>=0},kN=function(t,r){return r=bN(r),AN(t,r)?rRe(2,t[r]):hRe(t,r)},IN=function(t,r,n){return r=bN(r),AN(t,r)&&xO(n)&&$c(n,"value")&&!$c(n,"get")&&!$c(n,"set")&&!n.configurable&&(!$c(n,"writable")||n.writable)&&(!$c(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):DO(t,r,n)};eRe?(fv||(SN.f=kN,wN.f=IN,dv(Wc,"buffer"),dv(Wc,"byteOffset"),dv(Wc,"byteLength"),dv(Wc,"length")),dN({target:"Object",stat:!0,forced:!fv},{getOwnPropertyDescriptor:kN,defineProperty:IN}),NO.exports=function(e,t,r){var n=e.match(/\d+$/)[0]/8,a=e+(r?"Clamped":"")+"Array",i="get"+e,o="set"+e,u=hN[a],s=u,l=s&&s.prototype,c={},f=function(m,g){var w=CO(m);return w.view[i](g*n+w.byteOffset,!0)},p=function(m,g,w){var b=CO(m);r&&(w=(w=vRe(w))<0?0:w>255?255:w&255),b.view[o](g*n+b.byteOffset,w,!0)},d=function(m,g){DO(m,g,{get:function(){return f(this,g)},set:function(b){return p(this,g,b)},enumerable:!0})};fv?tRe&&(s=t(function(v,m,g,w){return mN(v,l),pRe(function(){return xO(m)?TN(m)?w!==void 0?new u(m,FO(g,n),w):g!==void 0?new u(m,FO(g,n)):new u(m):UO(m)?EN(s,m):vN(_N,s,m):new u(gN(m))}(),v,s)}),cv&&cv(s,qN),cRe(lRe(u),function(v){v in s||Rs(s,v,u[v])}),s.prototype=l):(s=t(function(v,m,g,w){mN(v,l);var b=0,O=0,T,x,D;if(!xO(m))D=gN(m),x=D*n,T=new PN(x);else if(TN(m)){T=m,O=FO(g,n);var N=m.byteLength;if(w===void 0){if(N%n||(x=N-O,x<0))throw jO(MO)}else if(x=iRe(w)*n,x+O>N)throw jO(MO);D=x/n}else return UO(m)?EN(s,m):vN(_N,s,m);for(dRe(v,{buffer:T,byteOffset:O,byteLength:x,length:D,view:new mRe(T)});b<D;)d(v,b++)}),cv&&cv(s,qN),l=s.prototype=uRe(Wc)),l.constructor!==s&&Rs(l,"constructor",s),Rs(l,gRe,s),RN&&Rs(l,RN,a),c[a]=s,dN({global:!0,forced:s!=u,sham:!fv},c),pv in s||Rs(s,pv,n),pv in l||Rs(l,pv,n),fRe(a)}):NO.exports=function(){}});var jN=h(function(Rpt,DN){DN.exports=function(e,t){for(var r=0,n=t.length,a=new e(n);n>r;)a[r]=t[r++];return a}});var Vc=h(function(qpt,MN){var UN=Ae(),LRe=rr(),zRe=UN.TYPED_ARRAY_CONSTRUCTOR,HRe=UN.aTypedArrayConstructor;MN.exports=function(e){return HRe(LRe(e,e[zRe]))}});var hv=h(function(Ept,NN){var $Re=jN(),WRe=Vc();NN.exports=function(e,t){return $Re(WRe(e),t)}});var r5=h(function(Tpt,t5){"use strict";var Oqe=Ke(),Pqe=er(),Rqe=Kt(),qqe=Ge(),Eqe=pc(),Tqe=Math.min,HO=[].lastIndexOf,e5=!!HO&&1/[1].lastIndexOf(1,-0)<0,Aqe=Eqe("lastIndexOf"),kqe=e5||!Aqe;t5.exports=kqe?function(t){if(e5)return Oqe(HO,this,arguments)||0;var r=Pqe(this),n=qqe(r),a=n-1;for(arguments.length>1&&(a=Tqe(a,Rqe(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in r&&r[a]===t)return a||0;return-1}:HO});var $O=h(function(Apt,u5){var zqe=H(),Hqe=pe(),$qe=xe(),Wqe=yo(),Vqe=Ge(),Gqe=zqe.TypeError,o5=function(t){return function(r,n,a,i){Hqe(n);var o=$qe(r),u=Wqe(o),s=Vqe(o),l=t?s-1:0,c=t?-1:1;if(a<2)for(;;){if(l in u){i=u[l],l+=c;break}if(l+=c,t?l<0:s<=l)throw Gqe("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=c)l in u&&(i=n(i,u[l],l,o));return i}};u5.exports={left:o5(!1),right:o5(!0)}});var YO=h(function(kpt,F5){"use strict";var VEe=ie(),E5=bn(),gv=Ta().getWeakData,GEe=V(),GO=we(),KEe=Xr(),YEe=ye(),T5=kt(),A5=Le(),k5=Ve(),XEe=k5.set,JEe=k5.getterFor,QEe=T5.find,ZEe=T5.findIndex,eTe=VEe([].splice),tTe=0,bv=function(t){return t.frozen||(t.frozen=new I5)},I5=function(){this.entries=[]},KO=function(t,r){return QEe(t.entries,function(n){return n[0]===r})};I5.prototype={get:function(t){var r=KO(this,t);if(r)return r[1]},has:function(t){return!!KO(this,t)},set:function(t,r){var n=KO(this,t);n?n[1]=r:this.entries.push([t,r])},delete:function(t){var r=ZEe(this.entries,function(n){return n[0]===t});return~r&&eTe(this.entries,r,1),!!~r}};F5.exports={getConstructor:function(t,r,n,a){var i=t(function(l,c){KEe(l,o),XEe(l,{type:r,id:tTe++,frozen:void 0}),c!=null&&YEe(c,l[a],{that:l,AS_ENTRIES:n})}),o=i.prototype,u=JEe(r),s=function(c,f,p){var d=u(c),v=gv(GEe(f),!0);return v===!0?bv(d).set(f,p):v[d.id]=p,c};return E5(o,{delete:function(c){var f=u(this);if(!GO(c))return!1;var p=gv(c);return p===!0?bv(f).delete(c):p&&A5(p,f.id)&&delete p[f.id]},has:function(c){var f=u(this);if(!GO(c))return!1;var p=gv(c);return p===!0?bv(f).has(c):p&&A5(p,f.id)}}),E5(o,n?{get:function(c){var f=u(this);if(GO(c)){var p=gv(c);return p===!0?bv(f).get(c):p?p[f.id]:void 0}},set:function(c,f){return s(this,c,f)}}:{add:function(c){return s(this,c,!0)}}),i}}});var Pv=h(function(){"use strict";var x5=H(),_v=ie(),rTe=bn(),nTe=Ta(),iTe=mc(),C5=YO(),wv=we(),Sv=vc(),Ov=Ve().enforce,aTe=o_(),oTe=!x5.ActiveXObject&&"ActiveXObject"in x5,Kc,D5=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},uTe=iTe("WeakMap",D5,C5);aTe&&oTe&&(Kc=C5.getConstructor(D5,"WeakMap",!0),nTe.enable(),Es=uTe.prototype,XO=_v(Es.delete),Yc=_v(Es.has),JO=_v(Es.get),QO=_v(Es.set),rTe(Es,{delete:function(t){if(wv(t)&&!Sv(t)){var r=Ov(this);return r.frozen||(r.frozen=new Kc),XO(this,t)||r.frozen.delete(t)}return XO(this,t)},has:function(t){if(wv(t)&&!Sv(t)){var r=Ov(this);return r.frozen||(r.frozen=new Kc),Yc(this,t)||r.frozen.has(t)}return Yc(this,t)},get:function(t){if(wv(t)&&!Sv(t)){var r=Ov(this);return r.frozen||(r.frozen=new Kc),Yc(this,t)?JO(this,t):r.frozen.get(t)}return JO(this,t)},set:function(t,r){if(wv(t)&&!Sv(t)){var n=Ov(this);n.frozen||(n.frozen=new Kc),Yc(this,t)?QO(this,t,r):n.frozen.set(t,r)}else QO(this,t,r);return this}}));var Es,XO,Yc,JO,QO});var j5=h(function(){"use strict";var cTe=P(),fTe=xe(),pTe=Ge(),dTe=Kt(),hTe=Yt();cTe({target:"Array",proto:!0},{at:function(t){var r=fTe(this),n=pTe(r),a=dTe(t),i=a>=0?a:n+a;return i<0||i>=n?void 0:r[i]}});hTe("at")});var Xc=h(function(Dpt,M5){var gTe=Ye(),bTe=yo(),_Te=xe(),wTe=Ge(),U5=function(t){var r=t==1;return function(n,a,i){for(var o=_Te(n),u=bTe(o),s=gTe(a,i),l=wTe(u),c,f;l-- >0;)if(c=u[l],f=s(c,l,o),f)switch(t){case 0:return c;case 1:return l}return r?-1:void 0}};M5.exports={findLast:U5(0),findLastIndex:U5(1)}});var qv=h(function(jpt,$5){"use strict";var MTe=Fe(),Rv=ie(),NTe=pe(),BTe=Ge(),LTe=xe(),zTe=Po(),H5=MTe("Map"),ZO=H5.prototype,HTe=Rv(ZO.forEach),$Te=Rv(ZO.has),WTe=Rv(ZO.set),VTe=Rv([].push);$5.exports=function(t){var r=LTe(this),n=BTe(r),a=zTe(r,0),i=new H5,o=t!=null?NTe(t):function(c){return c},u,s,l;for(u=0;u<n;u++)s=r[u],l=o(s),$Te(i,l)||WTe(i,l,s);return HTe(i,function(c){VTe(a,c)}),a}});var Jc=h(function(Upt,Q5){var W5=H(),V5=$l(),G5=Te(),XTe=jt(),Ev=Ut(),JTe=ct(),QTe=ge(),ZTe=de(),K5="USE_FUNCTION_CONSTRUCTOR",Y5=QTe("asyncIterator"),X5=W5.AsyncIterator,J5=V5.AsyncIteratorPrototype,Xn,e1;if(J5)Xn=J5;else if(G5(X5))Xn=X5.prototype;else if(V5[K5]||W5[K5])try{e1=Ev(Ev(Ev(Function("return async function*(){}()")()))),Ev(e1)===Object.prototype&&(Xn=e1)}catch(e){}Xn?ZTe&&(Xn=XTe(Xn)):Xn={};G5(Xn[Y5])||JTe(Xn,Y5,function(){return this});Q5.exports=Xn});var Ia=h(function(Mpt,u8){"use strict";var r1=le(),nAe=pe(),n8=V(),iAe=jt(),aAe=At(),oAe=bn(),uAe=ge(),i8=Ve(),sAe=Fe(),a8=Ct(),lAe=Jc(),Qc=sAe("Promise"),o8="AsyncIteratorProxy",cAe=i8.set,n1=i8.getterFor(o8),fAe=uAe("toStringTag");u8.exports=function(e,t){var r=function(a){a.type=o8,a.next=nAe(a.iterator.next),a.done=!1,a.ignoreArgument=!t,cAe(this,a)};return r.prototype=oAe(iAe(lAe),{next:function(a){var i=this,o=!!arguments.length;return new Qc(function(u){var s=n1(i),l=o?[s.ignoreArgument?void 0:a]:t?[]:[void 0];s.ignoreArgument=!1,u(s.done?{done:!0,value:void 0}:n8(r1(e,s,Qc,l)))})},return:function(a){var i=this;return new Qc(function(o,u){var s=n1(i),l=s.iterator;s.done=!0;var c=a8(l,"return");if(c===void 0)return o({done:!0,value:a});Qc.resolve(r1(c,l,a)).then(function(f){n8(f),o({done:!0,value:a})},u)})},throw:function(a){var i=this;return new Qc(function(o,u){var s=n1(i),l=s.iterator;s.done=!0;var c=a8(l,"throw");if(c===void 0)return u(a);o(r1(c,l,a))})}}),t||aAe(r.prototype,fAe,"Generator"),r}});var Ts=h(function(Npt,c8){"use strict";var wAe=H(),s8=le(),l8=pe(),o1=V(),SAe=Fe(),OAe=Ct(),PAe=9007199254740991,RAe=wAe.TypeError,Zc=function(t){var r=t==0,n=t==1,a=t==2,i=t==3;return function(o,u,s){o1(o);var l=SAe("Promise"),c=l8(o.next),f=0,p=u!==void 0;return(p||!r)&&l8(u),new l(function(d,v){var m=function(O,T){try{var x=OAe(o,"return");if(x)return l.resolve(s8(x,o)).then(function(){O(T)},function(D){v(D)})}catch(D){return v(D)}O(T)},g=function(O){m(v,O)},w=function b(){try{if(r&&f>PAe&&p)throw RAe("The allowed number of iterations has been exceeded");l.resolve(o1(s8(c,o))).then(function(O){try{if(o1(O).done)r?(s.length=f,d(s)):d(i?!1:a||void 0);else{var T=O.value;p?l.resolve(r?u(T,f):u(T)).then(function(x){n?b():a?x?b():m(d,!1):r?(s[f++]=x,b()):x?m(d,i||T):b()},g):(s[f++]=T,b())}}catch(x){g(x)}},g)}catch(O){g(O)}};w()})}};c8.exports={toArray:Zc(0),forEach:Zc(1),every:Zc(2),some:Zc(3),find:Zc(4)}});var f1=h(function(Bpt,v8){"use strict";var s1=Ke(),Tv=V(),DAe=jt(),f8=Ct(),jAe=bn(),p8=Ve(),UAe=Fe(),MAe=Jc(),Av=UAe("Promise"),d8="AsyncFromSyncIterator",NAe=p8.set,l1=p8.getterFor(d8),c1=function(t,r,n){var a=t.done;Av.resolve(t.value).then(function(i){r({done:a,value:i})},n)},h8=function(t){NAe(this,{type:d8,iterator:Tv(t),next:t.next})};h8.prototype=jAe(DAe(MAe),{next:function(t){var r=l1(this),n=!!arguments.length;return new Av(function(a,i){var o=Tv(s1(r.next,r.iterator,n?[t]:[]));c1(o,a,i)})},return:function(t){var r=l1(this).iterator,n=!!arguments.length;return new Av(function(a,i){var o=f8(r,"return");if(o===void 0)return a({done:!0,value:t});var u=Tv(s1(o,r,n?[t]:[]));c1(u,a,i)})},throw:function(t){var r=l1(this).iterator,n=!!arguments.length;return new Av(function(a,i){var o=f8(r,"throw");if(o===void 0)return i(t);var u=Tv(s1(o,r,n?[t]:[]));c1(u,a,i)})}});v8.exports=h8});var p1=h(function(Lpt,y8){var BAe=le(),LAe=f1(),zAe=V(),HAe=gn(),$Ae=Ct(),WAe=ge(),VAe=WAe("asyncIterator");y8.exports=function(e,t){var r=arguments.length<2?$Ae(e,VAe):t;return r?zAe(BAe(r,e)):new LAe(HAe(e))}});var g1=h(function(zpt,R8){"use strict";function Lo(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lo=function(r){return typeof r}:Lo=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lo(e)}var _8=H(),w8=Ve(),Dke=Oa(),jke=we(),Uke=Gd(),S8=Ee(),tf="Incorrect Number.range arguments",y1="NumericRangeIterator",Mke=w8.set,rf=w8.getterFor(y1),O8=_8.RangeError,m1=_8.TypeError,P8=Dke(function(t,r,n,a,i,o){if(Lo(t)!=a||r!==1/0&&r!==-1/0&&Lo(r)!=a)throw new m1(tf);if(t===1/0||t===-1/0)throw new O8(tf);var u=r>t,s=!1,l;if(n===void 0)l=void 0;else if(jke(n))l=n.step,s=!!n.inclusive;else if(Lo(n)==a)l=n;else throw new m1(tf);if(l==null&&(l=u?o:-o),Lo(l)!=a)throw new m1(tf);if(l===1/0||l===-1/0||l===i&&t!==r)throw new O8(tf);var c=t!=t||r!=r||l!=l||r>t!=l>i;Mke(this,{type:y1,start:t,end:r,step:l,inclusiveEnd:s,hitsEnd:c,currentCount:i,zero:i}),S8||(this.start=t,this.end=r,this.step=l,this.inclusive=s)},y1,function(){var t=rf(this);if(t.hitsEnd)return{value:void 0,done:!0};var r=t.start,n=t.end,a=t.step,i=r+a*t.currentCount++;i===n&&(t.hitsEnd=!0);var o=t.inclusiveEnd,u;return n>r?u=o?i>n:i>=n:u=o?n>i:n>=i,u?{value:void 0,done:t.hitsEnd=!0}:{value:i,done:!1}}),kv=function(t){return{get:t,set:function(){},configurable:!0,enumerable:!1}};S8&&Uke(P8.prototype,{start:kv(function(){return rf(this).start}),end:kv(function(){return rf(this).end}),inclusive:kv(function(){return rf(this).inclusiveEnd}),step:kv(function(){return rf(this).step})});R8.exports=P8});var b1=h(function(Hpt,k8){Ih();Pv();var q8=H(),E8=Fe(),Lke=jt(),T8=we(),zke=q8.Object,Hke=q8.TypeError,$ke=E8("Map"),Wke=E8("WeakMap"),Iv=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=Lke(null)};Iv.prototype.get=function(e,t){return this[e]||(this[e]=t())};Iv.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new Wke):this.primitives||(this.primitives=new $ke),a=n.get(t);return a||n.set(t,a=new Iv),a};var A8=new Iv;k8.exports=function(){var e=A8,t=arguments.length,r,n;for(r=0;r<t;r++)T8(n=arguments[r])&&(e=e.next(r,n,!0));if(this===zke&&e===A8)throw Hke("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)T8(n=arguments[r])||(e=e.next(r,n,!1));return e}});var xa=h(function($pt,B8){"use strict";var S1=le(),lIe=pe(),cIe=V(),fIe=jt(),pIe=At(),dIe=bn(),hIe=ge(),U8=Ve(),M8=Ct(),vIe=es().IteratorPrototype,N8="IteratorProxy",yIe=U8.set,O1=U8.getterFor(N8),mIe=hIe("toStringTag");B8.exports=function(e,t){var r=function(a){a.type=N8,a.next=lIe(a.iterator.next),a.done=!1,a.ignoreArg=!t,yIe(this,a)};return r.prototype=dIe(fIe(vIe),{next:function(a){var i=O1(this),o=arguments.length?[i.ignoreArg?void 0:a]:t?[]:[void 0];i.ignoreArg=!1;var u=i.done?void 0:S1(e,i,o);return{done:i.done,value:u}},return:function(a){var i=O1(this),o=i.iterator;i.done=!0;var u=M8(o,"return");return{done:!0,value:u?cIe(S1(u,o,a)).value:a}},throw:function(a){var i=O1(this),o=i.iterator;i.done=!0;var u=M8(o,"throw");if(u)return S1(u,o,a);throw a}}),t||pIe(r.prototype,mIe,"Generator"),r}});var nf=h(function(Wpt,V8){"use strict";var C2e=le(),D2e=pe(),j2e=V();V8.exports=function(){for(var t=j2e(this),r=D2e(t.delete),n=!0,a,i=0,o=arguments.length;i<o;i++)a=C2e(r,t,arguments[i]),n=n&&a;return!!n}});var T1=h(function(Vpt,G8){"use strict";var q1=le(),E1=pe(),B2e=V();G8.exports=function(t,r){var n=B2e(this),a=E1(n.get),i=E1(n.has),o=E1(n.set),u=q1(i,n,t)&&"update"in r?r.update(q1(a,n,t),t,n):r.insert(t,n);return q1(o,n,t,u),u}});var Sn=h(function(Gpt,K8){var $2e=le();K8.exports=function(e){return $2e(Map.prototype.entries,e)}});var af=h(function(Kpt,J8){"use strict";var bFe=Ye(),_Fe=le(),wFe=pe(),SFe=qc(),Y8=ye(),X8=[].push;J8.exports=function(t){var r=arguments.length,n=r>1?arguments[1]:void 0,a,i,o,u;return SFe(this),a=n!==void 0,a&&wFe(n),t==null?new this:(i=[],a?(o=0,u=bFe(n,r>2?arguments[2]:void 0),Y8(t,function(s){_Fe(X8,i,u(s,o++))})):Y8(t,X8,{that:i}),new this(i))}});var Z8=h(function(Ypt,Q8){Q8.exports=function(e,t){return e===t||e!=e&&t!=t}});var of=h(function(Xpt,tB){"use strict";var vxe=ba();tB.exports=function(){return new this(vxe(arguments))}});var jv=h(function(Jpt,rB){"use strict";var Uxe=H(),Cv=le(),I1=pe(),Dv=Te(),Mxe=V(),Nxe=Uxe.TypeError;rB.exports=function(t,r){var n=Mxe(this),a=I1(n.get),i=I1(n.has),o=I1(n.set),u=arguments.length>2?arguments[2]:void 0,s;if(!Dv(r)&&!Dv(u))throw Nxe("At least one callback required");return Cv(i,n,t)?(s=Cv(a,n,t),Dv(r)&&(s=r(s),Cv(o,n,t,s))):Dv(u)&&(s=u(),Cv(o,n,t,s)),s}});var F1=h(function(Qpt,nB){nB.exports=Math.scale||function(t,r,n,a,i){var o=+t,u=+r,s=+n,l=+a,c=+i;return o!=o||u!=u||s!=s||l!=l||c!=c?NaN:o===1/0||o===-1/0?o:(o-u)*(c-l)/(s-u)+l}});var sB=h(function(){var xCe=P(),CCe=Le();xCe({target:"Object",stat:!0},{hasOwn:CCe})});var Nv=h(function(tdt,fB){"use strict";var lB=Ve(),DCe=Oa(),jCe=Le(),UCe=wo(),MCe=xe(),cB="Object Iterator",NCe=lB.set,BCe=lB.getterFor(cB);fB.exports=DCe(function(t,r){var n=MCe(t);NCe(this,{type:cB,mode:r,object:n,keys:UCe(n),index:0})},"Object",function(){for(var t=BCe(this),r=t.keys;;){if(r===null||t.index>=r.length)return t.object=t.keys=null,{value:void 0,done:!0};var n=r[t.index++],a=t.object;if(!!jCe(a,n)){switch(t.mode){case"keys":return{value:n,done:!1};case"values":return{value:a[n],done:!1}}return{value:[n,a[n]],done:!1}}}})});var Jn=h(function(rdt,RB){function zv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zv=function(r){return typeof r}:zv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zv(e)}Ih();Pv();var SB=Fe(),u3e=ie(),s3e=Wu(),OB=SB("Map"),l3e=SB("WeakMap"),c3e=u3e([].push),PB=s3e("metadata"),z1=PB.store||(PB.store=new l3e),pf=function(t,r,n){var a=z1.get(t);if(!a){if(!n)return;z1.set(t,a=new OB)}var i=a.get(r);if(!i){if(!n)return;a.set(r,i=new OB)}return i},f3e=function(t,r,n){var a=pf(r,n,!1);return a===void 0?!1:a.has(t)},p3e=function(t,r,n){var a=pf(r,n,!1);return a===void 0?void 0:a.get(t)},d3e=function(t,r,n,a){pf(n,a,!0).set(t,r)},h3e=function(t,r){var n=pf(t,r,!1),a=[];return n&&n.forEach(function(i,o){c3e(a,o)}),a},v3e=function(t){return t===void 0||zv(t)=="symbol"?t:String(t)};RB.exports={store:z1,getMap:pf,has:f3e,get:p3e,set:d3e,keys:h3e,toKey:v3e}});var W1=h(function(ndt,DB){"use strict";var sDe=le(),lDe=pe(),cDe=V();DB.exports=function(){for(var t=cDe(this),r=lDe(t.add),n=0,a=arguments.length;n<a;n++)sDe(r,t,arguments[n]);return t}});var Ca=h(function(idt,jB){var RDe=le();jB.exports=function(e){return RDe(Set.prototype.values,e)}});var WB=h(function(){"use strict";var $B=Ae(),UUe=Ge(),MUe=Kt(),NUe=$B.aTypedArray,BUe=$B.exportTypedArrayMethod;BUe("at",function(t){var r=NUe(this),n=UUe(r),a=MUe(t),i=a>=0?a:n+a;return i<0||i>=n?void 0:r[i]})});var V1=h(function(udt,XB){XB.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var K1=h(function(sdt,QB){var qMe=Wl(),G1=qMe("span").classList,JB=G1&&G1.constructor&&G1.constructor.prototype;QB.exports=JB===Object.prototype?void 0:JB});var e6=h(function(ldt,ZB){"use strict";var EMe=kt().forEach,TMe=pc(),AMe=TMe("forEach");ZB.exports=AMe?[].forEach:function(t){return EMe(this,t,arguments.length>1?arguments[1]:void 0)}});var Z1=h(function(cdt,l6){var MMe=ae(),NMe=ge(),BMe=de(),LMe=NMe("iterator");l6.exports=!MMe(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach(function(n,a){t.delete("b"),r+=a+n}),BMe&&!e.toJSON||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[LMe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var g6=h(function(fdt,m6){"use strict";var zMe=H(),zo=ie(),eP=2147483647,hf=36,c6=1,tP=26,HMe=38,$Me=700,WMe=72,VMe=128,GMe="-",KMe=/[^\0-\u007E]/,f6=/[.\u3002\uFF0E\uFF61]/g,p6="Overflow: input needs wider integers to process",rP=hf-c6,d6=zMe.RangeError,YMe=zo(f6.exec),ks=Math.floor,nP=String.fromCharCode,h6=zo("".charCodeAt),v6=zo([].join),Da=zo([].push),XMe=zo("".replace),JMe=zo("".split),QMe=zo("".toLowerCase),ZMe=function(t){for(var r=[],n=0,a=t.length;n<a;){var i=h6(t,n++);if(i>=55296&&i<=56319&&n<a){var o=h6(t,n++);(o&64512)==56320?Da(r,((i&1023)<<10)+(o&1023)+65536):(Da(r,i),n--)}else Da(r,i)}return r},y6=function(t){return t+22+75*(t<26)},eNe=function(t,r,n){var a=0;for(t=n?ks(t/$Me):t>>1,t+=ks(t/r);t>rP*tP>>1;)t=ks(t/rP),a+=hf;return ks(a+(rP+1)*t/(t+HMe))},tNe=function(t){var r=[];t=ZMe(t);var n=t.length,a=VMe,i=0,o=WMe,u,s;for(u=0;u<t.length;u++)s=t[u],s<128&&Da(r,nP(s));var l=r.length,c=l;for(l&&Da(r,GMe);c<n;){var f=eP;for(u=0;u<t.length;u++)s=t[u],s>=a&&s<f&&(f=s);var p=c+1;if(f-a>ks((eP-i)/p))throw d6(p6);for(i+=(f-a)*p,a=f,u=0;u<t.length;u++){if(s=t[u],s<a&&++i>eP)throw d6(p6);if(s==a){for(var d=i,v=hf;;){var m=v<=o?c6:v>=o+tP?tP:v-o;if(d<m)break;var g=d-m,w=hf-m;Da(r,nP(y6(m+g%w))),d=ks(g/w),v+=hf}Da(r,nP(y6(d))),o=eNe(i,p,c==l),i=0,c++}}i++,a++}return v6(r,"")};m6.exports=function(e){var t=[],r=JMe(XMe(QMe(e),f6,"."),"."),n,a;for(n=0;n<r.length;n++)a=r[n],Da(t,YMe(KMe,a)?"xn--"+tNe(a):a);return v6(t,".")}});var dP=h(function(pdt,N6){"use strict";fc();var iP=P(),Wv=H(),aP=Fe(),Vv=le(),Qn=ie(),b6=Z1(),_6=ct(),rNe=bn(),nNe=Kr(),iNe=Oa(),oP=Ve(),w6=Xr(),uP=Te(),aNe=Le(),oNe=Ye(),uNe=ga(),sNe=V(),S6=we(),Fr=Be(),lNe=jt(),O6=yn(),sP=gn(),cNe=Pi(),fNe=ge(),pNe=mh(),dNe=fNe("iterator"),vf="URLSearchParams",P6=vf+"Iterator",R6=oP.set,On=oP.getterFor(vf),hNe=oP.getterFor(P6),q6=aP("fetch"),Gv=aP("Request"),yf=aP("Headers"),lP=Gv&&Gv.prototype,E6=yf&&yf.prototype,vNe=Wv.RegExp,T6=Wv.TypeError,A6=Wv.decodeURIComponent,yNe=Wv.encodeURIComponent,mNe=Qn("".charAt),k6=Qn([].join),Ho=Qn([].push),cP=Qn("".replace),gNe=Qn([].shift),I6=Qn([].splice),F6=Qn("".split),bNe=Qn("".slice),_Ne=/\+/g,x6=Array(4),wNe=function(t){return x6[t-1]||(x6[t-1]=vNe("((?:%[\\da-f]{2}){"+t+"})","gi"))},SNe=function(t){try{return A6(t)}catch(r){return t}},C6=function(t){var r=cP(t,_Ne," "),n=4;try{return A6(r)}catch(a){for(;n;)r=cP(r,wNe(n--),SNe);return r}},ONe=/[!'()~]|%20/g,PNe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},RNe=function(t){return PNe[t]},D6=function(t){return cP(yNe(t),ONe,RNe)},Is=function(t,r){if(t<r)throw T6("Not enough arguments")},fP=iNe(function(t,r){R6(this,{type:P6,iterator:sP(On(t).entries),kind:r})},"Iterator",function(){var t=hNe(this),r=t.kind,n=t.iterator.next(),a=n.value;return n.done||(n.value=r==="keys"?a.key:r==="values"?a.value:[a.key,a.value]),n},!0),j6=function(t){this.entries=[],this.url=null,t!==void 0&&(S6(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?mNe(t,0)==="?"?bNe(t,1):t:Fr(t)))};j6.prototype={type:vf,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var r=cNe(t),n,a,i,o,u,s,l;if(r)for(n=sP(t,r),a=n.next;!(i=Vv(a,n)).done;){if(o=sP(sNe(i.value)),u=o.next,(s=Vv(u,o)).done||(l=Vv(u,o)).done||!Vv(u,o).done)throw T6("Expected sequence with length 2");Ho(this.entries,{key:Fr(s.value),value:Fr(l.value)})}else for(var c in t)aNe(t,c)&&Ho(this.entries,{key:c,value:Fr(t[c])})},parseQuery:function(t){if(t)for(var r=F6(t,"&"),n=0,a,i;n<r.length;)a=r[n++],a.length&&(i=F6(a,"="),Ho(this.entries,{key:C6(gNe(i)),value:C6(k6(i,"="))}))},serialize:function(){for(var t=this.entries,r=[],n=0,a;n<t.length;)a=t[n++],Ho(r,D6(a.key)+"="+D6(a.value));return k6(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Kv=function(){w6(this,mf);var t=arguments.length>0?arguments[0]:void 0;R6(this,new j6(t))},mf=Kv.prototype;rNe(mf,{append:function(t,r){Is(arguments.length,2);var n=On(this);Ho(n.entries,{key:Fr(t),value:Fr(r)}),n.updateURL()},delete:function(t){Is(arguments.length,1);for(var r=On(this),n=r.entries,a=Fr(t),i=0;i<n.length;)n[i].key===a?I6(n,i,1):i++;r.updateURL()},get:function(t){Is(arguments.length,1);for(var r=On(this).entries,n=Fr(t),a=0;a<r.length;a++)if(r[a].key===n)return r[a].value;return null},getAll:function(t){Is(arguments.length,1);for(var r=On(this).entries,n=Fr(t),a=[],i=0;i<r.length;i++)r[i].key===n&&Ho(a,r[i].value);return a},has:function(t){Is(arguments.length,1);for(var r=On(this).entries,n=Fr(t),a=0;a<r.length;)if(r[a++].key===n)return!0;return!1},set:function(t,r){Is(arguments.length,1);for(var n=On(this),a=n.entries,i=!1,o=Fr(t),u=Fr(r),s=0,l;s<a.length;s++)l=a[s],l.key===o&&(i?I6(a,s--,1):(i=!0,l.value=u));i||Ho(a,{key:o,value:u}),n.updateURL()},sort:function(){var t=On(this);pNe(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=On(this).entries,n=oNe(t,arguments.length>1?arguments[1]:void 0),a=0,i;a<r.length;)i=r[a++],n(i.value,i.key,this)},keys:function(){return new fP(this,"keys")},values:function(){return new fP(this,"values")},entries:function(){return new fP(this,"entries")}},{enumerable:!0});_6(mf,dNe,mf.entries,{name:"entries"});_6(mf,"toString",function(){return On(this).serialize()},{enumerable:!0});nNe(Kv,vf);iP({global:!0,forced:!b6},{URLSearchParams:Kv});!b6&&uP(yf)&&(U6=Qn(E6.has),M6=Qn(E6.set),pP=function(t){if(S6(t)){var r=t.body,n;if(uNe(r)===vf)return n=t.headers?new yf(t.headers):new yf,U6(n,"content-type")||M6(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),lNe(t,{body:O6(0,Fr(r)),headers:O6(0,n)})}return t},uP(q6)&&iP({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return q6(t,arguments.length>1?pP(arguments[1]):{})}}),uP(Gv)&&(Yv=function(t){return w6(this,lP),new Gv(t,arguments.length>1?pP(arguments[1]):{})},lP.constructor=Yv,Yv.prototype=lP,iP({global:!0,forced:!0},{Request:Yv})));var U6,M6,pP,Yv;N6.exports={URLSearchParams:Kv,getState:On}});var o4=h(function(Pf,a4){function Of(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Of=function(r){return typeof r}:Of=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Of(e)}(function(e,t){(typeof Pf=="undefined"?"undefined":Of(Pf))==="object"&&typeof a4!="undefined"?t(Pf):typeof define=="function"&&define.amd?define(["exports"],t):t(e.WHATWGFetch={})})(Pf,function(e){"use strict";var t=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof t!="undefined"&&t,r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(q){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(q){return q&&DataView.prototype.isPrototypeOf(q)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(q){return q&&a.indexOf(Object.prototype.toString.call(q))>-1};function o(q){if(typeof q!="string"&&(q=String(q)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(q)||q==="")throw new TypeError('Invalid character in header field name: "'+q+'"');return q.toLowerCase()}function u(q){return typeof q!="string"&&(q=String(q)),q}function s(q){var U={next:function(){var X=q.shift();return{done:X===void 0,value:X}}};return r.iterable&&(U[Symbol.iterator]=function(){return U}),U}function l(q){this.map={},q instanceof l?q.forEach(function(U,Q){this.append(Q,U)},this):Array.isArray(q)?q.forEach(function(U){this.append(U[0],U[1])},this):q&&Object.getOwnPropertyNames(q).forEach(function(U){this.append(U,q[U])},this)}l.prototype.append=function(q,U){q=o(q),U=u(U);var Q=this.map[q];this.map[q]=Q?Q+", "+U:U},l.prototype.delete=function(q){delete this.map[o(q)]},l.prototype.get=function(q){return q=o(q),this.has(q)?this.map[q]:null},l.prototype.has=function(q){return this.map.hasOwnProperty(o(q))},l.prototype.set=function(q,U){this.map[o(q)]=u(U)},l.prototype.forEach=function(q,U){for(var Q in this.map)this.map.hasOwnProperty(Q)&&q.call(U,this.map[Q],Q,this)},l.prototype.keys=function(){var q=[];return this.forEach(function(U,Q){q.push(Q)}),s(q)},l.prototype.values=function(){var q=[];return this.forEach(function(U){q.push(U)}),s(q)},l.prototype.entries=function(){var q=[];return this.forEach(function(U,Q){q.push([Q,U])}),s(q)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function c(q){if(q.bodyUsed)return Promise.reject(new TypeError("Already read"));q.bodyUsed=!0}function f(q){return new Promise(function(U,Q){q.onload=function(){U(q.result)},q.onerror=function(){Q(q.error)}})}function p(q){var U=new FileReader,Q=f(U);return U.readAsArrayBuffer(q),Q}function d(q){var U=new FileReader,Q=f(U);return U.readAsText(q),Q}function v(q){for(var U=new Uint8Array(q),Q=new Array(U.length),X=0;X<U.length;X++)Q[X]=String.fromCharCode(U[X]);return Q.join("")}function m(q){if(q.slice)return q.slice(0);var U=new Uint8Array(q.byteLength);return U.set(new Uint8Array(q)),U.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(q){this.bodyUsed=this.bodyUsed,this._bodyInit=q,q?typeof q=="string"?this._bodyText=q:r.blob&&Blob.prototype.isPrototypeOf(q)?this._bodyBlob=q:r.formData&&FormData.prototype.isPrototypeOf(q)?this._bodyFormData=q:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)?this._bodyText=q.toString():r.arrayBuffer&&r.blob&&n(q)?(this._bodyArrayBuffer=m(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(q)||i(q))?this._bodyArrayBuffer=m(q):this._bodyText=q=Object.prototype.toString.call(q):this._bodyText="",this.headers.get("content-type")||(typeof q=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var q=c(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var q=c(this);return q||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var q=c(this);if(q)return q;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(q){var U=q.toUpperCase();return w.indexOf(U)>-1?U:q}function O(q,U){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');U=U||{};var Q=U.body;if(q instanceof O){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,U.headers||(this.headers=new l(q.headers)),this.method=q.method,this.mode=q.mode,this.signal=q.signal,!Q&&q._bodyInit!=null&&(Q=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=U.credentials||this.credentials||"same-origin",(U.headers||!this.headers)&&(this.headers=new l(U.headers)),this.method=b(U.method||this.method||"GET"),this.mode=U.mode||this.mode||null,this.signal=U.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Q),(this.method==="GET"||this.method==="HEAD")&&(U.cache==="no-store"||U.cache==="no-cache")){var X=/([?&])_=[^&]*/;if(X.test(this.url))this.url=this.url.replace(X,"$1_="+new Date().getTime());else{var A=/\?/;this.url+=(A.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function T(q){var U=new FormData;return q.trim().split("&").forEach(function(Q){if(Q){var X=Q.split("="),A=X.shift().replace(/\+/g," "),k=X.join("=").replace(/\+/g," ");U.append(decodeURIComponent(A),decodeURIComponent(k))}}),U}function x(q){var U=new l,Q=q.replace(/\r?\n[\t ]+/g," ");return Q.split("\r").map(function(X){return X.indexOf("\n")===0?X.substr(1,X.length):X}).forEach(function(X){var A=X.split(":"),k=A.shift().trim();if(k){var z=A.join(":").trim();U.append(k,z)}}),U}g.call(O.prototype);function D(q,U){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');U||(U={}),this.type="default",this.status=U.status===void 0?200:U.status,this.ok=this.status>=200&&this.status<300,this.statusText=U.statusText===void 0?"":""+U.statusText,this.headers=new l(U.headers),this.url=U.url||"",this._initBody(q)}g.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},D.error=function(){var q=new D(null,{status:0,statusText:""});return q.type="error",q};var N=[301,302,303,307,308];D.redirect=function(q,U){if(N.indexOf(U)===-1)throw new RangeError("Invalid status code");return new D(null,{status:U,headers:{location:q}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(q){e.DOMException=function(U,Q){this.message=U,this.name=Q;var X=Error(U);this.stack=X.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function G(q,U){return new Promise(function(Q,X){var A=new O(q,U);if(A.signal&&A.signal.aborted)return X(new e.DOMException("Aborted","AbortError"));var k=new XMLHttpRequest;function z(){k.abort()}k.onload=function(){var j={status:k.status,statusText:k.statusText,headers:x(k.getAllResponseHeaders()||"")};j.url="responseURL"in k?k.responseURL:j.headers.get("X-Request-URL");var L="response"in k?k.response:k.responseText;setTimeout(function(){Q(new D(L,j))},0)},k.onerror=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},k.ontimeout=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},k.onabort=function(){setTimeout(function(){X(new e.DOMException("Aborted","AbortError"))},0)};function C(j){try{return j===""&&t.location.href?t.location.href:j}catch(L){return j}}k.open(A.method,C(A.url),!0),A.credentials==="include"?k.withCredentials=!0:A.credentials==="omit"&&(k.withCredentials=!1),"responseType"in k&&(r.blob?k.responseType="blob":r.arrayBuffer&&A.headers.get("Content-Type")&&A.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(k.responseType="arraybuffer")),U&&Of(U.headers)==="object"&&!(U.headers instanceof l)?Object.getOwnPropertyNames(U.headers).forEach(function(j){k.setRequestHeader(j,u(U.headers[j]))}):A.headers.forEach(function(j,L){k.setRequestHeader(L,j)}),A.signal&&(A.signal.addEventListener("abort",z),k.onreadystatechange=function(){k.readyState===4&&A.signal.removeEventListener("abort",z)}),k.send(typeof A._bodyInit=="undefined"?null:A._bodyInit)})}G.polyfill=!0,t.fetch||(t.fetch=G,t.Headers=l,t.Request=O,t.Response=D),e.Headers=l,e.Request=O,e.Response=D,e.fetch=G,Object.defineProperty(e,"__esModule",{value:!0})})});var u4=h(function(){function oy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oy=function(r){return typeof r}:oy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oy(e)}(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";function e(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function t(w,b){for(var O=0;O<b.length;O++){var T=b[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function r(w,b,O){return b&&t(w.prototype,b),O&&t(w,O),w}function n(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),b&&i(w,b)}function a(w){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},a(w)}function i(w,b){return i=Object.setPrototypeOf||function(T,x){return T.__proto__=x,T},i(w,b)}function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(w){return!1}}function u(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function s(w,b){return b&&(oy(b)==="object"||typeof b=="function")?b:u(w)}function l(w){var b=o();return function(){var T=a(w),x;if(b){var D=a(this).constructor;x=Reflect.construct(T,arguments,D)}else x=T.apply(this,arguments);return s(this,x)}}function c(w,b){for(;!Object.prototype.hasOwnProperty.call(w,b)&&(w=a(w),w!==null););return w}function f(w,b,O){return typeof Reflect!="undefined"&&Reflect.get?f=Reflect.get:f=function(x,D,N){var G=c(x,D);if(!!G){var q=Object.getOwnPropertyDescriptor(G,D);return q.get?q.get.call(N):q.value}},f(w,b,O||w)}var p=function(){function w(){e(this,w),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(w,[{key:"addEventListener",value:function(O,T,x){O in this.listeners||(this.listeners[O]=[]),this.listeners[O].push({callback:T,options:x})}},{key:"removeEventListener",value:function(O,T){if(O in this.listeners){for(var x=this.listeners[O],D=0,N=x.length;D<N;D++)if(x[D].callback===T){x.splice(D,1);return}}}},{key:"dispatchEvent",value:function(O){if(O.type in this.listeners){for(var T=this.listeners[O.type],x=T.slice(),D=0,N=x.length;D<N;D++){var G=x[D];try{G.callback.call(this,O)}catch(q){Promise.resolve().then(function(){throw q})}G.options&&G.options.once&&this.removeEventListener(O.type,G.callback)}return!O.defaultPrevented}}}]),w}(),d=function(w){n(O,w);var b=l(O);function O(){var T;return e(this,O),T=b.call(this),T.listeners||p.call(u(T)),Object.defineProperty(u(T),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(u(T),"onabort",{value:null,writable:!0,configurable:!0}),T}return r(O,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(x){x.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,x)),f(a(O.prototype),"dispatchEvent",this).call(this,x)}}]),O}(p),v=function(){function w(){e(this,w),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return r(w,[{key:"abort",value:function(){var O;try{O=new Event("abort")}catch(T){typeof document!="undefined"?document.createEvent?(O=document.createEvent("Event"),O.initEvent("abort",!1,!1)):(O=document.createEventObject(),O.type="abort"):O={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(O)}},{key:"toString",value:function(){return"[object AbortController]"}}]),w}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(v.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal");function m(w){return w.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof w.Request=="function"&&!w.Request.prototype.hasOwnProperty("signal")||!w.AbortController}function g(w){typeof w=="function"&&(w={fetch:w});var b=w,O=b.fetch,T=b.Request,x=T===void 0?O.Request:T,D=b.AbortController,N=b.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,G=N===void 0?!1:N;if(!m({fetch:O,Request:x,AbortController:D,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:G}))return{fetch:O,Request:q};var q=x;(q&&!q.prototype.hasOwnProperty("signal")||G)&&(q=function(A,k){var z;k&&k.signal&&(z=k.signal,delete k.signal);var C=new x(A,k);return z&&Object.defineProperty(C,"signal",{writable:!1,enumerable:!1,configurable:!0,value:z}),C},q.prototype=x.prototype);var U=O,Q=function(A,k){var z=q&&q.prototype.isPrototypeOf(A)?A.signal:k?k.signal:void 0;if(z){var C;try{C=new DOMException("Aborted","AbortError")}catch(L){C=new Error("Aborted"),C.name="AbortError"}if(z.aborted)return Promise.reject(C);var j=new Promise(function(L,ee){z.addEventListener("abort",function(){return ee(C)},{once:!0})});return k&&k.signal&&delete k.signal,Promise.race([j,U(A,k)])}return U(A,k)};return{fetch:Q,Request:q}}(function(w){if(!!m(w)){if(!w.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var b=g(w),O=b.fetch,T=b.Request;w.fetch=O,w.Request=T,Object.defineProperty(w,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:v}),Object.defineProperty(w,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:d})}})(typeof self!="undefined"?self:global)})});var s4=h(function(){(function(){var e=function(r,n,a){var i=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return i?new Promise(function(o,u){i.call(navigator,r,o,u)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))};navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=e)})()});var l4=h(function(sy,FP){function uy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uy=function(r){return typeof r}:uy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uy(e)}(function(e,t){(typeof sy=="undefined"?"undefined":uy(sy))==="object"&&typeof FP!="undefined"?FP.exports=t():typeof define=="function"&&define.amd?define(t):e.ResizeObserver=t()})(sy,function(){"use strict";var e=function(){if(typeof Map!="undefined")return Map;function A(k,z){var C=-1;return k.some(function(j,L){return j[0]===z?(C=L,!0):!1}),C}return function(){function k(){this.__entries__=[]}return Object.defineProperty(k.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),k.prototype.get=function(z){var C=A(this.__entries__,z),j=this.__entries__[C];return j&&j[1]},k.prototype.set=function(z,C){var j=A(this.__entries__,z);~j?this.__entries__[j][1]=C:this.__entries__.push([z,C])},k.prototype.delete=function(z){var C=this.__entries__,j=A(C,z);~j&&C.splice(j,1)},k.prototype.has=function(z){return!!~A(this.__entries__,z)},k.prototype.clear=function(){this.__entries__.splice(0)},k.prototype.forEach=function(z,C){C===void 0&&(C=null);for(var j=0,L=this.__entries__;j<L.length;j++){var ee=L[j];z.call(C,ee[1],ee[0])}},k}()}(),t=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,r=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),n=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(r):function(A){return setTimeout(function(){return A(Date.now())},1e3/60)}}(),a=2;function i(A,k){var z=!1,C=!1,j=0;function L(){z&&(z=!1,A()),C&&ce()}function ee(){n(L)}function ce(){var ue=Date.now();if(z){if(ue-j<a)return;C=!0}else z=!0,C=!1,setTimeout(ee,k);j=ue}return ce}var o=20,u=["top","right","bottom","left","width","height","size","weight"],s=typeof MutationObserver!="undefined",l=function(){function A(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=i(this.refresh.bind(this),o)}return A.prototype.addObserver=function(k){~this.observers_.indexOf(k)||this.observers_.push(k),this.connected_||this.connect_()},A.prototype.removeObserver=function(k){var z=this.observers_,C=z.indexOf(k);~C&&z.splice(C,1),!z.length&&this.connected_&&this.disconnect_()},A.prototype.refresh=function(){var k=this.updateObservers_();k&&this.refresh()},A.prototype.updateObservers_=function(){var k=this.observers_.filter(function(z){return z.gatherActive(),z.hasActive()});return k.forEach(function(z){return z.broadcastActive()}),k.length>0},A.prototype.connect_=function(){!t||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},A.prototype.disconnect_=function(){!t||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},A.prototype.onTransitionEnd_=function(k){var z=k.propertyName,C=z===void 0?"":z,j=u.some(function(L){return!!~C.indexOf(L)});j&&this.refresh()},A.getInstance=function(){return this.instance_||(this.instance_=new A),this.instance_},A.instance_=null,A}(),c=function(k,z){for(var C=0,j=Object.keys(z);C<j.length;C++){var L=j[C];Object.defineProperty(k,L,{value:z[L],enumerable:!1,writable:!1,configurable:!0})}return k},f=function(k){var z=k&&k.ownerDocument&&k.ownerDocument.defaultView;return z||r},p=D(0,0,0,0);function d(A){return parseFloat(A)||0}function v(A){for(var k=[],z=1;z<arguments.length;z++)k[z-1]=arguments[z];return k.reduce(function(C,j){var L=A["border-"+j+"-width"];return C+d(L)},0)}function m(A){for(var k=["top","right","bottom","left"],z={},C=0,j=k;C<j.length;C++){var L=j[C],ee=A["padding-"+L];z[L]=d(ee)}return z}function g(A){var k=A.getBBox();return D(0,0,k.width,k.height)}function w(A){var k=A.clientWidth,z=A.clientHeight;if(!k&&!z)return p;var C=f(A).getComputedStyle(A),j=m(C),L=j.left+j.right,ee=j.top+j.bottom,ce=d(C.width),ue=d(C.height);if(C.boxSizing==="border-box"&&(Math.round(ce+L)!==k&&(ce-=v(C,"left","right")+L),Math.round(ue+ee)!==z&&(ue-=v(C,"top","bottom")+ee)),!O(A)){var je=Math.round(ce+L)-k,He=Math.round(ue+ee)-z;Math.abs(je)!==1&&(ce-=je),Math.abs(He)!==1&&(ue-=He)}return D(j.left,j.top,ce,ue)}var b=function(){return typeof SVGGraphicsElement!="undefined"?function(A){return A instanceof f(A).SVGGraphicsElement}:function(A){return A instanceof f(A).SVGElement&&typeof A.getBBox=="function"}}();function O(A){return A===f(A).document.documentElement}function T(A){return t?b(A)?g(A):w(A):p}function x(A){var k=A.x,z=A.y,C=A.width,j=A.height,L=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,ee=Object.create(L.prototype);return c(ee,{x:k,y:z,width:C,height:j,top:z,right:k+C,bottom:j+z,left:k}),ee}function D(A,k,z,C){return{x:A,y:k,width:z,height:C}}var N=function(){function A(k){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=D(0,0,0,0),this.target=k}return A.prototype.isActive=function(){var k=T(this.target);return this.contentRect_=k,k.width!==this.broadcastWidth||k.height!==this.broadcastHeight},A.prototype.broadcastRect=function(){var k=this.contentRect_;return this.broadcastWidth=k.width,this.broadcastHeight=k.height,k},A}(),G=function(){function A(k,z){var C=x(z);c(this,{target:k,contentRect:C})}return A}(),q=function(){function A(k,z,C){if(this.activeObservations_=[],this.observations_=new e,typeof k!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=k,this.controller_=z,this.callbackCtx_=C}return A.prototype.observe=function(k){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(k instanceof f(k).Element))throw new TypeError('parameter 1 is not of type "Element".');var z=this.observations_;z.has(k)||(z.set(k,new N(k)),this.controller_.addObserver(this),this.controller_.refresh())}},A.prototype.unobserve=function(k){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(k instanceof f(k).Element))throw new TypeError('parameter 1 is not of type "Element".');var z=this.observations_;!z.has(k)||(z.delete(k),z.size||this.controller_.removeObserver(this))}},A.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},A.prototype.gatherActive=function(){var k=this;this.clearActive(),this.observations_.forEach(function(z){z.isActive()&&k.activeObservations_.push(z)})},A.prototype.broadcastActive=function(){if(!!this.hasActive()){var k=this.callbackCtx_,z=this.activeObservations_.map(function(C){return new G(C.target,C.broadcastRect())});this.callback_.call(k,z,k),this.clearActive()}},A.prototype.clearActive=function(){this.activeObservations_.splice(0)},A.prototype.hasActive=function(){return this.activeObservations_.length>0},A}(),U=typeof WeakMap!="undefined"?new WeakMap:new e,Q=function(){function A(k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var z=l.getInstance(),C=new q(k,z,this);U.set(this,C)}return A}();["observe","unobserve","disconnect"].forEach(function(A){Q.prototype[A]=function(){var k;return(k=U.get(this))[A].apply(k,arguments)}});var X=function(){return typeof r.ResizeObserver!="undefined"?r.ResizeObserver:Q}();return X})});var c4=h(function(mdt,ly){function js(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?js=function(r){return typeof r}:js=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},js(e)}var xP=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n,a=typeof Symbol=="function"?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(C,j,L){return Object.defineProperty(C,j,{value:L,enumerable:!0,configurable:!0,writable:!0}),C[j]}try{s({},"")}catch(C){s=function(L,ee,ce){return L[ee]=ce}}function l(C,j,L,ee){var ce=j&&j.prototype instanceof g?j:g,ue=Object.create(ce.prototype),je=new A(ee||[]);return ue._invoke=q(C,L,je),ue}e.wrap=l;function c(C,j,L){try{return{type:"normal",arg:C.call(j,L)}}catch(ee){return{type:"throw",arg:ee}}}var f="suspendedStart",p="suspendedYield",d="executing",v="completed",m={};function g(){}function w(){}function b(){}var O={};s(O,i,function(){return this});var T=Object.getPrototypeOf,x=T&&T(T(k([])));x&&x!==t&&r.call(x,i)&&(O=x);var D=b.prototype=g.prototype=Object.create(O);w.prototype=b,s(D,"constructor",b),s(b,"constructor",w),w.displayName=s(b,u,"GeneratorFunction");function N(C){["next","throw","return"].forEach(function(j){s(C,j,function(L){return this._invoke(j,L)})})}e.isGeneratorFunction=function(C){var j=typeof C=="function"&&C.constructor;return j?j===w||(j.displayName||j.name)==="GeneratorFunction":!1},e.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,b):(C.__proto__=b,s(C,u,"GeneratorFunction")),C.prototype=Object.create(D),C},e.awrap=function(C){return{__await:C}};function G(C,j){function L(ue,je,He,st){var lt=c(C[ue],C,je);if(lt.type==="throw")st(lt.arg);else{var Vt=lt.arg,Rt=Vt.value;return Rt&&js(Rt)==="object"&&r.call(Rt,"__await")?j.resolve(Rt.__await).then(function(Gt){L("next",Gt,He,st)},function(Gt){L("throw",Gt,He,st)}):j.resolve(Rt).then(function(Gt){Vt.value=Gt,He(Vt)},function(Gt){return L("throw",Gt,He,st)})}}var ee;function ce(ue,je){function He(){return new j(function(st,lt){L(ue,je,st,lt)})}return ee=ee?ee.then(He,He):He()}this._invoke=ce}N(G.prototype),s(G.prototype,o,function(){return this}),e.AsyncIterator=G,e.async=function(C,j,L,ee,ce){ce===void 0&&(ce=Promise);var ue=new G(l(C,j,L,ee),ce);return e.isGeneratorFunction(j)?ue:ue.next().then(function(je){return je.done?je.value:ue.next()})};function q(C,j,L){var ee=f;return function(ue,je){if(ee===d)throw new Error("Generator is already running");if(ee===v){if(ue==="throw")throw je;return z()}for(L.method=ue,L.arg=je;;){var He=L.delegate;if(He){var st=U(He,L);if(st){if(st===m)continue;return st}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(ee===f)throw ee=v,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);ee=d;var lt=c(C,j,L);if(lt.type==="normal"){if(ee=L.done?v:p,lt.arg===m)continue;return{value:lt.arg,done:L.done}}else lt.type==="throw"&&(ee=v,L.method="throw",L.arg=lt.arg)}}}function U(C,j){var L=C.iterator[j.method];if(L===n){if(j.delegate=null,j.method==="throw"){if(C.iterator.return&&(j.method="return",j.arg=n,U(C,j),j.method==="throw"))return m;j.method="throw",j.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var ee=c(L,C.iterator,j.arg);if(ee.type==="throw")return j.method="throw",j.arg=ee.arg,j.delegate=null,m;var ce=ee.arg;if(!ce)return j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,m;if(ce.done)j[C.resultName]=ce.value,j.next=C.nextLoc,j.method!=="return"&&(j.method="next",j.arg=n);else return ce;return j.delegate=null,m}N(D),s(D,u,"Generator"),s(D,i,function(){return this}),s(D,"toString",function(){return"[object Generator]"});function Q(C){var j={tryLoc:C[0]};1 in C&&(j.catchLoc=C[1]),2 in C&&(j.finallyLoc=C[2],j.afterLoc=C[3]),this.tryEntries.push(j)}function X(C){var j=C.completion||{};j.type="normal",delete j.arg,C.completion=j}function A(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(Q,this),this.reset(!0)}e.keys=function(C){var j=[];for(var L in C)j.push(L);return j.reverse(),function ee(){for(;j.length;){var ce=j.pop();if(ce in C)return ee.value=ce,ee.done=!1,ee}return ee.done=!0,ee}};function k(C){if(C){var j=C[i];if(j)return j.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var L=-1,ee=function ce(){for(;++L<C.length;)if(r.call(C,L))return ce.value=C[L],ce.done=!1,ce;return ce.value=n,ce.done=!0,ce};return ee.next=ee}}return{next:z}}e.values=k;function z(){return{value:n,done:!0}}return A.prototype={constructor:A,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!j)for(var L in this)L.charAt(0)==="t"&&r.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=n)},stop:function(){this.done=!0;var j=this.tryEntries[0],L=j.completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var L=this;function ee(lt,Vt){return je.type="throw",je.arg=j,L.next=lt,Vt&&(L.method="next",L.arg=n),!!Vt}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ue=this.tryEntries[ce],je=ue.completion;if(ue.tryLoc==="root")return ee("end");if(ue.tryLoc<=this.prev){var He=r.call(ue,"catchLoc"),st=r.call(ue,"finallyLoc");if(He&&st){if(this.prev<ue.catchLoc)return ee(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return ee(ue.finallyLoc)}else if(He){if(this.prev<ue.catchLoc)return ee(ue.catchLoc,!0)}else if(st){if(this.prev<ue.finallyLoc)return ee(ue.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,L){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ce=this.tryEntries[ee];if(ce.tryLoc<=this.prev&&r.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ue=ce;break}}ue&&(j==="break"||j==="continue")&&ue.tryLoc<=L&&L<=ue.finallyLoc&&(ue=null);var je=ue?ue.completion:{};return je.type=j,je.arg=L,ue?(this.method="next",this.next=ue.finallyLoc,m):this.complete(je)},complete:function(j,L){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&L&&(this.next=L),m},finish:function(j){for(var L=this.tryEntries.length-1;L>=0;--L){var ee=this.tryEntries[L];if(ee.finallyLoc===j)return this.complete(ee.completion,ee.afterLoc),X(ee),m}},catch:function(j){for(var L=this.tryEntries.length-1;L>=0;--L){var ee=this.tryEntries[L];if(ee.tryLoc===j){var ce=ee.completion;if(ce.type==="throw"){var ue=ce.arg;X(ee)}return ue}}throw new Error("illegal catch attempt")},delegateYield:function(j,L,ee){return this.delegate={iterator:k(j),resultName:L,nextLoc:ee},this.method==="next"&&(this.arg=n),m}},e}((typeof ly=="undefined"?"undefined":js(ly))==="object"?ly.exports:{});try{regeneratorRuntime=xP}catch(e){(typeof globalThis=="undefined"?"undefined":js(globalThis))==="object"?globalThis.regeneratorRuntime=xP:Function("r","regeneratorRuntime = r")(xP)}});var p4=h(function(gdt,f4){"use strict";function CP(e){return e<10?"0".concat(e):e.toString()}function i5e(){var e=new Date,t=CP(e.getHours()),r=CP(e.getMinutes()),n=CP(e.getSeconds());return"".concat(t,":").concat(r,":").concat(n)}f4.exports=i5e});var DP=h(function(Us){"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.justErrorsLogger=Us.debugLogger=void 0;var cy=p4(),a5e={debug:function(){},warn:function(){},error:function(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=console).error.apply(t,["[Uppy] [".concat(cy(),"]")].concat(n))}};Us.justErrorsLogger=a5e;var o5e={debug:function(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=console).debug.apply(t,["[Uppy] [".concat(cy(),"]")].concat(n))},warn:function(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=console).warn.apply(t,["[Uppy] [".concat(cy(),"]")].concat(n))},error:function(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=console).error.apply(t,["[Uppy] [".concat(cy(),"]")].concat(n))}};Us.debugLogger=o5e});var Vo=h(function(_dt,d4){var u5e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",s5e=function(t,r){return function(){for(var n="",a=r;a--;)n+=t[Math.random()*t.length|0];return n}},l5e=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,r="",n=t;n--;)r+=u5e[Math.random()*64|0];return r};d4.exports={nanoid:l5e,customAlphabet:s5e}});var py=h(function(wdt,h4){function fy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fy=function(r){return typeof r}:fy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fy(e)}h4.exports=function(t){if(typeof t!="number"||isNaN(t))throw new TypeError("Expected a number, got "+fy(t));var r=t<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(t=-t),t<1)return(r?"-":"")+t+" B";var a=Math.min(Math.floor(Math.log(t)/Math.log(1024)),n.length-1);t=Number(t/Math.pow(1024,a));var i=n[a];return t>=10||t%1==0?(r?"-":"")+t.toFixed(0)+" "+i:(r?"-":"")+t.toFixed(1)+" "+i}});var m4=h(function(Sdt,y4){"use strict";function dy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dy=function(r){return typeof r}:dy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dy(e)}function v4(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}v4.prototype.match=function(e){var t=!0,r=this.parts,n,a=r.length,i;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(i=(e||"").split(this.separator),n=0;t&&n<a;n++)r[n]!=="*"&&(n<i.length?t=r[n]===i[n]:t=!1);t=t&&i}else if(typeof e.splice=="function")for(t=[],n=e.length;n--;)this.match(e[n])&&(t[t.length]=e[n]);else if(dy(e)=="object"){t={};for(var o in e)this.match(o)&&(t[o]=e[o])}return t};y4.exports=function(e,t,r){var n=new v4(e,r||/[\/\.]/);return typeof t!="undefined"?n.match(t):n}});var b4=h(function(Odt,g4){var c5e=m4(),f5e=/[\/\+\.]/;g4.exports=function(e,t){function r(n){var a=c5e(n,e,f5e);return a&&a.length>=2}return t?r(t.split(";")[0]):r}});var R4=h(function(Ma){"use strict";function hy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hy=function(r){return typeof r}:hy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hy(e)}function p5e(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d5e(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function d5e(e,t){if(!!e){if(typeof e=="string")return _4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _4(e,t)}}function _4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h5e(e,t,r){return t&&w4(e.prototype,t),r&&w4(e,r),e}function jP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rf(e,t)}function O4(e){var t=P4();return function(){var n=qf(e),a;if(t){var i=qf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return v5e(this,a)}}function v5e(e,t){if(t&&(hy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y5e(e)}function y5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vy(e){var t=typeof Map=="function"?new Map:void 0;return vy=function(n){if(n===null||!m5e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return yy(n,arguments,qf(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Rf(a,n)},vy(e)}function yy(e,t,r){return P4()?yy=Reflect.construct:yy=function(a,i,o){var u=[null];u.push.apply(u,i);var s=Function.bind.apply(a,u),l=new s;return o&&Rf(l,o.prototype),l},yy.apply(null,arguments)}function P4(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function m5e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Rf(e,t){return Rf=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Rf(e,t)}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}Object.defineProperty(Ma,"__esModule",{value:!0});Ma.defaultOptions=Ma.RestrictionError=Ma.Restricter=void 0;var UP=py(),g5e=b4(),b5e={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};Ma.defaultOptions=b5e;var Ua=function(e){S4(r,e);var t=O4(r);function r(){var n;return jP(this,r),n=t.apply(this,arguments),n.isRestriction=!0,n}return r}(vy(Error));Ma.RestrictionError=Ua;typeof AggregateError=="undefined"&&(globalThis.AggregateError=function(e){S4(r,e);var t=O4(r);function r(n,a){var i;return jP(this,r),i=t.call(this,a),i.errors=n,i}return r}(vy(Error)));var _5e=function(){function e(t,r){jP(this,e),this.i18n=r,this.getOpts=function(){var n=t();if(n.restrictions.allowedFileTypes!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}return h5e(e,[{key:"validate",value:function(r,n){var a=this.getOpts().restrictions,i=a.maxFileSize,o=a.minFileSize,u=a.maxTotalFileSize,s=a.maxNumberOfFiles,l=a.allowedFileTypes;if(s&&n.length+1>s)throw new Ua("".concat(this.i18n("youCanOnlyUploadX",{smart_count:s})));if(l){var c=l.some(function(d){return d.includes("/")?r.type?g5e(r.type.replace(/;.*?$/,""),d):!1:d[0]==="."&&r.extension?r.extension.toLowerCase()===d.slice(1).toLowerCase():!1});if(!c){var f=l.join(", ");throw new Ua(this.i18n("youCanOnlyUploadFileTypes",{types:f}))}}if(u&&r.size!=null){var p=n.reduce(function(d,v){return d+v.size},r.size);if(p>u)throw new Ua(this.i18n("exceedsSize",{size:UP(u),file:r.name}))}if(i&&r.size!=null&&r.size>i)throw new Ua(this.i18n("exceedsSize",{size:UP(i),file:r.name}));if(o&&r.size!=null&&r.size<o)throw new Ua(this.i18n("inferiorSize",{size:UP(o)}))}},{key:"validateMinNumberOfFiles",value:function(r){var n=this.getOpts().restrictions.minNumberOfFiles;if(Object.keys(r).length<n)throw new Ua(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))}},{key:"getMissingRequiredMetaFields",value:function(r){var n=new Ua(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),a=this.getOpts().restrictions.requiredMetaFields,i=Object.prototype.hasOwnProperty,o=[],u=p5e(a),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;(!i.call(r.meta,l)||r.meta[l]==="")&&o.push(l)}}catch(c){u.e(c)}finally{u.f()}return{missingFields:o,error:n}}}]),e}();Ma.Restricter=_5e});var Ms=h(function(Rdt,q4){"use strict";function w5e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}q4.exports=w5e});var MP=h(function(qdt,I4){"use strict";function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function my(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(n){S5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S5e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gy=function(r){return typeof r}:gy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gy(e)}function O5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P5e(e,t,r){return t&&T4(e.prototype,t),r&&T4(e,r),e}function A4(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var R5e=0;function q5e(e){return"__private_"+R5e+++"_"+e}var E5e=Ms();function T5e(e,t,r){var n=[];return e.forEach(function(a){return typeof a!="string"?n.push(a):t[Symbol.split](a).forEach(function(i,o,u){i!==""&&n.push(i),o<u.length-1&&n.push(r)})}),n}function k4(e,t){var r=/\$/g,n="$$$$",a=[e];if(t==null)return a;for(var i=0,o=Object.keys(t);i<o.length;i++){var u=o[i];if(u!=="_"){var s=t[u];typeof s=="string"&&(s=r[Symbol.replace](s,n)),a=T5e(a,new RegExp("%\\{".concat(u,"\\}"),"g"),s)}}return a}var Ef=q5e("apply"),A5e=function(){function e(t){O5e(this,e),Object.defineProperty(this,Ef,{value:k5e}),this.locale={strings:{},pluralize:function(n){return n===1?0:1}},Array.isArray(t)?t.forEach(A4(this,Ef)[Ef],this):A4(this,Ef)[Ef](t)}return P5e(e,[{key:"translate",value:function(r,n){return this.translateArray(r,n).join("")}},{key:"translateArray",value:function(r,n){if(!E5e(this.locale.strings,r))throw new Error("missing string: ".concat(r));var a=this.locale.strings[r],i=gy(a)==="object";if(i){if(n&&typeof n.smart_count!="undefined"){var o=this.locale.pluralize(n.smart_count);return k4(a[o],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return k4(a,n)}}]),e}();function k5e(e){if(!!(e!=null&&e.strings)){var t=this.locale;this.locale=my(my({},t),{},{strings:my(my({},t.strings),e.strings)}),this.locale.pluralize=e.pluralize||t.pluralize}}I4.exports=A5e});var NP=h(function(Edt,F4){F4.exports=function(){var t={},r=t._fns={};t.emit=function(o,u,s,l,c,f,p){var d=n(o);d.length&&a(o,d,[u,s,l,c,f,p])},t.on=function(o,u){r[o]||(r[o]=[]),r[o].push(u)},t.once=function(o,u){function s(){u.apply(this,arguments),t.off(o,s)}this.on(o,s)},t.off=function(o,u){var s=[];if(o&&u){var l=this._fns[o],c=0,f=l?l.length:0;for(c;c<f;c++)l[c]!==u&&s.push(l[c])}s.length?this._fns[o]=s:delete this._fns[o]};function n(i){var o=r[i]?r[i]:[],u=i.indexOf(":"),s=u===-1?[i]:[i.substring(0,u),i.substring(u+1)],l=Object.keys(r),c=0,f=l.length;for(c;c<f;c++){var p=l[c];if(p==="*"&&(o=o.concat(r[p])),s.length===2&&s[0]===p){o=o.concat(r[p]);break}}return o}function a(i,o,u){var s=0,l=o.length;for(s;s<l&&o[s];s++)o[s].event=i,o[s].apply(o[s],u)}return t}});var Tf=h(function(Tdt,j4){function Na(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Na=function(r){return typeof r}:Na=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Na(e)}var x4="Expected a function",C4=0/0,I5e="[object Symbol]",F5e=/^\s+|\s+$/g,x5e=/^[-+]0x[0-9a-f]+$/i,C5e=/^0b[01]+$/i,D5e=/^0o[0-7]+$/i,j5e=parseInt,U5e=(typeof global=="undefined"?"undefined":Na(global))=="object"&&global&&global.Object===Object&&global,M5e=(typeof self=="undefined"?"undefined":Na(self))=="object"&&self&&self.Object===Object&&self,N5e=U5e||M5e||Function("return this")(),B5e=Object.prototype,L5e=B5e.toString,z5e=Math.max,H5e=Math.min,BP=function(){return N5e.Date.now()};function $5e(e,t,r){var n,a,i,o,u,s,l=0,c=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(x4);t=D4(t)||0,by(r)&&(c=!!r.leading,f="maxWait"in r,i=f?z5e(D4(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function d(D){var N=n,G=a;return n=a=void 0,l=D,o=e.apply(G,N),o}function v(D){return l=D,u=setTimeout(w,t),c?d(D):o}function m(D){var N=D-s,G=D-l,q=t-N;return f?H5e(q,i-G):q}function g(D){var N=D-s,G=D-l;return s===void 0||N>=t||N<0||f&&G>=i}function w(){var D=BP();if(g(D))return b(D);u=setTimeout(w,m(D))}function b(D){return u=void 0,p&&n?d(D):(n=a=void 0,o)}function O(){u!==void 0&&clearTimeout(u),l=0,n=s=a=u=void 0}function T(){return u===void 0?o:b(BP())}function x(){var D=BP(),N=g(D);if(n=arguments,a=this,s=D,N){if(u===void 0)return v(s);if(f)return u=setTimeout(w,t),d(s)}return u===void 0&&(u=setTimeout(w,t)),o}return x.cancel=O,x.flush=T,x}function W5e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(x4);return by(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),$5e(e,t,{leading:n,maxWait:t,trailing:a})}function by(e){var t=Na(e);return!!e&&(t=="object"||t=="function")}function V5e(e){return!!e&&Na(e)=="object"}function G5e(e){return Na(e)=="symbol"||V5e(e)&&L5e.call(e)==I5e}function D4(e){if(typeof e=="number")return e;if(G5e(e))return C4;if(by(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=by(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(F5e,"");var r=C5e.test(e);return r||D5e.test(e)?j5e(e.slice(2),r?2:8):x5e.test(e)?C4:+e}j4.exports=W5e});var HP=h(function(Adt,B4){"use strict";function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){K5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K5e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X5e(e,t,r){return t&&M4(e.prototype,t),r&&M4(e,r),e}function J5e(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Q5e=0;function Z5e(e){return"__private_"+Q5e+++"_"+e}var e8e={version:"2.1.0"},zP=Z5e("publish"),N4=function(){function e(){Y5e(this,e),Object.defineProperty(this,zP,{value:t8e}),this.state={},this.callbacks=[]}return X5e(e,[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(r){var n=LP({},this.state),a=LP(LP({},this.state),r);this.state=a,J5e(this,zP)[zP](n,a,r)}},{key:"subscribe",value:function(r){var n=this;return this.callbacks.push(r),function(){n.callbacks.splice(n.callbacks.indexOf(r),1)}}}]),e}();function t8e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.callbacks.forEach(function(n){n.apply(void 0,t)})}N4.VERSION=e8e.version;function r8e(){return new N4}B4.exports=r8e});var Af=h(function(kdt,L4){"use strict";function n8e(e){var t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}L4.exports=n8e});var $P=h(function(Idt,z4){"use strict";z4.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}});var WP=h(function(Fdt,$4){"use strict";var i8e=Af(),H4=$P();function a8e(e){var t;if(e.type)return e.type;var r=e.name?(t=i8e(e.name).extension)==null?void 0:t.toLowerCase():null;return r&&r in H4?H4[r]:"application/octet-stream"}$4.exports=a8e});var VP=h(function(xdt,V4){"use strict";function o8e(e){return e.charCodeAt(0).toString(32)}function W4(e){var t="";return e.replace(/[^A-Z0-9]/ig,function(r){return t+="-".concat(o8e(r)),"/"})+t}function u8e(e){var t="uppy";return typeof e.name=="string"&&(t+="-".concat(W4(e.name.toLowerCase()))),e.type!==void 0&&(t+="-".concat(e.type)),e.meta&&typeof e.meta.relativePath=="string"&&(t+="-".concat(W4(e.meta.relativePath.toLowerCase()))),e.data.size!==void 0&&(t+="-".concat(e.data.size)),e.data.lastModified!==void 0&&(t+="-".concat(e.data.lastModified)),t}V4.exports=u8e});var Y4=h(function(Cdt,K4){"use strict";function s8e(e,t){return p8e(e)||f8e(e,t)||c8e(e,t)||l8e()}function l8e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c8e(e,t){if(!!e){if(typeof e=="string")return G4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G4(e,t)}}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f8e(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function p8e(e){if(Array.isArray(e))return e}function d8e(e){if(e==null&&typeof navigator!="undefined"&&(e=navigator.userAgent),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var r=t[1],n=r.split("."),a=s8e(n,2),i=a[0],o=a[1];return i=parseInt(i,10),o=parseInt(o,10),i<15||i===15&&o<15063||i>18||i===18&&o>=18218}K4.exports=d8e});var J4=h(function(Ddt,X4){"use strict";function h8e(e,t){return t.name?t.name:e.split("/")[0]==="image"?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}X4.exports=h8e});var Z4=h(function(jdt,Q4){"use strict";Q4.exports={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}}});var QP=h(function(Udt,uL){"use strict";function eL(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function v8e(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){eL(i,n,a,o,u,"next",s)}function u(s){eL(i,n,a,o,u,"throw",s)}o(void 0)})}}function _y(e){return b8e(e)||g8e(e)||m8e(e)||y8e()}function y8e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m8e(e,t){if(!!e){if(typeof e=="string")return GP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GP(e,t)}}function g8e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b8e(e){if(Array.isArray(e))return GP(e)}function GP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ba(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ba=function(r){return typeof r}:Ba=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ba(e)}function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(n){Go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Go(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w8e(e,t,r){return t&&rL(e.prototype,t),r&&rL(e,r),e}var S8e=Vo(),nL=DP(),Ns=R4(),iL,aL;function se(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var O8e=0;function St(e){return"__private_"+O8e+++"_"+e}var P8e=MP(),R8e=NP(),q8e=Tf(),E8e=HP(),T8e=WP(),A8e=Af(),k8e=VP(),I8e=Y4(),F8e=J4(),x8e={version:"2.3.1"},C8e=Z4(),Mt=St("plugins"),qn=St("restricter"),kf=St("storeUnsubscribe"),ji=St("emitter"),Ko=St("preProcessors"),Yo=St("uploaders"),Ui=St("postProcessors"),xr=St("informAndEmit"),If=St("checkRequiredMetaFieldsOnFile"),KP=St("checkRequiredMetaFields"),Ff=St("assertNewUploadAllowed"),xf=St("checkAndCreateFileStateObject"),Cf=St("startIfAutoProceed"),YP=St("addListeners"),En=St("updateOnlineStatus"),Mi=St("createUpload"),XP=St("getUpload"),Xo=St("removeUpload"),Ni=St("runUpload");iL=Symbol.for("uppy test: getPlugins");aL=Symbol.for("uppy test: createUpload");var oL=function(e,t){function r(n){var a=this;_8e(this,r),Object.defineProperty(this,Ni,{value:W8e}),Object.defineProperty(this,Xo,{value:$8e}),Object.defineProperty(this,XP,{value:H8e}),Object.defineProperty(this,Mi,{value:z8e}),Object.defineProperty(this,YP,{value:L8e}),Object.defineProperty(this,Cf,{value:B8e}),Object.defineProperty(this,xf,{value:N8e}),Object.defineProperty(this,Ff,{value:M8e}),Object.defineProperty(this,KP,{value:U8e}),Object.defineProperty(this,If,{value:j8e}),Object.defineProperty(this,xr,{value:D8e}),Object.defineProperty(this,Mt,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,qn,{writable:!0,value:void 0}),Object.defineProperty(this,kf,{writable:!0,value:void 0}),Object.defineProperty(this,ji,{writable:!0,value:R8e()}),Object.defineProperty(this,Ko,{writable:!0,value:new Set}),Object.defineProperty(this,Yo,{writable:!0,value:new Set}),Object.defineProperty(this,Ui,{writable:!0,value:new Set}),Object.defineProperty(this,En,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=C8e;var i={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:Ns.defaultOptions,meta:{},onBeforeFileAdded:function(u){return u},onBeforeUpload:function(u){return u},store:E8e(),logger:nL.justErrorsLogger,infoTimeout:5e3};this.opts=J(J(J({},i),n),{},{restrictions:J(J({},i.restrictions),n&&n.restrictions)}),n&&n.logger&&n.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):n&&n.debug&&(this.opts.logger=nL.debugLogger),this.log("Using Core v".concat(this.constructor.VERSION)),this.i18nInit(),this.calculateProgress=q8e(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:I8e(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:J({},this.opts.meta),info:[],recoveredState:null}),se(this,qn)[qn]=new Ns.Restricter(function(){return a.opts},this.i18n),se(this,kf)[kf]=this.store.subscribe(function(o,u,s){a.emit("state-update",o,u,s),a.updateAll(u)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),se(this,YP)[YP]()}return w8e(r,[{key:"emit",value:function(a){for(var i,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];(i=se(this,ji)[ji]).emit.apply(i,[a].concat(u))}},{key:"on",value:function(a,i){return se(this,ji)[ji].on(a,i),this}},{key:"once",value:function(a,i){return se(this,ji)[ji].once(a,i),this}},{key:"off",value:function(a,i){return se(this,ji)[ji].off(a,i),this}},{key:"updateAll",value:function(a){this.iteratePlugins(function(i){i.update(a)})}},{key:"setState",value:function(a){this.store.setState(a)}},{key:"getState",value:function(){return this.store.getState()}},{key:"state",get:function(){return this.getState()}},{key:"setFileState",value:function(a,i){if(!this.getState().files[a])throw new Error("Can\u2019t set state for ".concat(a," (the file could have been removed)"));this.setState({files:J(J({},this.getState().files),{},Go({},a,J(J({},this.getState().files[a]),i)))})}},{key:"i18nInit",value:function(){var a=new P8e([this.defaultLocale,this.opts.locale]);this.i18n=a.translate.bind(a),this.i18nArray=a.translateArray.bind(a),this.locale=a.locale}},{key:"setOptions",value:function(a){this.opts=J(J(J({},this.opts),a),{},{restrictions:J(J({},this.opts.restrictions),a&&a.restrictions)}),a.meta&&this.setMeta(a.meta),this.i18nInit(),a.locale&&this.iteratePlugins(function(i){i.setOptions()}),this.setState()}},{key:"resetProgress",value:function(){var a={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},i=J({},this.getState().files),o={};Object.keys(i).forEach(function(u){var s=J({},i[u]);s.progress=J(J({},s.progress),a),o[u]=s}),this.setState({files:o,totalProgress:0}),this.emit("reset-progress")}},{key:"addPreProcessor",value:function(a){se(this,Ko)[Ko].add(a)}},{key:"removePreProcessor",value:function(a){return se(this,Ko)[Ko].delete(a)}},{key:"addPostProcessor",value:function(a){se(this,Ui)[Ui].add(a)}},{key:"removePostProcessor",value:function(a){return se(this,Ui)[Ui].delete(a)}},{key:"addUploader",value:function(a){se(this,Yo)[Yo].add(a)}},{key:"removeUploader",value:function(a){return se(this,Yo)[Yo].delete(a)}},{key:"setMeta",value:function(a){var i=J(J({},this.getState().meta),a),o=J({},this.getState().files);Object.keys(o).forEach(function(u){o[u]=J(J({},o[u]),{},{meta:J(J({},o[u].meta),a)})}),this.log("Adding metadata:"),this.log(a),this.setState({meta:i,files:o})}},{key:"setFileMeta",value:function(a,i){var o=J({},this.getState().files);if(!o[a]){this.log("Was trying to set metadata for a file that has been removed: ",a);return}var u=J(J({},o[a].meta),i);o[a]=J(J({},o[a]),{},{meta:u}),this.setState({files:o})}},{key:"getFile",value:function(a){return this.getState().files[a]}},{key:"getFiles",value:function(){var a=this.getState(),i=a.files;return Object.values(i)}},{key:"getObjectOfFilesPerState",value:function(){var a=this.getState(),i=a.files,o=a.totalProgress,u=a.error,s=Object.values(i),l=s.filter(function(b){var O=b.progress;return!O.uploadComplete&&O.uploadStarted}),c=s.filter(function(b){return!b.progress.uploadStarted}),f=s.filter(function(b){return b.progress.uploadStarted||b.progress.preprocess||b.progress.postprocess}),p=s.filter(function(b){return b.progress.uploadStarted}),d=s.filter(function(b){return b.isPaused}),v=s.filter(function(b){return b.progress.uploadComplete}),m=s.filter(function(b){return b.error}),g=l.filter(function(b){return!b.isPaused}),w=s.filter(function(b){return b.progress.preprocess||b.progress.postprocess});return{newFiles:c,startedFiles:f,uploadStartedFiles:p,pausedFiles:d,completeFiles:v,erroredFiles:m,inProgressFiles:l,inProgressNotPausedFiles:g,processingFiles:w,isUploadStarted:p.length>0,isAllComplete:o===100&&v.length===s.length&&w.length===0,isAllErrored:!!u&&m.length===s.length,isAllPaused:l.length!==0&&d.length===l.length,isUploadInProgress:l.length>0,isSomeGhost:s.some(function(b){return b.isGhost})}}},{key:"validateRestrictions",value:function(a,i){i===void 0&&(i=this.getFiles());try{return se(this,qn)[qn].validate(a,i),{result:!0}}catch(o){return{result:!1,reason:o.message}}}},{key:"checkIfFileAlreadyExists",value:function(a){var i=this.getState(),o=i.files;return!!(o[a]&&!o[a].isGhost)}},{key:"addFile",value:function(a){se(this,Ff)[Ff](a);var i=this.getState(),o=i.files,u=se(this,xf)[xf](o,a);return o[u.id]&&o[u.id].isGhost&&(u=J(J({},o[u.id]),{},{data:a.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(u.name,", ").concat(u.id))),this.setState({files:J(J({},o),{},Go({},u.id,u))}),this.emit("file-added",u),this.emit("files-added",[u]),this.log("Added file: ".concat(u.name,", ").concat(u.id,", mime type: ").concat(u.type)),se(this,Cf)[Cf](),u.id}},{key:"addFiles",value:function(a){var i=this;se(this,Ff)[Ff]();for(var o=J({},this.getState().files),u=[],s=[],l=0;l<a.length;l++)try{var c=se(this,xf)[xf](o,a[l]);o[c.id]&&o[c.id].isGhost&&(c=J(J({},o[c.id]),{},{data:a[l].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(c.name,", ").concat(c.id))),o[c.id]=c,u.push(c)}catch(d){d.isRestriction||s.push(d)}if(this.setState({files:o}),u.forEach(function(d){i.emit("file-added",d)}),this.emit("files-added",u),u.length>5?this.log("Added batch of ".concat(u.length," files")):Object.keys(u).forEach(function(d){i.log("Added file: ".concat(u[d].name,"\n id: ").concat(u[d].id,"\n type: ").concat(u[d].type))}),u.length>0&&se(this,Cf)[Cf](),s.length>0){var f="Multiple errors occurred while adding files:\n";if(s.forEach(function(d){f+="\n * ".concat(d.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:f},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(s,f);var p=new Error(f);throw p.errors=s,p}}},{key:"removeFiles",value:function(a,i){var o=this,u=this.getState(),s=u.files,l=u.currentUploads,c=J({},s),f=J({},l),p=Object.create(null);a.forEach(function(g){s[g]&&(p[g]=s[g],delete c[g])});function d(g){return p[g]===void 0}Object.keys(f).forEach(function(g){var w=l[g].fileIDs.filter(d);if(w.length===0){delete f[g];return}f[g]=J(J({},l[g]),{},{fileIDs:w})});var v={currentUploads:f,files:c};Object.keys(c).length===0&&(v.allowNewUpload=!0,v.error=null,v.recoveredState=null),this.setState(v),this.calculateTotalProgress();var m=Object.keys(p);m.forEach(function(g){o.emit("file-removed",p[g],i)}),m.length>5?this.log("Removed ".concat(m.length," files")):this.log("Removed files: ".concat(m.join(", ")))}},{key:"removeFile",value:function(a,i){i===void 0&&(i=null),this.removeFiles([a],i)}},{key:"pauseResume",value:function(a){if(!(!this.getState().capabilities.resumableUploads||this.getFile(a).uploadComplete)){var i=this.getFile(a).isPaused||!1,o=!i;return this.setFileState(a,{isPaused:o}),this.emit("upload-pause",a,o),o}}},{key:"pauseAll",value:function(){var a=J({},this.getState().files),i=Object.keys(a).filter(function(o){return!a[o].progress.uploadComplete&&a[o].progress.uploadStarted});i.forEach(function(o){var u=J(J({},a[o]),{},{isPaused:!0});a[o]=u}),this.setState({files:a}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var a=J({},this.getState().files),i=Object.keys(a).filter(function(o){return!a[o].progress.uploadComplete&&a[o].progress.uploadStarted});i.forEach(function(o){var u=J(J({},a[o]),{},{isPaused:!1,error:null});a[o]=u}),this.setState({files:a}),this.emit("resume-all")}},{key:"retryAll",value:function(){var a=J({},this.getState().files),i=Object.keys(a).filter(function(u){return a[u].error});if(i.forEach(function(u){var s=J(J({},a[u]),{},{isPaused:!1,error:null});a[u]=s}),this.setState({files:a,error:null}),this.emit("retry-all",i),i.length===0)return Promise.resolve({successful:[],failed:[]});var o=se(this,Mi)[Mi](i,{forceAllowNewUpload:!0});return se(this,Ni)[Ni](o)}},{key:"cancelAll",value:function(a){var i=a===void 0?{}:a,o=i.reason,u=o===void 0?"user":o;if(this.emit("cancel-all",{reason:u}),u==="user"){var s=this.getState(),l=s.files,c=Object.keys(l);c.length&&this.removeFiles(c,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}},{key:"retryUpload",value:function(a){this.setFileState(a,{error:null,isPaused:!1}),this.emit("upload-retry",a);var i=se(this,Mi)[Mi]([a],{forceAllowNewUpload:!0});return se(this,Ni)[Ni](i)}},{key:"reset",value:function(){this.cancelAll.apply(this,arguments)}},{key:"logout",value:function(){this.iteratePlugins(function(a){a.provider&&a.provider.logout&&a.provider.logout()})}},{key:"calculateProgress",value:function(a,i){if(a==null||!this.getFile(a.id)){this.log("Not setting progress for a file that has been removed: ".concat(a==null?void 0:a.id));return}var o=Number.isFinite(i.bytesTotal)&&i.bytesTotal>0;this.setFileState(a.id,{progress:J(J({},this.getFile(a.id).progress),{},{bytesUploaded:i.bytesUploaded,bytesTotal:i.bytesTotal,percentage:o?Math.round(i.bytesUploaded/i.bytesTotal*100):0})}),this.calculateTotalProgress()}},{key:"calculateTotalProgress",value:function(){var a=this.getFiles(),i=a.filter(function(m){return m.progress.uploadStarted||m.progress.preprocess||m.progress.postprocess});if(i.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}var o=i.filter(function(m){return m.progress.bytesTotal!=null}),u=i.filter(function(m){return m.progress.bytesTotal==null});if(o.length===0){var s=i.length*100,l=u.reduce(function(m,g){return m+g.progress.percentage},0),c=Math.round(l/s*100);this.setState({totalProgress:c});return}var f=o.reduce(function(m,g){return m+g.progress.bytesTotal},0),p=f/o.length;f+=p*u.length;var d=0;o.forEach(function(m){d+=m.progress.bytesUploaded}),u.forEach(function(m){d+=p*(m.progress.percentage||0)/100});var v=f===0?0:Math.round(d/f*100);v>100&&(v=100),this.setState({totalProgress:v}),this.emit("progress",v)}},{key:"updateOnlineStatus",value:function(){var a=typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0;a?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(a,i){if(typeof a!="function"){var o="Expected a plugin class, but got ".concat(a===null?"null":Ba(a),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(o)}var u=new a(this,i),s=u.id;if(!s)throw new Error("Your plugin must have an id");if(!u.type)throw new Error("Your plugin must have a type");var l=this.getPlugin(s);if(l){var c="Already found a plugin named '".concat(l.id,"'. ")+"Tried to use: '".concat(s,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(c)}return a.VERSION&&this.log("Using ".concat(s," v").concat(a.VERSION)),u.type in se(this,Mt)[Mt]?se(this,Mt)[Mt][u.type].push(u):se(this,Mt)[Mt][u.type]=[u],u.install(),this}},{key:"getPlugin",value:function(a){for(var i=0,o=Object.values(se(this,Mt)[Mt]);i<o.length;i++){var u=o[i],s=u.find(function(l){return l.id===a});if(s!=null)return s}}},{key:e,value:function(a){return se(this,Mt)[Mt][a]}},{key:"iteratePlugins",value:function(a){Object.values(se(this,Mt)[Mt]).flat(1).forEach(a)}},{key:"removePlugin",value:function(a){this.log("Removing plugin ".concat(a.id)),this.emit("plugin-remove",a),a.uninstall&&a.uninstall();var i=se(this,Mt)[Mt][a.type],o=i.findIndex(function(l){return l.id===a.id});o!==-1&&i.splice(o,1);var u=this.getState(),s={plugins:J(J({},u.plugins),{},Go({},a.id,void 0))};this.setState(s)}},{key:"close",value:function(a){var i=this,o=a===void 0?{}:a,u=o.reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:u}),se(this,kf)[kf](),this.iteratePlugins(function(s){i.removePlugin(s)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",se(this,En)[En]),window.removeEventListener("offline",se(this,En)[En]))}},{key:"hideInfo",value:function(){var a=this.getState(),i=a.info;this.setState({info:i.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(a,i,o){var u=this;i===void 0&&(i="info"),o===void 0&&(o=3e3);var s=Ba(a)==="object";this.setState({info:[].concat(_y(this.getState().info),[{type:i,message:s?a.message:a,details:s?a.details:null}])}),setTimeout(function(){return u.hideInfo()},o),this.emit("info-visible")}},{key:"log",value:function(a,i){var o=this.opts.logger;switch(i){case"error":o.error(a);break;case"warning":o.warn(a);break;default:o.debug(a);break}}},{key:"restore",value:function(a){return this.log('Core: attempting to restore upload "'.concat(a,'"')),this.getState().currentUploads[a]?se(this,Ni)[Ni](a):(se(this,Xo)[Xo](a),Promise.reject(new Error("Nonexistent upload")))}},{key:t,value:function(){var a;return(a=se(this,Mi))[Mi].apply(a,arguments)}},{key:"addResultData",value:function(a,i){if(!se(this,XP)[XP](a)){this.log("Not setting result for an upload that has been removed: ".concat(a));return}var o=this.getState(),u=o.currentUploads,s=J(J({},u[a]),{},{result:J(J({},u[a].result),i)});this.setState({currentUploads:J(J({},u),{},Go({},a,s))})}},{key:"upload",value:function(){var a=this,i;(i=se(this,Mt)[Mt].uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");var o=this.getState(),u=o.files,s=this.opts.onBeforeUpload(u);return s===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(s&&Ba(s)==="object"&&(u=s,this.setState({files:u})),Promise.resolve().then(function(){return se(a,qn)[qn].validateMinNumberOfFiles(u)}).catch(function(l){throw se(a,xr)[xr](l),l}).then(function(){if(!se(a,KP)[KP](u))throw new Ns.RestrictionError(a.i18n("missingRequiredMetaField"))}).catch(function(l){throw l}).then(function(){var l=a.getState(),c=l.currentUploads,f=Object.values(c).flatMap(function(v){return v.fileIDs}),p=[];Object.keys(u).forEach(function(v){var m=a.getFile(v);!m.progress.uploadStarted&&f.indexOf(v)===-1&&p.push(m.id)});var d=se(a,Mi)[Mi](p);return se(a,Ni)[Ni](d)}).catch(function(l){throw a.emit("error",l),a.log(l,"error"),l}))}}]),r}(iL,aL);function D8e(e,t){var r=e.message,n=e.details,a=n===void 0?"":n;e.isRestriction?this.emit("restriction-failed",t,e):this.emit("error",e),this.info({message:r,details:a},"error",this.opts.infoTimeout),this.log("".concat(r," ").concat(a).trim(),"error")}function j8e(e){var t=se(this,qn)[qn].getMissingRequiredMetaFields(e),r=t.missingFields,n=t.error;return r.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:r}),this.log(n.message),this.emit("restriction-failed",e,n),!1):!0}function U8e(e){for(var t=!0,r=0,n=Object.values(e);r<n.length;r++){var a=n[r];se(this,If)[If](a)||(t=!1)}return t}function M8e(e){var t=this.getState(),r=t.allowNewUpload;if(r===!1){var n=new Ns.RestrictionError(this.i18n("noMoreFilesAllowed"));throw se(this,xr)[xr](n,e),n}}function N8e(e,t){var r=T8e(t),n=F8e(r,t),a=A8e(n).extension,i=Boolean(t.isRemote),o=k8e(J(J({},t),{},{type:r}));if(this.checkIfFileAlreadyExists(o)){var u=new Ns.RestrictionError(this.i18n("noDuplicates",{fileName:n}));throw se(this,xr)[xr](u,t),u}var s=t.meta||{};s.name=n,s.type=r;var l=Number.isFinite(t.data.size)?t.data.size:null,c={source:t.source||"",id:o,name:n,extension:a||"",meta:J(J({},this.getState().meta),s),type:r,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:i,remote:t.remote||"",preview:t.preview},f=this.opts.onBeforeFileAdded(c,e);if(f===!1){var p=new Ns.RestrictionError("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",t,p),p}else Ba(f)==="object"&&f!==null&&(c=f);try{var d=Object.keys(e).map(function(v){return e[v]});se(this,qn)[qn].validate(c,d)}catch(v){throw se(this,xr)[xr](v,c),v}return c}function B8e(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){e.scheduledAutoProceed=null,e.upload().catch(function(t){t.isRestriction||e.log(t.stack||t.message||t)})},4))}function L8e(){var e=this,t=function(n,a,i){var o=n.message||"Unknown error";n.details&&(o+=" ".concat(n.details)),e.setState({error:o}),a!=null&&a.id in e.getState().files&&e.setFileState(a.id,{error:o,response:i})};this.on("error",t),this.on("upload-error",function(r,n,a){if(t(n,r,a),Ba(n)==="object"&&n.message){var i=new Error(n.message);i.details=n.message,n.details&&(i.details+=" ".concat(n.details)),i.message=e.i18n("failedToUpload",{file:r==null?void 0:r.name}),se(e,xr)[xr](i)}else se(e,xr)[xr](n)}),this.on("upload",function(){e.setState({error:null})}),this.on("upload-started",function(r){if(r==null||!e.getFile(r.id)){e.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}e.setFileState(r.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:r.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(r,n){if(r==null||!e.getFile(r.id)){e.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var a=e.getFile(r.id).progress;e.setFileState(r.id,{progress:J(J({},a),{},{postprocess:se(e,Ui)[Ui].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:a.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),r.size==null&&e.setFileState(r.id,{size:n.bytesUploaded||a.bytesTotal}),e.calculateTotalProgress()}),this.on("preprocess-progress",function(r,n){if(r==null||!e.getFile(r.id)){e.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}e.setFileState(r.id,{progress:J(J({},e.getFile(r.id).progress),{},{preprocess:n})})}),this.on("preprocess-complete",function(r){if(r==null||!e.getFile(r.id)){e.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=J({},e.getState().files);n[r.id]=J(J({},n[r.id]),{},{progress:J({},n[r.id].progress)}),delete n[r.id].progress.preprocess,e.setState({files:n})}),this.on("postprocess-progress",function(r,n){if(r==null||!e.getFile(r.id)){e.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}e.setFileState(r.id,{progress:J(J({},e.getState().files[r.id].progress),{},{postprocess:n})})}),this.on("postprocess-complete",function(r){if(r==null||!e.getFile(r.id)){e.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=J({},e.getState().files);n[r.id]=J(J({},n[r.id]),{},{progress:J({},n[r.id].progress)}),delete n[r.id].progress.postprocess,e.setState({files:n})}),this.on("restored",function(){e.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(r){r&&se(e,If)[If](r)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",se(this,En)[En]),window.addEventListener("offline",se(this,En)[En]),setTimeout(se(this,En)[En],3e3))}function z8e(e,t){t===void 0&&(t={});var r=t,n=r.forceAllowNewUpload,a=n===void 0?!1:n,i=this.getState(),o=i.allowNewUpload,u=i.currentUploads;if(!o&&!a)throw new Error("Cannot create a new upload: already uploading.");var s=(0,S8e.nanoid)();return this.emit("upload",{id:s,fileIDs:e}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:J(J({},u),{},Go({},s,{fileIDs:e,step:0,result:{}}))}),s}function H8e(e){var t=this.getState(),r=t.currentUploads;return r[e]}function $8e(e){var t=J({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function W8e(e){return JP.apply(this,arguments)}function JP(){return JP=v8e(regeneratorRuntime.mark(function e(t){var r=this,n,a,i,o,u,s,l,c,f,p,d,v;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:n=this.getState(),a=n.currentUploads,i=a[t],o=i.step||0,u=[].concat(_y(se(this,Ko)[Ko]),_y(se(this,Yo)[Yo]),_y(se(this,Ui)[Ui])),g.prev=4,s=o;case 6:if(!(s<u.length)){g.next=19;break}if(i){g.next=9;break}return g.abrupt("break",19);case 9:return l=u[s],c=J(J({},i),{},{step:s}),this.setState({currentUploads:J(J({},a),{},Go({},t,c))}),g.next=14,l(c.fileIDs,t);case 14:a=this.getState().currentUploads,i=a[t];case 16:s++,g.next=6;break;case 19:g.next=25;break;case 21:throw g.prev=21,g.t0=g.catch(4),se(this,Xo)[Xo](t),g.t0;case 25:if(!i){g.next=34;break}return i.fileIDs.forEach(function(w){var b=r.getFile(w);b&&b.progress.postprocess&&r.emit("postprocess-complete",b)}),f=i.fileIDs.map(function(w){return r.getFile(w)}),p=f.filter(function(w){return!w.error}),d=f.filter(function(w){return w.error}),g.next=32,this.addResultData(t,{successful:p,failed:d,uploadID:t});case 32:a=this.getState().currentUploads,i=a[t];case 34:return i&&(v=i.result,this.emit("complete",v),se(this,Xo)[Xo](t)),v==null&&this.log("Not setting result for an upload that has been removed: ".concat(t)),g.abrupt("return",v);case 37:case"end":return g.stop()}},e,this,[[4,21]])})),JP.apply(this,arguments)}oL.VERSION=x8e.version;uL.exports=oL});var ne={};Xk(ne,{Component:function(){return Nf},Fragment:function(){return Mf},cloneElement:function(){return J8e},createContext:function(){return Q8e},createElement:function(){return vL},createRef:function(){return G8e},h:function(){return vL},hydrate:function(){return TL},isValidElement:function(){return lL},options:function(){return ve},render:function(){return EL},toChildArray:function(){return bL}});function Bi(e,t){for(var r in t)e[r]=t[r];return e}function hL(e){var t=e.parentNode;t&&t.removeChild(e)}function vL(e,t,r){var n,a,i,o={};for(i in t)i=="key"?n=t[i]:i=="ref"?a=t[i]:o[i]=t[i];if(arguments.length>2&&(o.children=arguments.length>3?Df.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)o[i]===void 0&&(o[i]=e.defaultProps[i]);return Uf(e,o,n,a,null)}function Uf(e,t,r,n,a){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++sL:a};return a==null&&ve.vnode!=null&&ve.vnode(i),i}function G8e(){return{current:null}}function Mf(e){return e.children}function Nf(e,t){this.props=e,this.context=t}function Bs(e,t){if(t==null)return e.__?Bs(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Bs(e):null}function yL(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return yL(e)}}function ZP(e){(!e.__d&&(e.__d=!0)&&jf.push(e)&&!Sy.__r++||fL!==ve.debounceRendering)&&((fL=ve.debounceRendering)||cL)(Sy)}function Sy(){for(var e;Sy.__r=jf.length;)e=jf.sort(function(t,r){return t.__v.__b-r.__v.__b}),jf=[],e.some(function(t){var r,n,a,i,o,u;t.__d&&(o=(i=(r=t).__v).__e,(u=r.__P)&&(n=[],(a=Bi({},i)).__v=i.__v+1,eR(u,i,a,r.__n,u.ownerSVGElement!==void 0,i.__h!=null?[o]:null,n,o==null?Bs(i):o,i.__h),PL(n,i),i.__e!=o&&yL(i)))})}function mL(e,t,r,n,a,i,o,u,s,l){var c,f,p,d,v,m,g,w=n&&n.__k||dL,b=w.length;for(r.__k=[],c=0;c<t.length;c++)if((d=r.__k[c]=(d=t[c])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Uf(null,d,null,null,d):Array.isArray(d)?Uf(Mf,{children:d},null,null,null):d.__b>0?Uf(d.type,d.props,d.key,null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(p=w[c])===null||p&&d.key==p.key&&d.type===p.type)w[c]=void 0;else for(f=0;f<b;f++){if((p=w[f])&&d.key==p.key&&d.type===p.type){w[f]=void 0;break}p=null}eR(e,d,p=p||wy,a,i,o,u,s,l),v=d.__e,(f=d.ref)&&p.ref!=f&&(g||(g=[]),p.ref&&g.push(p.ref,null,d),g.push(f,d.__c||v,d)),v!=null?(m==null&&(m=v),typeof d.type=="function"&&d.__k===p.__k?d.__d=s=gL(d,s,e):s=_L(e,d,p,w,v,s),typeof r.type=="function"&&(r.__d=s)):s&&p.__e==s&&s.parentNode!=e&&(s=Bs(p))}for(r.__e=m,c=b;c--;)w[c]!=null&&(typeof r.type=="function"&&w[c].__e!=null&&w[c].__e==r.__d&&(r.__d=Bs(n,c+1)),qL(w[c],w[c]));if(g)for(c=0;c<g.length;c++)RL(g[c],g[++c],g[++c])}function gL(e,t,r){for(var n,a=e.__k,i=0;a&&i<a.length;i++)(n=a[i])&&(n.__=e,t=typeof n.type=="function"?gL(n,t,r):_L(r,n,n,a,n.__e,t));return t}function bL(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(r){bL(r,t)}):t.push(e)),t}function _L(e,t,r,n,a,i){var o,u,s;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(r==null||a!=i||a.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(a),o=null;else{for(u=i,s=0;(u=u.nextSibling)&&s<n.length;s+=2)if(u==a)break e;e.insertBefore(a,i),o=i}return o!==void 0?o:a.nextSibling}function K8e(e,t,r,n,a){var i;for(i in r)i==="children"||i==="key"||i in t||Oy(e,i,null,r[i],n);for(i in t)a&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===t[i]||Oy(e,i,t[i],r[i],n)}function wL(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=r==null?"":typeof r!="number"||V8e.test(t)?r:r+"px"}function Oy(e,t,r,n,a){var i;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||wL(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||wL(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n||e.addEventListener(t,i?OL:SL,i):e.removeEventListener(t,i?OL:SL,i);else if(t!=="dangerouslySetInnerHTML"){if(a)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=r==null?"":r;break e}catch(o){}typeof r=="function"||(r!=null&&(r!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,r):e.removeAttribute(t))}}function SL(e){this.l[e.type+!1](ve.event?ve.event(e):e)}function OL(e){this.l[e.type+!0](ve.event?ve.event(e):e)}function eR(e,t,r,n,a,i,o,u,s){var l,c,f,p,d,v,m,g,w,b,O,T=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(s=r.__h,u=t.__e=r.__e,t.__h=null,i=[u]),(l=ve.__b)&&l(t);try{e:if(typeof T=="function"){if(g=t.props,w=(l=T.contextType)&&n[l.__c],b=l?w?w.props.value:l.__:n,r.__c?m=(c=t.__c=r.__c).__=c.__E:("prototype"in T&&T.prototype.render?t.__c=c=new T(g,b):(t.__c=c=new Nf(g,b),c.constructor=T,c.render=X8e),w&&w.sub(c),c.props=g,c.state||(c.state={}),c.context=b,c.__n=n,f=c.__d=!0,c.__h=[]),c.__s==null&&(c.__s=c.state),T.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Bi({},c.__s)),Bi(c.__s,T.getDerivedStateFromProps(g,c.__s))),p=c.props,d=c.state,f)T.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(T.getDerivedStateFromProps==null&&g!==p&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,b),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,b)===!1||t.__v===r.__v){c.props=g,c.state=c.__s,t.__v!==r.__v&&(c.__d=!1),c.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(x){x&&(x.__=t)}),c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,b),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(p,d,v)})}c.context=b,c.props=g,c.state=c.__s,(l=ve.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),c.state=c.__s,c.getChildContext!=null&&(n=Bi(Bi({},n),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(p,d)),O=l!=null&&l.type===Mf&&l.key==null?l.props.children:l,mL(e,Array.isArray(O)?O:[O],t,r,n,a,i,o,u,s),c.base=t.__e,t.__h=null,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else i==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=Y8e(r.__e,t,r,n,a,i,o,s);(l=ve.diffed)&&l(t)}catch(x){t.__v=null,(s||i!=null)&&(t.__e=u,t.__h=!!s,i[i.indexOf(u)]=null),ve.__e(x,t,r)}}function PL(e,t){ve.__c&&ve.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){ve.__e(n,r.__v)}})}function Y8e(e,t,r,n,a,i,o,u){var s,l,c,f=r.props,p=t.props,d=t.type,v=0;if(d==="svg"&&(a=!0),i!=null){for(;v<i.length;v++)if((s=i[v])&&"setAttribute"in s==!!d&&(d?s.localName===d:s.nodeType===3)){e=s,i[v]=null;break}}if(e==null){if(d===null)return document.createTextNode(p);e=a?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),i=null,u=!1}if(d===null)f===p||u&&e.data===p||(e.data=p);else{if(i=i&&Df.call(e.childNodes),l=(f=r.props||wy).dangerouslySetInnerHTML,c=p.dangerouslySetInnerHTML,!u){if(i!=null)for(f={},v=0;v<e.attributes.length;v++)f[e.attributes[v].name]=e.attributes[v].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(K8e(e,p,f,a,u),c)t.__k=[];else if(v=t.props.children,mL(e,Array.isArray(v)?v:[v],t,r,n,a&&d!=="foreignObject",i,o,i?i[0]:r.__k&&Bs(r,0),u),i!=null)for(v=i.length;v--;)i[v]!=null&&hL(i[v]);u||("value"in p&&(v=p.value)!==void 0&&(v!==f.value||v!==e.value||d==="progress"&&!v)&&Oy(e,"value",v,f.value,!1),"checked"in p&&(v=p.checked)!==void 0&&v!==e.checked&&Oy(e,"checked",v,f.checked,!1))}return e}function RL(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){ve.__e(n,r)}}function qL(e,t,r){var n,a;if(ve.unmount&&ve.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||RL(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){ve.__e(i,t)}n.base=n.__P=null}if(n=e.__k)for(a=0;a<n.length;a++)n[a]&&qL(n[a],t,typeof e.type!="function");r||e.__e==null||hL(e.__e),e.__e=e.__d=void 0}function X8e(e,t,r){return this.constructor(e,r)}function EL(e,t,r){var n,a,i;ve.__&&ve.__(e,t),a=(n=typeof r=="function")?null:r&&r.__k||t.__k,i=[],eR(t,e=(!n&&r||t).__k=vL(Mf,null,[e]),a||wy,wy,t.ownerSVGElement!==void 0,!n&&r?[r]:a?null:t.firstChild?Df.call(t.childNodes):null,i,!n&&r?r:a?a.__e:t.firstChild,n),PL(i,e)}function TL(e,t){EL(e,t,TL)}function J8e(e,t,r){var n,a,i,o=Bi({},e.props);for(i in t)i=="key"?n=t[i]:i=="ref"?a=t[i]:o[i]=t[i];return arguments.length>2&&(o.children=arguments.length>3?Df.call(arguments,2):r),Uf(e.type,o,n||e.key,a||e.ref,null)}function Q8e(e,t){var r={__c:t="__cC"+pL++,__:e,Consumer:function(a,i){return a.children(i)},Provider:function(a){var i,o;return this.getChildContext||(i=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&i.some(ZP)},this.sub=function(u){i.push(u);var s=u.componentWillUnmount;u.componentWillUnmount=function(){i.splice(i.indexOf(u),1),s&&s.call(u)}}),a.children}};return r.Provider.__=r.Consumer.contextType=r}var Df,ve,sL,lL,jf,cL,fL,pL,wy,dL,V8e,te=Yk(function(){wy={},dL=[],V8e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Df=dL.slice,ve={__e:function(t,r){for(var n,a,i;r=r.__;)if((n=r.__c)&&!n.__)try{if((a=n.constructor)&&a.getDerivedStateFromError!=null&&(n.setState(a.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t}},sL=0,lL=function(t){return t!=null&&t.constructor===void 0},Nf.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Bi({},this.state),typeof e=="function"&&(e=e(Bi({},r),this.props)),e&&Bi(r,e),e!=null&&this.__v&&(t&&this.__h.push(t),ZP(this))},Nf.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ZP(this))},Nf.prototype.render=Mf,jf=[],cL=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Sy.__r=0,pL=0});var tR=h(function(Mdt,AL){"use strict";function Z8e(e){return(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE}AL.exports=Z8e});var rR=h(function(Ndt,kL){"use strict";var eBe=tR();function tBe(e,t){return t===void 0&&(t=document),typeof e=="string"?t.querySelector(e):eBe(e)?e:null}kL.exports=tBe});var nR=h(function(Bdt,IL){"use strict";function rBe(e){for(var t;e&&!e.dir;)e=e.parentNode;return(t=e)==null?void 0:t.dir}IL.exports=rBe});var rn=h(function(Ldt,DL){"use strict";function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){xL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iBe(e,t,r){return t&&CL(e.prototype,t),r&&CL(e,r),e}var aBe=MP(),oBe=function(){function e(t,r){nBe(this,e),r===void 0&&(r={}),this.uppy=t,this.opts=r}return iBe(e,[{key:"getPluginState",value:function(){var r=this.uppy.getState(),n=r.plugins;return n[this.id]||{}}},{key:"setPluginState",value:function(r){var n=this.uppy.getState(),a=n.plugins;this.uppy.setState({plugins:Ls(Ls({},a),{},xL({},this.id,Ls(Ls({},a[this.id]),r)))})}},{key:"setOptions",value:function(r){this.opts=Ls(Ls({},this.opts),r),this.setPluginState(),this.i18nInit()}},{key:"i18nInit",value:function(){var r=new aBe([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()}},{key:"addTarget",value:function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"render",value:function(){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(){}},{key:"afterUpdate",value:function(){}}]),e}();DL.exports=oBe});var oR=h(function(zdt,BL){"use strict";function Bf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bf=function(r){return typeof r}:Bf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bf(e)}function uBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sBe(e,t,r){return t&&jL(e.prototype,t),r&&jL(e,r),e}function lBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iR(e,t)}function iR(e,t){return iR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},iR(e,t)}function cBe(e){var t=pBe();return function(){var n=Py(e),a;if(t){var i=Py(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return fBe(this,a)}}function fBe(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UL(e)}function UL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pBe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function dBe(e){return mBe(e)||yBe(e)||vBe(e)||hBe()}function hBe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vBe(e,t){if(!!e){if(typeof e=="string")return aR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(e,t)}}function yBe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mBe(e){if(Array.isArray(e))return aR(e)}function aR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ML=(te(),re(ne));function NL(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var gBe=0;function bBe(e){return"__private_"+gBe+++"_"+e}var _Be=rR(),wBe=nR(),SBe=rn();function OBe(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=a,t||(t=Promise.resolve().then(function(){return t=null,e.apply(void 0,dBe(r))})),t}}var Lf=bBe("updateUI"),PBe=function(e){lBe(r,e);var t=cBe(r);function r(){var n;return uBe(this,r),n=t.apply(this,arguments),Object.defineProperty(UL(n),Lf,{writable:!0,value:void 0}),n}return sBe(r,[{key:"mount",value:function(a,i){var o=this,u=i.id,s=_Be(a);if(s){this.isTargetDOMEl=!0;var l=document.createElement("div");return l.classList.add("uppy-Root"),NL(this,Lf)[Lf]=OBe(function(d){!o.uppy.getPlugin(o.id)||((0,ML.render)(o.render(d),l),o.afterUpdate())}),this.uppy.log("Installing ".concat(u," to a DOM element '").concat(a,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),(0,ML.render)(this.render(this.uppy.getState()),l),this.el=l,s.appendChild(l),l.dir=this.opts.direction||wBe(l)||"ltr",this.onMount(),this.el}var c;if(Bf(a)==="object"&&a instanceof r)c=a;else if(typeof a=="function"){var f=a;this.uppy.iteratePlugins(function(d){d instanceof f&&(c=d)})}if(c)return this.uppy.log("Installing ".concat(u," to ").concat(c.id)),this.parent=c,this.el=c.addTarget(i),this.onMount(),this.el;this.uppy.log("Not installing ".concat(u));var p="Invalid target option given to ".concat(u,".");throw typeof a=="function"?p+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":p+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(p)}},{key:"update",value:function(a){if(this.el!=null){var i,o;(i=(o=NL(this,Lf))[Lf])==null||i.call(o,a)}}},{key:"unmount",value:function(){if(this.isTargetDOMEl){var a;(a=this.el)==null||a.remove()}this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}]),r}(SBe);BL.exports=PBe});var Xe=h(function(Li,zL){"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.Uppy=Li.UIPlugin=Li.BasePlugin=void 0;Object.defineProperty(Li,"debugLogger",{enumerable:!0,get:function(){return LL.debugLogger}});var LL=DP();zL.exports=QP();var RBe=oR();Li.UIPlugin=RBe;var qBe=rn();Li.BasePlugin=qBe;var zs=QP();Li.Uppy=zs;var EBe=oR(),TBe=rn();zs.Uppy=zs;zs.UIPlugin=EBe;zs.BasePlugin=TBe;zs.debugLogger=LL.debugLogger});var Hs=h(function(Hdt,$L){"use strict";function Ry(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ry=function(r){return typeof r}:Ry=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ry(e)}function ABe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zf(e,t)}function IBe(e){var t=HL();return function(){var n=Hf(e),a;if(t){var i=Hf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return FBe(this,a)}}function FBe(e,t){if(t&&(Ry(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xBe(e)}function xBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uR(e){var t=typeof Map=="function"?new Map:void 0;return uR=function(n){if(n===null||!CBe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return qy(n,arguments,Hf(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),zf(a,n)},uR(e)}function qy(e,t,r){return HL()?qy=Reflect.construct:qy=function(a,i,o){var u=[null];u.push.apply(u,i);var s=Function.bind.apply(a,u),l=new s;return o&&zf(l,o.prototype),l},qy.apply(null,arguments)}function HL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function CBe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function zf(e,t){return zf=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},zf(e,t)}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(e)}var DBe=function(e){kBe(r,e);var t=IBe(r);function r(n,a){var i;return ABe(this,r),a===void 0&&(a=null),i=t.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),i.cause=n,i.isNetworkError=!0,i.request=a,i}return r}(uR(Error));$L.exports=DBe});var Ey=h(function($dt,WL){"use strict";var jBe=Hs();function UBe(){return fetch.apply(void 0,arguments).catch(function(e){throw e.name==="AbortError"?e:new jBe(e)})}WL.exports=UBe});var Vf=h(function(Wdt,GL){"use strict";function Ty(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ty=function(r){return typeof r}:Ty=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ty(e)}function MBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$f(e,t)}function BBe(e){var t=VL();return function(){var n=Wf(e),a;if(t){var i=Wf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return LBe(this,a)}}function LBe(e,t){if(t&&(Ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zBe(e)}function zBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sR(e){var t=typeof Map=="function"?new Map:void 0;return sR=function(n){if(n===null||!HBe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Ay(n,arguments,Wf(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),$f(a,n)},sR(e)}function Ay(e,t,r){return VL()?Ay=Reflect.construct:Ay=function(a,i,o){var u=[null];u.push.apply(u,i);var s=Function.bind.apply(a,u),l=new s;return o&&$f(l,o.prototype),l},Ay.apply(null,arguments)}function VL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function HBe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function $f(e,t){return $f=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},$f(e,t)}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}var $Be=Ms(),WBe=function(e){NBe(r,e);var t=BBe(r);function r(n,a){var i;return MBe(this,r),a===void 0&&(a={}),i=t.call(this,n),i.cause=a.cause,i.cause&&$Be(i.cause,"isNetworkError")&&(i.isNetworkError=i.cause.isNetworkError),i}return r}(sR(Error));GL.exports=WBe});var XL=h(function(Vdt,YL){"use strict";function ky(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ky=function(r){return typeof r}:ky=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ky(e)}function VBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gf(e,t)}function KBe(e){var t=KL();return function(){var n=Kf(e),a;if(t){var i=Kf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return YBe(this,a)}}function YBe(e,t){if(t&&(ky(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XBe(e)}function XBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lR(e){var t=typeof Map=="function"?new Map:void 0;return lR=function(n){if(n===null||!JBe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Iy(n,arguments,Kf(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Gf(a,n)},lR(e)}function Iy(e,t,r){return KL()?Iy=Reflect.construct:Iy=function(a,i,o){var u=[null];u.push.apply(u,i);var s=Function.bind.apply(a,u),l=new s;return o&&Gf(l,o.prototype),l},Iy.apply(null,arguments)}function KL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function JBe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Gf(e,t){return Gf=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Gf(e,t)}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}var QBe=function(e){GBe(r,e);var t=KBe(r);function r(){var n;return VBe(this,r),n=t.call(this,"Authorization required"),n.name="AuthError",n.isAuthError=!0,n}return r}(lR(Error));YL.exports=QBe});var Dy=h(function(Gdt,n9){"use strict";function ZBe(e,t){return n6e(e)||r6e(e,t)||t6e(e,t)||e6e()}function e6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t6e(e,t){if(!!e){if(typeof e=="string")return JL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JL(e,t)}}function JL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r6e(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function n6e(e){if(Array.isArray(e))return e}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){ZL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a6e(e,t,r){return t&&e9(e.prototype,t),r&&e9(e,r),e}function t9(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function o6e(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){t9(i,n,a,o,u,"next",s)}function u(s){t9(i,n,a,o,u,"throw",s)}o(void 0)})}}var r9;function wr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u6e=0;function xy(e){return"__private_"+u6e+++"_"+e}var cR=Ey(),s6e=Vf(),l6e=XL(),c6e={version:"2.2.1"};function f6e(e){return e.replace(/\/$/,"")}function fR(e){return pR.apply(this,arguments)}function pR(){return pR=o6e(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t.status!==401){o.next=2;break}throw new l6e;case 2:if(r=t.json(),!(t.status<200||t.status>300)){o.next=14;break}return n="Failed request with status: ".concat(t.status,". ").concat(t.statusText),o.prev=5,o.next=8,r;case 8:a=o.sent,n=a.message?"".concat(n," message: ").concat(a.message):n,n=a.requestId?"".concat(n," request-Id: ").concat(a.requestId):n;case 11:throw o.prev=11,new Error(n);case 14:return o.abrupt("return",r);case 15:case"end":return o.stop()}},e,null,[[5,,11,14]])})),pR.apply(this,arguments)}var zi=xy("companionHeaders"),Jo=xy("getPostResponseFunc"),Hi=xy("getUrl"),Qo=xy("errorHandler");r9=Symbol.for("uppy test: getCompanionHeaders");var Cy=function(e){function t(r,n){var a=this;i6e(this,t),Object.defineProperty(this,Qo,{value:d6e}),Object.defineProperty(this,Hi,{value:p6e}),Object.defineProperty(this,zi,{writable:!0,value:void 0}),Object.defineProperty(this,Jo,{writable:!0,value:function(o){return function(u){return o?u:a.onReceiveResponse(u)}}}),this.uppy=r,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1,wr(this,zi)[zi]=n==null?void 0:n.companionHeaders}return a6e(t,[{key:"setCompanionHeaders",value:function(n){wr(this,zi)[zi]=n}},{key:e,value:function(){return wr(this,zi)[zi]}},{key:"hostname",get:function(){var n=this.uppy.getState(),a=n.companion,i=this.opts.companionUrl;return f6e(a&&a[i]?a[i]:i)}},{key:"headers",value:function(){return Promise.resolve(Fy(Fy({},t.defaultHeaders),wr(this,zi)[zi]))}},{key:"onReceiveResponse",value:function(n){var a=this.uppy.getState(),i=a.companion||{},o=this.opts.companionUrl,u=n.headers;return u.has("i-am")&&u.get("i-am")!==i[o]&&this.uppy.setState({companion:Fy(Fy({},i),{},ZL({},o,u.get("i-am")))}),n}},{key:"preflight",value:function(n){var a=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(wr(this,Hi)[Hi](n),{method:"OPTIONS"}).then(function(i){return i.headers.has("access-control-allow-headers")&&(a.allowedHeaders=i.headers.get("access-control-allow-headers").split(",").map(function(o){return o.trim().toLowerCase()})),a.preflightDone=!0,a.allowedHeaders.slice()}).catch(function(i){return a.uppy.log("[CompanionClient] unable to make preflight request ".concat(i),"warning"),a.preflightDone=!0,a.allowedHeaders.slice()})}},{key:"preflightAndHeaders",value:function(n){var a=this;return Promise.all([this.preflight(n),this.headers()]).then(function(i){var o=ZBe(i,2),u=o[0],s=o[1];return Object.keys(s).forEach(function(l){u.includes(l.toLowerCase())||(a.uppy.log("[CompanionClient] excluding disallowed header ".concat(l)),delete s[l])}),s})}},{key:"get",value:function(n,a){var i=this,o="get";return this.preflightAndHeaders(n).then(function(u){return cR(wr(i,Hi)[Hi](n),{method:o,headers:u,credentials:i.opts.companionCookiesRule||"same-origin"})}).then(wr(this,Jo)[Jo](a)).then(fR).catch(wr(this,Qo)[Qo](o,n))}},{key:"post",value:function(n,a,i){var o=this,u="post";return this.preflightAndHeaders(n).then(function(s){return cR(wr(o,Hi)[Hi](n),{method:u,headers:s,credentials:o.opts.companionCookiesRule||"same-origin",body:JSON.stringify(a)})}).then(wr(this,Jo)[Jo](i)).then(fR).catch(wr(this,Qo)[Qo](u,n))}},{key:"delete",value:function(n,a,i){var o=this,u="delete";return this.preflightAndHeaders(n).then(function(s){return cR("".concat(o.hostname,"/").concat(n),{method:u,headers:s,credentials:o.opts.companionCookiesRule||"same-origin",body:a?JSON.stringify(a):null})}).then(wr(this,Jo)[Jo](i)).then(fR).catch(wr(this,Qo)[Qo](u,n))}}]),t}(r9);function p6e(e){return/^(https?:|)\/\//.test(e)?e:"".concat(this.hostname,"/").concat(e)}function d6e(e,t){var r=this;return function(n){var a;return(a=n)!=null&&a.isAuthError||(n=new s6e("Could not ".concat(e," ").concat(wr(r,Hi)[Hi](t)),{cause:n})),Promise.reject(n)}}Cy.VERSION=c6e.version;Cy.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat(Cy.VERSION)};n9.exports=Cy});var i9=h(function(Yf){"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.getItem=v6e;Yf.removeItem=y6e;Yf.setItem=h6e;function h6e(e,t){return new Promise(function(r){localStorage.setItem(e,t),r()})}function v6e(e){return Promise.resolve(localStorage.getItem(e))}function y6e(e){return new Promise(function(t){localStorage.removeItem(e),t()})}});var p9=h(function(Ydt,f9){"use strict";function jy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jy=function(r){return typeof r}:jy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jy(e)}function a9(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function o9(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){a9(i,n,a,o,u,"next",s)}function u(s){a9(i,n,a,o,u,"throw",s)}o(void 0)})}}function u9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u9(Object(r),!0).forEach(function(n){m6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m6e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e,t){return w6e(e)||_6e(e,t)||b6e(e,t)||g6e()}function g6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b6e(e,t){if(!!e){if(typeof e=="string")return l9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l9(e,t)}}function l9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _6e(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function w6e(e){if(Array.isArray(e))return e}function S6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O6e(e,t,r){return t&&c9(e.prototype,t),r&&c9(e,r),e}function Xf(){return typeof Reflect!="undefined"&&Reflect.get?Xf=Reflect.get:Xf=function(t,r,n){var a=P6e(t,r);if(!!a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Xf.apply(this,arguments)}function P6e(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Zo(e),e!==null););return e}function R6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dR(e,t)}function dR(e,t){return dR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},dR(e,t)}function q6e(e){var t=A6e();return function(){var n=Zo(e),a;if(t){var i=Zo(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return E6e(this,a)}}function E6e(e,t){if(t&&(jy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T6e(e)}function T6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zo(e)}var k6e=i9(),I6e=Dy(),F6e=function(t){return t.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},x6e=function(e){R6e(r,e);var t=q6e(r);function r(n,a){var i;return S6e(this,r),i=t.call(this,n,a),i.provider=a.provider,i.id=i.provider,i.name=i.opts.name||F6e(i.id),i.pluginId=i.opts.pluginId,i.tokenKey="companion-".concat(i.pluginId,"-auth-token"),i.companionKeysParams=i.opts.companionKeysParams,i.preAuthToken=null,i}return O6e(r,[{key:"headers",value:function(){var a=this;return Promise.all([Xf(Zo(r.prototype),"headers",this).call(this),this.getAuthToken()]).then(function(i){var o=s9(i,2),u=o[0],s=o[1],l={};return s&&(l["uppy-auth-token"]=s),a.companionKeysParams&&(l["uppy-credentials-params"]=btoa(JSON.stringify({params:a.companionKeysParams}))),Uy(Uy({},u),l)})}},{key:"onReceiveResponse",value:function(a){a=Xf(Zo(r.prototype),"onReceiveResponse",this).call(this,a);var i=this.uppy.getPlugin(this.pluginId),o=i.getPluginState().authenticated,u=o?a.status!==401:a.status<400;return i.setPluginState({authenticated:u}),a}},{key:"setAuthToken",value:function(a){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,a)}},{key:"getAuthToken",value:function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}},{key:"ensurePreAuth",value:function(){var n=o9(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.companionKeysParams&&!this.preAuthToken)){u.next=5;break}return u.next=3,this.fetchPreAuthToken();case 3:if(this.preAuthToken){u.next=5;break}throw new Error("Could not load authentication data required for third-party login. Please try again later.");case 5:case"end":return u.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"authUrl",value:function(a){a===void 0&&(a={});var i=new URLSearchParams(a);return this.preAuthToken&&i.set("uppyPreAuthToken",this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(i)}},{key:"fileUrl",value:function(a){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(a)}},{key:"fetchPreAuthToken",value:function(){var n=o9(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.companionKeysParams){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,s.next=5,this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams});case 5:o=s.sent,this.preAuthToken=o.token,s.next=12;break;case 9:s.prev=9,s.t0=s.catch(2),this.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(s.t0),"warning");case 12:case"end":return s.stop()}},i,this,[[2,9]])}));function a(){return n.apply(this,arguments)}return a}()},{key:"list",value:function(a){return this.get("".concat(this.id,"/list/").concat(a||""))}},{key:"logout",value:function(){var a=this;return this.get("".concat(this.id,"/logout")).then(function(i){return Promise.all([i,a.uppy.getPlugin(a.pluginId).storage.removeItem(a.tokenKey)])}).then(function(i){var o=s9(i,1),u=o[0];return u})}}],[{key:"initPlugin",value:function(a,i,o){if(a.type="acquirer",a.files=[],o&&(a.opts=Uy(Uy({},o),i)),i.serverUrl||i.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(i.companionAllowedHosts){var u=i.companionAllowedHosts;if(typeof u!="string"&&!Array.isArray(u)&&!(u instanceof RegExp))throw new TypeError("".concat(a.id,': the option "companionAllowedHosts" must be one of string, Array, RegExp'));a.opts.companionAllowedHosts=u}else/^(?!https?:\/\/).*$/i.test(i.companionUrl)?a.opts.companionAllowedHosts="https://".concat(i.companionUrl.replace(/^\/\//,"")):a.opts.companionAllowedHosts=new URL(i.companionUrl).origin;a.storage=a.opts.storage||k6e}}]),r}(I6e);f9.exports=x6e});var v9=h(function(Xdt,h9){"use strict";function My(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?My=function(r){return typeof r}:My=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},My(e)}function C6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D6e(e,t,r){return t&&d9(e.prototype,t),r&&d9(e,r),e}function j6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hR(e,t)}function hR(e,t){return hR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},hR(e,t)}function U6e(e){var t=B6e();return function(){var n=Ny(e),a;if(t){var i=Ny(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return M6e(this,a)}}function M6e(e,t){if(t&&(My(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N6e(e)}function N6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}var L6e=Dy(),z6e=function(t){return t.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},H6e=function(e){j6e(r,e);var t=U6e(r);function r(n,a){var i;return C6e(this,r),i=t.call(this,n,a),i.provider=a.provider,i.id=i.provider,i.name=i.opts.name||z6e(i.id),i.pluginId=i.opts.pluginId,i}return D6e(r,[{key:"fileUrl",value:function(a){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(a)}},{key:"search",value:function(a,i){return this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(a)).concat(i?"&".concat(i):""))}}]),r}(L6e);h9.exports=H6e});var _9=h(function(Jdt,b9){"use strict";function $6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W6e(e,t,r){return t&&y9(e.prototype,t),r&&y9(e,r),e}var m9,g9;function yt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var V6e=0;function Jf(e){return"__private_"+V6e+++"_"+e}var G6e=NP(),$i=Jf("queued"),eu=Jf("emitter"),Tn=Jf("isOpen"),ir=Jf("socket"),vR=Jf("handleMessage");m9=Symbol.for("uppy test: getSocket");g9=Symbol.for("uppy test: getQueued");var K6e=function(e,t){function r(n){var a=this;$6e(this,r),Object.defineProperty(this,$i,{writable:!0,value:[]}),Object.defineProperty(this,eu,{writable:!0,value:G6e()}),Object.defineProperty(this,Tn,{writable:!0,value:!1}),Object.defineProperty(this,ir,{writable:!0,value:void 0}),Object.defineProperty(this,vR,{writable:!0,value:function(o){try{var u=JSON.parse(o.data);a.emit(u.action,u.payload)}catch(s){console.log(s)}}}),this.opts=n,(!n||n.autoOpen!==!1)&&this.open()}return W6e(r,[{key:"isOpen",get:function(){return yt(this,Tn)[Tn]}},{key:e,value:function(){return yt(this,ir)[ir]}},{key:t,value:function(){return yt(this,$i)[$i]}},{key:"open",value:function(){var a=this;yt(this,ir)[ir]=new WebSocket(this.opts.target),yt(this,ir)[ir].onopen=function(){for(yt(a,Tn)[Tn]=!0;yt(a,$i)[$i].length>0&&yt(a,Tn)[Tn];){var i=yt(a,$i)[$i].shift();a.send(i.action,i.payload)}},yt(this,ir)[ir].onclose=function(){yt(a,Tn)[Tn]=!1},yt(this,ir)[ir].onmessage=yt(this,vR)[vR]}},{key:"close",value:function(){var a;(a=yt(this,ir)[ir])==null||a.close()}},{key:"send",value:function(a,i){if(!yt(this,Tn)[Tn]){yt(this,$i)[$i].push({action:a,payload:i});return}yt(this,ir)[ir].send(JSON.stringify({action:a,payload:i}))}},{key:"on",value:function(a,i){yt(this,eu)[eu].on(a,i)}},{key:"emit",value:function(a,i){yt(this,eu)[eu].emit(a,i)}},{key:"once",value:function(a,i){yt(this,eu)[eu].once(a,i)}}]),r}(m9,g9);b9.exports=K6e});var Xt=h(function(ei){"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.Socket=ei.SearchProvider=ei.RequestClient=ei.Provider=void 0;var Y6e=Dy();ei.RequestClient=Y6e;var X6e=p9();ei.Provider=X6e;var J6e=v9();ei.SearchProvider=J6e;var Q6e=_9();ei.Socket=Q6e});var S9=h(function(Zdt,w9){"use strict";var Jt=(te(),re(ne));function Z6e(){return(0,Jt.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,Jt.h)("g",{fill:"none","fill-rule":"evenodd"},(0,Jt.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,Jt.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,Jt.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,Jt.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,Jt.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,Jt.h)("path",{d:"M4 4h18v18H4z"})))}function e4e(e){var t=e.pluginName,r=e.pluginIcon,n=e.i18nArray,a=e.handleAuth,i=t==="Google Drive",o=(0,Jt.h)("span",{className:"uppy-Provider-authTitleName"},t,(0,Jt.h)("br",null));return(0,Jt.h)("div",{className:"uppy-Provider-auth"},(0,Jt.h)("div",{className:"uppy-Provider-authIcon"},r()),(0,Jt.h)("div",{className:"uppy-Provider-authTitle"},n("authenticateWithTitle",{pluginName:o})),i?(0,Jt.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:a,"data-uppy-super-focusable":!0},(0,Jt.h)(Z6e,null),n("signInWithGoogle")):(0,Jt.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:a,"data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:t})))}w9.exports=e4e});var R9=h(function(eht,P9){"use strict";var O9=(te(),re(ne));P9.exports=function(e){var t=e.i18n,r=e.logout,n=e.username;return[(0,O9.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},n),(0,O9.h)("button",{type:"button",onClick:r,className:"uppy-u-reset uppy-ProviderBrowser-userLogout",key:"logout"},t("logOut"))]}});var E9=h(function(tht,q9){"use strict";var $s=(te(),re(ne)),t4e=function(t){var r=t.getFolder,n=t.title,a=t.isLast;return(0,$s.h)($s.Fragment,null,(0,$s.h)("button",{type:"button",className:"uppy-u-reset",onClick:r},n),a?"":" / ")};q9.exports=function(e){var t=e.getFolder,r=e.title,n=e.breadcrumbsIcon,a=e.directories;return(0,$s.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,$s.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},n),a.map(function(i,o){return(0,$s.h)(t4e,{key:i.id,getFolder:function(){return t(i.id)},title:o===0?r:i.title,isLast:o+1===a.length})}))}});var A9=h(function(rht,T9){"use strict";var r4e=R9(),n4e=E9();T9.exports=function(e){var t=[];return e.showBreadcrumbs&&t.push(n4e({getFolder:e.getFolder,directories:e.directories,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title})),t.push(r4e({logout:e.logout,username:e.username,i18n:e.i18n})),t}});var Cr=h(function(nht,By){function Qf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qf=function(r){return typeof r}:Qf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qf(e)}(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var r=[],n=0;n<arguments.length;n++){var a=arguments[n];if(!!a){var i=Qf(a);if(i==="string"||i==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var o=t.apply(null,a);o&&r.push(o)}}else if(i==="object")if(a.toString===Object.prototype.toString)for(var u in a)e.call(a,u)&&a[u]&&r.push(u);else r.push(a.toString())}}return r.join(" ")}typeof By!="undefined"&&By.exports?(t.default=t,By.exports=t):typeof define=="function"&&Qf(define.amd)==="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var yR=h(function(iht,F9){"use strict";function k9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k9(Object(r),!0).forEach(function(n){i4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i4e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a4e=Af();function o4e(e){return I9(I9({},e),{},{type:e.mimeType,extension:e.name?a4e(e.name).extension:null})}F9.exports=o4e});var j9=h(function(aht,D9){"use strict";function Ly(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ly=function(r){return typeof r}:Ly=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ly(e)}function u4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s4e(e,t,r){return t&&x9(e.prototype,t),r&&x9(e,r),e}function l4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mR(e,t)}function mR(e,t){return mR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},mR(e,t)}function c4e(e){var t=p4e();return function(){var n=zy(e),a;if(t){var i=zy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return f4e(this,a)}}function f4e(e,t){if(t&&(Ly(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C9(e)}function C9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(e)}var La=(te(),re(ne)),d4e=function(e){l4e(r,e);var t=c4e(r);function r(n){var a;return u4e(this,r),a=t.call(this,n),a.preventEnterPress=a.preventEnterPress.bind(C9(a)),a}return s4e(r,[{key:"preventEnterPress",value:function(a){a.keyCode===13&&(a.stopPropagation(),a.preventDefault())}},{key:"render",value:function(){var a=this.props,i=a.i18n,o=a.filterInput,u=a.filterQuery;return(0,La.h)("div",{className:"uppy-ProviderBrowser-filter"},(0,La.h)("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:i("filter"),"aria-label":i("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:function(l){return u(l)},value:o}),(0,La.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,La.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),o&&(0,La.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":i("resetFilter"),title:i("resetFilter"),onClick:u},(0,La.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,La.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}}]),r}(La.Component);D9.exports=d4e});var M9=h(function(oht,U9){"use strict";var gR=(te(),re(ne));U9.exports=function(e){var t=e.cancel,r=e.done,n=e.i18n,a=e.selected;return(0,gR.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,gR.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:r,type:"button"},n("selectX",{smart_count:a})),(0,gR.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t,type:"button"},n("cancel")))}});var B9=h(function(uht,N9){"use strict";var An=(te(),re(ne));function h4e(){return(0,An.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,An.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function v4e(){return(0,An.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,An.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function y4e(){return(0,An.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,An.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,An.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}N9.exports=function(e){var t=e.itemIconString;if(t!==null)switch(t){case"file":return(0,An.h)(h4e,null);case"folder":return(0,An.h)(v4e,null);case"video":return(0,An.h)(y4e,null);default:{var r=e.alt;return(0,An.h)("img",{src:t,alt:r})}}}});var z9=h(function(sht,L9){"use strict";var Hy=(te(),re(ne));function m4e(e){var t=e.className,r=e.isDisabled,n=e.restrictionReason,a=e.isChecked,i=e.title,o=e.itemIconEl,u=e.showTitles,s=e.toggleCheckbox,l=e.recordShiftKeyPress,c=e.id,f=e.children;return(0,Hy.h)("li",{className:t,title:r?n:null},(0,Hy.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:s,onKeyDown:l,name:"listitem",id:c,checked:a,disabled:r,"data-uppy-super-focusable":!0}),(0,Hy.h)("label",{htmlFor:c,"aria-label":i,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,Hy.h)("span",{className:"uppy-ProviderBrowserItem-inner-relative"},o,u&&i,f)))}L9.exports=m4e});var $9=h(function(lht,H9){"use strict";var tu=(te(),re(ne));function g4e(e){var t=e.className,r=e.isDisabled,n=e.restrictionReason,a=e.isCheckboxDisabled,i=e.isChecked,o=e.toggleCheckbox,u=e.recordShiftKeyPress,s=e.type,l=e.id,c=e.itemIconEl,f=e.title,p=e.handleFolderClick,d=e.showTitles,v=e.i18n;return(0,tu.h)("li",{className:t,title:r?n:null},a?null:(0,tu.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(i?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:o,onKeyDown:u,name:"listitem",id:l,checked:i,"aria-label":s==="file"?null:v("allFilesFromFolderNamed",{name:f}),disabled:r,"data-uppy-super-focusable":!0}),s==="file"?(0,tu.h)("label",{htmlFor:l,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,tu.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),d&&f):(0,tu.h)("button",{type:"button",className:"uppy-u-reset uppy-ProviderBrowserItem-inner",onClick:p,"aria-label":v("openFolderNamed",{name:f})},(0,tu.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),d&&(0,tu.h)("span",null,f)))}H9.exports=g4e});var G9=h(function(cht,V9){"use strict";var Zf=(te(),re(ne));function ep(){return ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(this,arguments)}var b4e=Cr(),_4e=B9(),W9=z9(),w4e=$9();V9.exports=function(e){var t=e.author,r=e.getItemIcon,n=e.isChecked,a=e.isDisabled,i=e.viewType,o=r(),u=b4e("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":n},{"uppy-ProviderBrowserItem--disabled":a},{"uppy-ProviderBrowserItem--noPreview":o==="video"}),s=(0,Zf.h)(_4e,{itemIconString:o});switch(i){case"grid":return(0,Zf.h)(W9,ep({},e,{className:u,itemIconEl:s}));case"list":return(0,Zf.h)(w4e,ep({},e,{className:u,itemIconEl:s}));case"unsplash":return(0,Zf.h)(W9,ep({},e,{className:u,itemIconEl:s}),(0,Zf.h)("a",{href:"".concat(t.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},t.name));default:throw new Error("There is no such type ".concat(i))}}});var _R=h(function(fht,J9){"use strict";function K9(e){return R4e(e)||P4e(e)||O4e(e)||S4e()}function S4e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O4e(e,t){if(!!e){if(typeof e=="string")return bR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bR(e,t)}}function P4e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R4e(e){if(Array.isArray(e))return bR(e)}function bR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var za=(te(),re(ne)),Y9=Cr(),q4e=yR(),E4e=j9(),T4e=M9(),X9=G9(),A4e="shared-with-me";function k4e(e){var t=e.currentSelection,r=e.folders,n=e.files,a=e.uppyFiles,i=e.viewType,o=e.headerComponent,u=e.showBreadcrumbs,s=e.isChecked,l=e.toggleCheckbox,c=e.recordShiftKeyPress,f=e.handleScroll,p=e.showTitles,d=e.i18n,v=e.validateRestrictions,m=e.showFilter,g=e.filterQuery,w=e.filterInput,b=e.getNextFolder,O=e.cancel,T=e.done,x=e.columns,D=t.length;return(0,za.h)("div",{className:Y9("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(i))},(0,za.h)("div",{className:"uppy-ProviderBrowser-header"},(0,za.h)("div",{className:Y9("uppy-ProviderBrowser-headerBar",!u&&"uppy-ProviderBrowser-headerBar--simple")},o)),m&&(0,za.h)(E4e,{i18n:d,filterQuery:g,filterInput:w}),function(){return!r.length&&!n.length?(0,za.h)("div",{className:"uppy-Provider-empty"},d("noFilesFound")):(0,za.h)("div",{className:"uppy-ProviderBrowser-body"},(0,za.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:f,role:"listbox",tabIndex:"-1"},r.map(function(N){var G;return X9({columns:x,showTitles:p,viewType:i,i18n:d,id:N.id,title:N.name,getItemIcon:function(){return N.icon},isChecked:s(N),toggleCheckbox:function(U){return l(U,N)},recordShiftKeyPress:c,type:"folder",isDisabled:(G=s(N))==null?void 0:G.loading,isCheckboxDisabled:N.id===A4e,handleFolderClick:function(){return b(N)}})}),n.map(function(N){var G=v(q4e(N),[].concat(K9(a),K9(t)));return X9({id:N.id,title:N.name,author:N.author,getItemIcon:function(){return N.icon},isChecked:s(N),toggleCheckbox:function(U){return l(U,N)},recordShiftKeyPress:c,columns:x,showTitles:p,viewType:i,i18n:d,type:"file",isDisabled:!G.result&&!s(N),restrictionReason:G.reason})})))}(),D>0&&(0,za.h)(T4e,{selected:D,done:T,cancel:O,i18n:d}))}J9.exports=k4e});var wR=h(function(pht,Z9){"use strict";var Q9=(te(),re(ne));Z9.exports=function(e){var t=e.i18n;return(0,Q9.h)("div",{className:"uppy-Provider-loading"},(0,Q9.h)("span",null,t("loading")))}});var OR=h(function(dht,r7){"use strict";function $y(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$y=function(r){return typeof r}:$y=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$y(e)}function I4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F4e(e,t,r){return t&&e7(e.prototype,t),r&&e7(e,r),e}function x4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SR(e,t)}function SR(e,t){return SR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},SR(e,t)}function C4e(e){var t=U4e();return function(){var n=Wy(e),a;if(t){var i=Wy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return D4e(this,a)}}function D4e(e,t){if(t&&($y(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j4e(e)}function j4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(e)}var t7=(te(),re(ne)),M4e=function(e){x4e(r,e);var t=C4e(r);function r(){return I4e(this,r),t.apply(this,arguments)}return F4e(r,[{key:"componentWillUnmount",value:function(){var a=this.props.onUnmount;a()}},{key:"render",value:function(){var a=this.props.children;return(0,t7.toChildArray)(a)[0]}}]),r}(t7.Component);r7.exports=M4e});var PR=h(function(hht,n7){"use strict";function N4e(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}n7.exports=N4e});var u7=h(function(vht,o7){"use strict";function B4e(e){return H4e(e)||z4e(e)||i7(e)||L4e()}function L4e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z4e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H4e(e){if(Array.isArray(e))return RR(e)}function $4e(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i7(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function i7(e,t){if(!!e){if(typeof e=="string")return RR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RR(e,t)}}function RR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V4e(e,t,r){return t&&a7(e.prototype,t),r&&a7(e,r),e}var G4e=yR(),K4e=function(){function e(t){W4e(this,e),this.plugin=t,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}return V4e(e,[{key:"filterItems",value:function(r){var n=this.plugin.getPluginState();return!n.filterInput||n.filterInput===""?r:r.filter(function(a){return a.name.toLowerCase().indexOf(n.filterInput.toLowerCase())!==-1})}},{key:"recordShiftKeyPress",value:function(r){this.isShiftKeyPressed=r.shiftKey}},{key:"toggleCheckbox",value:function(r,n){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();var a=this.plugin.getPluginState(),i=a.folders,o=a.files,u=this.filterItems(i.concat(o));if(this.lastCheckbox&&this.isShiftKeyPressed){var s=u.indexOf(this.lastCheckbox),l=u.indexOf(n),c=s<l?u.slice(s,l+1):u.slice(l,s+1),f=[],p=$4e(c),d;try{for(p.s();!(d=p.n()).done;){var v=d.value,m=this.plugin.uppy,g=m.validateRestrictions(G4e(v),[].concat(B4e(m.getFiles()),f));g.result?f.push(v):m.info({message:g.reason},"error",m.opts.infoTimeout)}}catch(O){p.e(O)}finally{p.f()}this.plugin.setPluginState({currentSelection:f});return}this.lastCheckbox=n;var w=this.plugin.getPluginState(),b=w.currentSelection;this.isChecked(n)?this.plugin.setPluginState({currentSelection:b.filter(function(O){return O.id!==n.id})}):this.plugin.setPluginState({currentSelection:b.concat([n])})}},{key:"isChecked",value:function(r){var n=this.plugin.getPluginState(),a=n.currentSelection;return a.some(function(i){return i.id===r.id})}},{key:"loaderWrapper",value:function(r,n,a){var i=this;r.then(function(o){i.plugin.setPluginState({loading:!1}),n(o)}).catch(function(o){i.plugin.setPluginState({loading:!1}),a(o)}),this.plugin.setPluginState({loading:!0})}}]),e}();o7.exports=K4e});var qR=h(function(yht,l7){"use strict";function Y4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X4e(e,t,r){return t&&s7(e.prototype,t),r&&s7(e,r),e}var J4e=WP(),Q4e=PR(),Z4e=VP(),eLe=u7(),tLe=function(){function e(t,r){Y4e(this,e),this.plugin=t,this.provider=r.provider,this.sharedHandler=new eLe(t),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return X4e(e,[{key:"providerFileToId",value:function(r){return Z4e({data:r,name:r.name||r.id,type:r.mimetype})}},{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(r){var n=r.target,a=n.scrollHeight,i=n.scrollTop,o=n.offsetHeight,u=a-(i+o);return u<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[]})}},{key:"cancelPicking",value:function(){this.clearSelection();var r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()}},{key:"handleError",value:function(r){var n=this.plugin.uppy,a=n.i18n("companionError");n.log(r.toString()),!r.isAuthError&&n.info({message:a,details:r.toString()},"error",5e3)}},{key:"addFile",value:function(r){var n={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(r.requestPath)),body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},a=J4e(n);a&&Q4e(a)&&(n.preview=r.thumbnail),r.author&&(r.author.name!=null&&(n.meta.authorName=String(r.author.name)),r.author.url&&(n.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(n),!0}catch(i){return i.isRestriction||this.plugin.uppy.log(i),!1}}}]),e}();l7.exports=tLe});var m7=h(function(mht,y7){"use strict";function Vy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vy=function(r){return typeof r}:Vy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vy(e)}function c7(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function ER(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){c7(i,n,a,o,u,"next",s)}function u(s){c7(i,n,a,o,u,"throw",s)}o(void 0)})}}function f7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(r),!0).forEach(function(n){rLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rLe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iLe(e,t,r){return t&&p7(e.prototype,t),r&&p7(e,r),e}function aLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TR(e,t)}function TR(e,t){return TR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},TR(e,t)}function oLe(e){var t=sLe();return function(){var n=Gy(e),a;if(t){var i=Gy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return uLe(this,a)}}function uLe(e,t){if(t&&(Vy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kn(e)}function kn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}var Ws=(te(),re(ne));function d7(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var lLe=0;function cLe(e){return"__private_"+lLe+++"_"+e}var fLe=S9(),pLe=A9(),dLe=_R(),hLe=wR(),AR=OR(),vLe=qR(),yLe={version:"2.1.2"};function mLe(){return location.origin}function h7(e){if(typeof e=="string")return new RegExp("^".concat(e,"$"));if(e instanceof RegExp)return e}function gLe(e,t){var r=Array.isArray(t)?t.map(h7):[h7(t)];return r.some(function(n){return(n==null?void 0:n.test(e))||(n==null?void 0:n.test("".concat(e,"/")))})}var tp=cLe("updateFilesAndFolders"),v7=function(e){aLe(r,e);var t=oLe(r);function r(n,a){var i;nLe(this,r),i=t.call(this,n,a),Object.defineProperty(kn(i),tp,{value:bLe});var o={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};return i.opts=Wi(Wi({},o),a),i.filterQuery=i.filterQuery.bind(kn(i)),i.getFolder=i.getFolder.bind(kn(i)),i.getNextFolder=i.getNextFolder.bind(kn(i)),i.logout=i.logout.bind(kn(i)),i.handleAuth=i.handleAuth.bind(kn(i)),i.handleScroll=i.handleScroll.bind(kn(i)),i.listAllFiles=i.listAllFiles.bind(kn(i)),i.donePicking=i.donePicking.bind(kn(i)),i.render=i.render.bind(kn(i)),i.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),i}return iLe(r,[{key:"tearDown",value:function(){}},{key:"getFolder",value:function(a,i){var o=this;return this.sharedHandler.loaderWrapper(this.provider.list(a),function(u){var s=[],l=[],c,f=o.plugin.getPluginState(),p=f.directories.findIndex(function(d){return a===d.id});p!==-1?c=f.directories.slice(0,p+1):c=f.directories.concat([{id:a,title:i}]),o.username=u.username||o.username,d7(o,tp)[tp](u,l,s),o.plugin.setPluginState({directories:c})},this.handleError)}},{key:"getNextFolder",value:function(a){this.getFolder(a.requestPath,a.name),this.lastCheckbox=void 0}},{key:"logout",value:function(){var a=this;this.provider.logout().then(function(i){if(i.ok){if(!i.revoked){var o=a.plugin.uppy.i18n("companionUnauthorizeHint",{provider:a.plugin.title,url:i.manual_revoke_url});a.plugin.uppy.info(o,"info",7e3)}var u={authenticated:!1,files:[],folders:[],directories:[]};a.plugin.setPluginState(u)}}).catch(this.handleError)}},{key:"filterQuery",value:function(a){var i=this.plugin.getPluginState();this.plugin.setPluginState(Wi(Wi({},i),{},{filterInput:a?a.target.value:""}))}},{key:"addFolder",value:function(a){var i=this,o=this.providerFileToId(a),u=Wi({},this.plugin.getPluginState().selectedFolders);if(!(o in u&&u[o].loading))return u[o]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:Wi({},u)}),this.listAllFiles(a.requestPath).then(function(s){var l=0;s.forEach(function(p){var d=i.providerFileToId(p);i.plugin.uppy.checkIfFileAlreadyExists(d)||l++}),l>0&&s.forEach(function(p){return i.addFile(p)});var c=s.map(i.providerFileToId);u[o]={loading:!1,files:c},i.plugin.setPluginState({selectedFolders:u});var f;l===0?f=i.plugin.uppy.i18n("folderAlreadyAdded",{folder:a.name}):s.length?f=i.plugin.uppy.i18n("folderAdded",{smart_count:l,folder:a.name}):f=i.plugin.uppy.i18n("emptyFolderAdded"),i.plugin.uppy.info(f)}).catch(function(s){var l=Wi({},i.plugin.getPluginState().selectedFolders);delete l[o],i.plugin.setPluginState({selectedFolders:l}),i.handleError(s)})}},{key:"handleAuth",value:function(){var n=ER(regeneratorRuntime.mark(function i(){var o=this,u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.provider.ensurePreAuth();case 2:u=btoa(JSON.stringify({origin:mLe()})),s="@uppy/provider-views=".concat(r.VERSION),l=this.provider.authUrl({state:u,uppyVersions:s}),c=window.open(l,"_blank"),f=function v(m){if(m.source!==c){o.plugin.uppy.log("rejecting event from unknown source");return}(!gLe(m.origin,o.plugin.opts.companionAllowedHosts)||m.source!==c)&&o.plugin.uppy.log("rejecting event from ".concat(m.origin," vs allowed pattern ").concat(o.plugin.opts.companionAllowedHosts));var g=typeof m.data=="string"?JSON.parse(m.data):m.data;if(g.error){o.plugin.uppy.log("auth aborted","warning");var w=o.plugin.uppy,b=w.i18n("authAborted");w.info({message:b},"warning",5e3);return}if(!g.token){o.plugin.uppy.log("did not receive token from auth window","error");return}c.close(),window.removeEventListener("message",v),o.provider.setAuthToken(g.token),o.preFirstRender()},window.addEventListener("message",f);case 8:case"end":return d.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"handleScroll",value:function(){var n=ER(regeneratorRuntime.mark(function i(o){var u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=this.nextPagePath||null,!(this.shouldHandleScroll(o)&&u)){d.next=17;break}return this.isHandlingScroll=!0,d.prev=3,d.next=6,this.provider.list(u);case 6:s=d.sent,l=this.plugin.getPluginState(),c=l.files,f=l.folders,d7(this,tp)[tp](s,c,f),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(3),this.handleError(d.t0);case 14:return d.prev=14,this.isHandlingScroll=!1,d.finish(14);case 17:case"end":return d.stop()}},i,this,[[3,11,14,17]])}));function a(i){return n.apply(this,arguments)}return a}()},{key:"listAllFiles",value:function(){var n=ER(regeneratorRuntime.mark(function i(o,u){var s=this,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u===void 0&&(u=null),u=u||[],p.next=4,this.provider.list(o);case 4:if(l=p.sent,l.items.forEach(function(d){d.isFolder?s.addFolder(d):u.push(d)}),c=l.nextPagePath,!c){p.next=9;break}return p.abrupt("return",this.listAllFiles(c,u));case 9:return p.abrupt("return",u);case 10:case"end":return p.stop()}},i,this)}));function a(i,o){return n.apply(this,arguments)}return a}()},{key:"donePicking",value:function(){var a=this,i=this.plugin.getPluginState(),o=i.currentSelection,u=o.map(function(s){return s.isFolder?a.addFolder(s):a.addFile(s)});this.sharedHandler.loaderWrapper(Promise.all(u),function(){a.clearSelection()},function(){})}},{key:"render",value:function(a,i){var o=this;i===void 0&&(i={});var u=this.plugin.getPluginState(),s=u.authenticated,l=u.didFirstRender;l||this.preFirstRender();var c=Wi(Wi({},this.opts),i),f=this.plugin.getPluginState(),p=f.files,d=f.folders,v=f.filterInput,m=f.loading,g=f.currentSelection,w=this.sharedHandler,b=w.isChecked,O=w.toggleCheckbox,T=w.recordShiftKeyPress,x=w.filterItems,D=v!=="",N={showBreadcrumbs:c.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},G={isChecked:b,toggleCheckbox:O,recordShiftKeyPress:T,currentSelection:g,files:D?x(p):p,folders:D?x(d):d,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:pLe(N),title:this.plugin.title,viewType:c.viewType,showTitles:c.showTitles,showFilter:c.showFilter,showBreadcrumbs:c.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var U;return(U=o.plugin.uppy).validateRestrictions.apply(U,arguments)}};return m?(0,Ws.h)(AR,{onUnmount:this.clearSelection},(0,Ws.h)(hLe,{i18n:this.plugin.uppy.i18n})):s?(0,Ws.h)(AR,{onUnmount:this.clearSelection},(0,Ws.h)(dLe,G)):(0,Ws.h)(AR,{onUnmount:this.clearSelection},(0,Ws.h)(fLe,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}}]),r}(vLe);function bLe(e,t,r){this.nextPagePath=e.nextPagePath,e.items.forEach(function(n){n.isFolder?r.push(n):t.push(n)}),this.plugin.setPluginState({folders:r,files:t})}v7.VERSION=yLe.version;y7.exports=v7});var b7=h(function(ght,g7){"use strict";g7.exports=m7()});var w7=h(function(bht,_7){"use strict";var kR=(te(),re(ne));_7.exports=function(e){var t=e.i18n,r=e.search,n,a=function(){n.value&&r(n.value)},i=function(u){u.keyCode===13&&a()};return(0,kR.h)("div",{className:"uppy-SearchProvider"},(0,kR.h)("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":t("enterTextToSearch"),placeholder:t("enterTextToSearch"),onKeyUp:i,ref:function(u){n=u},"data-uppy-super-focusable":!0}),(0,kR.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:a},t("searchImages")))}});var O7=h(function(_ht,S7){"use strict";var Ky=(te(),re(ne)),_Le=13;S7.exports=function(e){var t=e.searchTerm,r=e.i18n,n=e.search,a=function(o){o.keyCode===_Le&&(o.stopPropagation(),o.preventDefault(),n(o.target.value))};return(0,Ky.h)("div",{class:"uppy-ProviderBrowser-search"},(0,Ky.h)("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:r("search"),"aria-label":r("search"),value:t,onKeyUp:a,"data-uppy-super-focusable":!0}),(0,Ky.h)("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,Ky.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))}});var k7=h(function(wht,A7){"use strict";function Yy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yy=function(r){return typeof r}:Yy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yy(e)}function P7(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function wLe(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){P7(i,n,a,o,u,"next",s)}function u(s){P7(i,n,a,o,u,"throw",s)}o(void 0)})}}function R7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R7(Object(r),!0).forEach(function(n){SLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SLe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PLe(e,t,r){return t&&q7(e.prototype,t),r&&q7(e,r),e}function RLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IR(e,t)}function IR(e,t){return IR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},IR(e,t)}function qLe(e){var t=TLe();return function(){var n=Jy(e),a;if(t){var i=Jy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return ELe(this,a)}}function ELe(e,t){if(t&&(Yy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ha(e)}function Ha(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(e)}var Vs=(te(),re(ne));function E7(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ALe=0;function kLe(e){return"__private_"+ALe+++"_"+e}var ILe=w7(),FLe=_R(),xLe=wR(),CLe=O7(),FR=OR(),DLe=qR(),jLe={version:"2.1.2"},rp=kLe("updateFilesAndInputMode"),T7=function(e){RLe(r,e);var t=qLe(r);function r(n,a){var i;OLe(this,r),i=t.call(this,n,a),Object.defineProperty(Ha(i),rp,{value:ULe});var o={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};return i.opts=Xy(Xy({},o),a),i.search=i.search.bind(Ha(i)),i.triggerSearchInput=i.triggerSearchInput.bind(Ha(i)),i.addFile=i.addFile.bind(Ha(i)),i.handleScroll=i.handleScroll.bind(Ha(i)),i.donePicking=i.donePicking.bind(Ha(i)),i.render=i.render.bind(Ha(i)),i.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null}),i}return PLe(r,[{key:"tearDown",value:function(){}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}},{key:"search",value:function(a){var i=this,o=this.plugin.getPluginState(),u=o.searchTerm;if(!(a&&a===u))return this.sharedHandler.loaderWrapper(this.provider.search(a),function(s){E7(i,rp)[rp](s,[])},this.handleError)}},{key:"triggerSearchInput",value:function(){this.plugin.setPluginState({isInputMode:!0})}},{key:"handleScroll",value:function(){var n=wLe(regeneratorRuntime.mark(function i(o){var u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=this.nextPageQuery||null,!(this.shouldHandleScroll(o)&&u)){d.next=17;break}return this.isHandlingScroll=!0,d.prev=3,s=this.plugin.getPluginState(),l=s.files,c=s.searchTerm,d.next=7,this.provider.search(c,u);case 7:f=d.sent,E7(this,rp)[rp](f,l),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(3),this.handleError(d.t0);case 14:return d.prev=14,this.isHandlingScroll=!1,d.finish(14);case 17:case"end":return d.stop()}},i,this,[[3,11,14,17]])}));function a(i){return n.apply(this,arguments)}return a}()},{key:"donePicking",value:function(){var a=this,i=this.plugin.getPluginState(),o=i.currentSelection,u=o.map(function(s){return a.addFile(s)});this.sharedHandler.loaderWrapper(Promise.all(u),function(){a.clearSelection()},function(){})}},{key:"render",value:function(a,i){var o=this;i===void 0&&(i={});var u=this.plugin.getPluginState(),s=u.didFirstRender,l=u.isInputMode,c=u.searchTerm;s||this.preFirstRender();var f=Xy(Xy({},this.opts),i),p=this.plugin.getPluginState(),d=p.files,v=p.folders,m=p.filterInput,g=p.loading,w=p.currentSelection,b=this.sharedHandler,O=b.isChecked,T=b.toggleCheckbox,x=b.filterItems,D=m!=="",N={isChecked:O,toggleCheckbox:T,currentSelection:w,files:D?x(d):d,folders:D?x(v):v,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:CLe({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:c}),title:this.plugin.title,viewType:f.viewType,showTitles:f.showTitles,showFilter:f.showFilter,showBreadcrumbs:f.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var q;return(q=o.plugin.uppy).validateRestrictions.apply(q,arguments)}};return g?(0,Vs.h)(FR,{onUnmount:this.clearSelection},(0,Vs.h)(xLe,{i18n:this.plugin.uppy.i18n})):l?(0,Vs.h)(FR,{onUnmount:this.clearSelection},(0,Vs.h)(ILe,{search:this.search,i18n:this.plugin.uppy.i18n})):(0,Vs.h)(FR,{onUnmount:this.clearSelection},(0,Vs.h)(FLe,N))}}]),r}(DLe);function ULe(e,t){this.nextPageQuery=e.nextPageQuery,e.items.forEach(function(r){t.push(r)}),this.plugin.setPluginState({isInputMode:!1,files:t,searchTerm:e.searchedFor})}T7.VERSION=jLe.version;A7.exports=T7});var F7=h(function(Sht,I7){"use strict";I7.exports=k7()});var ti=h(function(Gs){"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.SearchProviderViews=Gs.ProviderViews=void 0;var MLe=b7();Gs.ProviderViews=MLe;var NLe=F7();Gs.SearchProviderViews=NLe});var B7=h(function(Wa,N7){"use strict";function x7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LLe(e,t,r){return t&&D7(e.prototype,t),r&&D7(e,r),e}Object.defineProperty(Wa,"__esModule",{value:!0});Wa.STATE_UPDATE=Wa.ReduxStore=void 0;Wa.middleware=M7;Wa.reducer=U7;var zLe=Vo(),j7;function ri(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var HLe=0;function xR(e){return"__private_"+HLe+++"_"+e}var $Le={version:"2.1.0"},Zy="uppy/STATE_UPDATE";Wa.STATE_UPDATE=Zy;var WLe=function(t){return function(r){return r.uppy[t]}};function VLe(e,t){var r=Object.keys(t),n={};return r.forEach(function(a){e[a]!==t[a]&&(n[a]=t[a])}),n}var Vi=xR("id"),np=xR("selector"),Gi=xR("store");j7=Symbol.for("uppy test: get id");var $a=function(e){function t(r){BLe(this,t),Object.defineProperty(this,Vi,{writable:!0,value:void 0}),Object.defineProperty(this,np,{writable:!0,value:void 0}),Object.defineProperty(this,Gi,{writable:!0,value:void 0}),ri(this,Gi)[Gi]=r.store,ri(this,Vi)[Vi]=r.id||(0,zLe.nanoid)(),ri(this,np)[np]=r.selector||WLe(ri(this,Vi)[Vi]),this.setState({})}return LLe(t,[{key:"setState",value:function(n){ri(this,Gi)[Gi].dispatch({type:Zy,id:ri(this,Vi)[Vi],payload:n})}},{key:"getState",value:function(){return ri(this,np)[np](ri(this,Gi)[Gi].getState())}},{key:"subscribe",value:function(n){var a=this,i=this.getState();return ri(this,Gi)[Gi].subscribe(function(){var o=a.getState();if(i!==o){var u=VLe(i,o);n(i,o,u),i=o}})}},{key:e,value:function(){return ri(this,Vi)[Vi]}}]),t}(j7);Wa.ReduxStore=$a;$a.VERSION=$Le.version;function U7(e,t){if(e===void 0&&(e={}),t.type===Zy){var r=Qy(Qy({},e[t.id]),t.payload);return Qy(Qy({},e),{},C7({},t.id,r))}return e}function M7(){return function(){return function(e){return function(t){e(t)}}}}N7.exports=$a;$a.ReduxStore=$a;$a.STATE_UPDATE=Zy;$a.reducer=U7;$a.middleware=M7});var In=h(function(Pht,L7){"use strict";L7.exports=Array.from});var em=h(function(Rht,z7){"use strict";z7.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']});var CR=h(function(qht,H7){"use strict";function GLe(e,t){if(t){var r=e.querySelector('[data-uppy-paneltype="'.concat(t,'"]'));if(r)return r}return e}H7.exports=GLe});var V7=h(function(tm){"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.forInline=ZLe;tm.forModal=W7;var KLe=In(),YLe=em(),XLe=CR();function $7(e,t){var r=t[0];r&&(r.focus(),e.preventDefault())}function JLe(e,t){var r=t[t.length-1];r&&(r.focus(),e.preventDefault())}function QLe(e){return e.contains(document.activeElement)}function W7(e,t,r){var n=XLe(r,t),a=KLe(n.querySelectorAll(YLe)),i=a.indexOf(document.activeElement);QLe(n)?e.shiftKey&&i===0?JLe(e,a):!e.shiftKey&&i===a.length-1&&$7(e,a):$7(e,a)}function ZLe(e,t,r){t===null||W7(e,t,r)}});var K7=h(function(Tht,G7){"use strict";function e9e(e){if(!e.bytesUploaded)return 0;var t=Date.now()-e.uploadStarted,r=e.bytesUploaded/(t/1e3);return r}G7.exports=e9e});var X7=h(function(Aht,Y7){"use strict";function t9e(e){return e.bytesTotal-e.bytesUploaded}Y7.exports=t9e});var rm=h(function(kht,J7){"use strict";J7.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}});var Z7=h(function(Iht,Q7){"use strict";function r9e(e){var t=Math.floor(e/3600)%24,r=Math.floor(e/60)%60,n=Math.floor(e%60);return{hours:t,minutes:r,seconds:n}}Q7.exports=r9e});var tz=h(function(Fht,ez){"use strict";var n9e=Z7();function i9e(e){var t=n9e(e),r=t.hours===0?"":"".concat(t.hours,"h"),n=t.minutes===0?"":"".concat(t.hours===0?t.minutes:" ".concat(t.minutes.toString(10).padStart(2,"0")),"m"),a=t.hours!==0?"":"".concat(t.minutes===0?t.seconds:" ".concat(t.seconds.toString(10).padStart(2,"0")),"s");return"".concat(r).concat(n).concat(a)}ez.exports=i9e});var uz=h(function(Dr){"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.CancelBtn=f9e;Dr.DoneBtn=d9e;Dr.LoadingSpinner=DR;Dr.PauseResumeButton=p9e;Dr.ProgressBarComplete=g9e;Dr.ProgressBarError=b9e;Dr.ProgressBarProcessing=h9e;Dr.ProgressBarUploading=m9e;Dr.ProgressDetails=az;Dr.RetryBtn=c9e;Dr.UploadBtn=l9e;var me=(te(),re(ne)),rz=Cr(),a9e=Tf(),nz=py(),o9e=tz(),u9e=rm(),s9e="\xB7",iz=function(){return" ".concat(s9e," ")};function l9e(e){var t=e.newFiles,r=e.isUploadStarted,n=e.recoveredState,a=e.i18n,i=e.uploadState,o=e.isSomeGhost,u=e.startUpload,s=rz("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":i===u9e.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),l=t&&r&&!n?a("uploadXNewFiles",{smart_count:t}):a("uploadXFiles",{smart_count:t});return(0,me.h)("button",{type:"button",className:s,"aria-label":a("uploadXFiles",{smart_count:t}),onClick:u,disabled:o,"data-uppy-super-focusable":!0},l)}function c9e(e){var t=e.i18n,r=e.uppy;return(0,me.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return r.retryAll()},"data-uppy-super-focusable":!0},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,me.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function f9e(e){var t=e.i18n,r=e.uppy;return(0,me.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return r.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,me.h)("g",{fill:"none",fillRule:"evenodd"},(0,me.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,me.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function p9e(e){var t=e.isAllPaused,r=e.i18n,n=e.isAllComplete,a=e.resumableUploads,i=e.uppy,o=r(t?"resume":"pause");function u(){return n?null:a?t?i.resumeAll():i.pauseAll():i.cancelAll()}return(0,me.h)("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:u,"data-uppy-super-focusable":!0},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,me.h)("g",{fill:"none",fillRule:"evenodd"},(0,me.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,me.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function d9e(e){var t=e.i18n,r=e.doneButtonHandler;return(0,me.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},t("done"))}function DR(){return(0,me.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,me.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function h9e(e){var t=e.progress,r=t.value,n=t.mode,a=t.message,i=Math.round(r*100),o="\xB7";return(0,me.h)("div",{className:"uppy-StatusBar-content"},(0,me.h)(DR,null),n==="determinate"?"".concat(i,"% ").concat(o," "):"",a)}function az(e){var t=e.numUploads,r=e.complete,n=e.totalUploadedSize,a=e.totalSize,i=e.totalETA,o=e.i18n,u=t>1;return(0,me.h)("div",{className:"uppy-StatusBar-statusSecondary"},u&&o("filesUploadedOfTotal",{complete:r,smart_count:t}),(0,me.h)("span",{className:"uppy-StatusBar-additionalInfo"},u&&iz(),o("dataUploadedOfTotal",{complete:nz(n),total:nz(a)}),iz(),o("xTimeLeft",{time:o9e(i)})))}function oz(e){var t=e.i18n,r=e.complete,n=e.numUploads;return(0,me.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:r,smart_count:n}))}function v9e(e){var t=e.i18n,r=e.newFiles,n=e.startUpload,a=rz("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,me.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,me.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:r})),(0,me.h)("button",{type:"button",className:a,"aria-label":t("uploadXFiles",{smart_count:r}),onClick:n},t("upload")))}var y9e=a9e(az,500,{leading:!0,trailing:!0});function m9e(e){var t=e.i18n,r=e.supportsUploadProgress,n=e.totalProgress,a=e.showProgressDetails,i=e.isUploadStarted,o=e.isAllComplete,u=e.isAllPaused,s=e.newFiles,l=e.numUploads,c=e.complete,f=e.totalUploadedSize,p=e.totalSize,d=e.totalETA,v=e.startUpload,m=s&&i;if(!i||o)return null;var g=t(u?"paused":"uploading");function w(){return!u&&!m&&a?r?(0,me.h)(y9e,{numUploads:l,complete:c,totalUploadedSize:f,totalSize:p,totalETA:d,i18n:t}):(0,me.h)(oz,{i18n:t,complete:c,numUploads:l}):null}return(0,me.h)("div",{className:"uppy-StatusBar-content","aria-label":g,title:g},u?null:(0,me.h)(DR,null),(0,me.h)("div",{className:"uppy-StatusBar-status"},(0,me.h)("div",{className:"uppy-StatusBar-statusPrimary"},r?"".concat(g,": ").concat(n,"%"):g),w(),m?(0,me.h)(v9e,{i18n:t,newFiles:s,startUpload:v}):null))}function g9e(e){var t=e.i18n;return(0,me.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,me.h)("div",{className:"uppy-StatusBar-status"},(0,me.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,me.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function b9e(e){var t=e.error,r=e.i18n,n=e.complete,a=e.numUploads;function i(){var o="".concat(r("uploadFailed")," \n\n ").concat(t);alert(o)}return(0,me.h)("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,me.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,me.h)("div",{className:"uppy-StatusBar-status"},(0,me.h)("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),(0,me.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:i,type:"button"},"?")),(0,me.h)(oz,{i18n:r,complete:n,numUploads:a})))}});var lz=h(function(Cht,sz){"use strict";function _9e(e){for(var t=[],r,n,a=0,i=Object.values(e);a<i.length;a++){var o=i[a].progress,u=o.preprocess,s=o.postprocess;if(n==null&&(u||s)){var l=u||s;r=l.mode,n=l.message}(u==null?void 0:u.mode)==="determinate"&&t.push(u.value),(s==null?void 0:s.mode)==="determinate"&&t.push(s.value)}var c=t.reduce(function(f,p){return f+p/t.length},0);return{mode:r,message:n,value:c}}sz.exports=_9e});var hz=h(function(Dht,dz){"use strict";var nn=(te(),re(ne)),Ki=uz(),cz=Cr(),Ks=rm(),jR=lz(),fz=Ks.STATE_ERROR,pz=Ks.STATE_WAITING,UR=Ks.STATE_PREPROCESSING,nm=Ks.STATE_UPLOADING,MR=Ks.STATE_POSTPROCESSING,im=Ks.STATE_COMPLETE;function w9e(e){var t=e.newFiles,r=e.allowNewUpload,n=e.isUploadInProgress,a=e.isAllPaused,i=e.resumableUploads,o=e.error,u=e.hideUploadButton,s=e.hidePauseResumeButton,l=e.hideCancelButton,c=e.hideRetryButton,f=e.recoveredState,p=e.uploadState,d=e.totalProgress,v=e.files,m=e.supportsUploadProgress,g=e.hideAfterFinish,w=e.isSomeGhost,b=e.doneButtonHandler,O=e.isUploadStarted,T=e.i18n,x=e.startUpload,D=e.uppy,N=e.isAllComplete,G=e.showProgressDetails,q=e.numUploads,U=e.complete,Q=e.totalSize,X=e.totalETA,A=e.totalUploadedSize;function k(){switch(p){case MR:case UR:{var Rt=jR(v);return Rt.mode==="determinate"?Rt.value*100:d}case fz:return null;case nm:return m?d:null;default:return d}}function z(){switch(p){case MR:case UR:{var Rt=jR(v),Gt=Rt.mode;return Gt==="indeterminate"}case nm:return!m;default:return!1}}function C(){if(f)return!1;switch(p){case pz:return u||t===0;case im:return g;default:return!1}}var j=k(),L=C(),ee=j!=null?j:100,ce=!o&&t&&!n&&!a&&r&&!u,ue=!l&&p!==pz&&p!==im,je=i&&!s&&p===nm,He=o&&!N&&!c,st=b&&p===im,lt=cz("uppy-StatusBar-progress",{"is-indeterminate":z()}),Vt=cz("uppy-StatusBar","is-".concat(p),{"has-ghosts":w});return(0,nn.h)("div",{className:Vt,"aria-hidden":L},(0,nn.h)("div",{className:lt,style:{width:"".concat(ee,"%")},role:"progressbar","aria-label":"".concat(ee,"%"),"aria-valuetext":"".concat(ee,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":j}),function(){switch(p){case UR:case MR:return(0,nn.h)(Ki.ProgressBarProcessing,{progress:jR(v)});case im:return(0,nn.h)(Ki.ProgressBarComplete,{i18n:T});case fz:return(0,nn.h)(Ki.ProgressBarError,{error:o,i18n:T,numUploads:q,complete:U});case nm:return(0,nn.h)(Ki.ProgressBarUploading,{i18n:T,supportsUploadProgress:m,totalProgress:d,showProgressDetails:G,isUploadStarted:O,isAllComplete:N,isAllPaused:a,newFiles:t,numUploads:q,complete:U,totalUploadedSize:A,totalSize:Q,totalETA:X,startUpload:x});default:return null}}(),(0,nn.h)("div",{className:"uppy-StatusBar-actions"},f||ce?(0,nn.h)(Ki.UploadBtn,{newFiles:t,isUploadStarted:O,recoveredState:f,i18n:T,isSomeGhost:w,startUpload:x,uploadState:p}):null,He?(0,nn.h)(Ki.RetryBtn,{i18n:T,uppy:D}):null,je?(0,nn.h)(Ki.PauseResumeButton,{isAllPaused:a,i18n:T,isAllComplete:N,resumableUploads:i,uppy:D}):null,ue?(0,nn.h)(Ki.CancelBtn,{i18n:T,uppy:D}):null,st?(0,nn.h)(Ki.DoneBtn,{i18n:T,doneButtonHandler:b}):null))}dz.exports=w9e});var yz=h(function(jht,vz){"use strict";vz.exports={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}}});var Sz=h(function(Uht,wz){"use strict";function am(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?am=function(r){return typeof r}:am=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},am(e)}function mz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mz(Object(r),!0).forEach(function(n){S9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S9e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P9e(e,t,r){return t&&bz(e.prototype,t),r&&bz(e,r),e}function R9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NR(e,t)}function NR(e,t){return NR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},NR(e,t)}function q9e(e){var t=T9e();return function(){var n=om(e),a;if(t){var i=om(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return E9e(this,a)}}function E9e(e,t){if(t&&(am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BR(e)}function BR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function om(e){return om=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},om(e)}var A9e=Xe(),k9e=K7(),I9e=X7(),F9e=nR(),ni=rm(),x9e=hz(),C9e={version:"2.2.1"},D9e=yz();function j9e(e){var t=0;return e.forEach(function(r){t+=k9e(r.progress)}),t}function U9e(e){var t=j9e(e);if(t===0)return 0;var r=e.reduce(function(n,a){return n+I9e(a.progress)},0);return Math.round(r/t*10)/10}function M9e(e,t,r,n){if(e&&!t)return ni.STATE_ERROR;if(t)return ni.STATE_COMPLETE;if(r)return ni.STATE_WAITING;for(var a=ni.STATE_WAITING,i=Object.keys(n),o=0;o<i.length;o++){var u=n[i[o]].progress;if(u.uploadStarted&&!u.uploadComplete)return ni.STATE_UPLOADING;u.preprocess&&a!==ni.STATE_UPLOADING&&(a=ni.STATE_PREPROCESSING),u.postprocess&&a!==ni.STATE_UPLOADING&&a!==ni.STATE_PREPROCESSING&&(a=ni.STATE_POSTPROCESSING)}return a}var _z=function(e){R9e(r,e);var t=q9e(r);function r(n,a){var i;O9e(this,r),i=t.call(this,n,a),i.startUpload=function(){var u=i.uppy.getState(),s=u.recoveredState;if(s){i.uppy.emit("restore-confirmed");return}return i.uppy.upload().catch(function(){})},i.id=i.opts.id||"StatusBar",i.title="StatusBar",i.type="progressindicator",i.defaultLocale=D9e;var o={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};return i.opts=gz(gz({},o),a),i.i18nInit(),i.render=i.render.bind(BR(i)),i.install=i.install.bind(BR(i)),i}return P9e(r,[{key:"render",value:function(a){var i=a.capabilities,o=a.files,u=a.allowNewUpload,s=a.totalProgress,l=a.error,c=a.recoveredState,f=this.uppy.getObjectOfFilesPerState(),p=f.newFiles,d=f.startedFiles,v=f.completeFiles,m=f.inProgressNotPausedFiles,g=f.isUploadStarted,w=f.isAllComplete,b=f.isAllErrored,O=f.isAllPaused,T=f.isUploadInProgress,x=f.isSomeGhost,D=c?Object.values(o):p,N=U9e(m),G=!!i.resumableUploads,q=i.uploadProgress!==!1,U=0,Q=0;return d.forEach(function(X){U+=X.progress.bytesTotal||0,Q+=X.progress.bytesUploaded||0}),x9e({error:l,uploadState:M9e(l,w,c,a.files||{}),allowNewUpload:u,totalProgress:s,totalSize:U,totalUploadedSize:Q,isAllComplete:!1,isAllPaused:O,isAllErrored:b,isUploadStarted:g,isUploadInProgress:T,isSomeGhost:x,recoveredState:c,complete:v.length,newFiles:D.length,numUploads:d.length,totalETA:N,files:o,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:G,supportsUploadProgress:q,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var a=this.el,i=F9e(a);i||(a.dir="ltr")}},{key:"install",value:function(){var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(A9e.UIPlugin);_z.VERSION=C9e.version;wz.exports=_z});var LR=h(function(Mht,Oz){"use strict";Oz.exports=Sz()});var Ez=h(function(Nht,qz){"use strict";function um(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?um=function(r){return typeof r}:um=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},um(e)}function N9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B9e(e,t,r){return t&&Pz(e.prototype,t),r&&Pz(e,r),e}function L9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zR(e,t)}function zR(e,t){return zR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},zR(e,t)}function z9e(e){var t=W9e();return function(){var n=sm(e),a;if(t){var i=sm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return H9e(this,a)}}function H9e(e,t){if(t&&(um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $9e(e)}function $9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function sm(e){return sm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(e)}var HR=(te(),re(ne)),Rz=300,V9e=function(e){L9e(r,e);var t=z9e(r);function r(){var n;return N9e(this,r),n=t.apply(this,arguments),n.ref=(0,HR.createRef)(),n}return B9e(r,[{key:"componentWillEnter",value:function(a){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(a,Rz)}},{key:"componentWillLeave",value:function(a){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(a,Rz)}},{key:"render",value:function(){var a=this.props.children;return(0,HR.h)("div",{className:"uppy-Informer-animated",ref:this.ref},a)}}]),r}(HR.Component);qz.exports=V9e});var Iz=h(function(Bht,kz){"use strict";function lm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lm=function(r){return typeof r}:lm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lm(e)}var G9e=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"];function K9e(e,t){if(e==null)return{};var r=Y9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function Y9e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function X9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J9e(e,t,r){return t&&Tz(e.prototype,t),r&&Tz(e,r),e}function Q9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$R(e,t)}function $R(e,t){return $R=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},$R(e,t)}function Z9e(e){var t=t7e();return function(){var n=fm(e),a;if(t){var i=fm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return e7e(this,a)}}function e7e(e,t){if(t&&(lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cm(e)}function cm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t7e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fm(e){return fm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},fm(e)}var Yi=(te(),re(ne));function r7e(e,t){return Object.assign(e,t)}function n7e(e,t){var r;return(r=e==null?void 0:e.key)!=null?r:t}function i7e(e,t){var r=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return r[t]||(r[t]=function(n){e.refs[t]=n})}function ip(e){for(var t={},r=0;r<e.length;r++)if(e[r]!=null){var n=n7e(e[r],r.toString(36));t[n]=e[r]}return t}function a7e(e,t){e=e||{},t=t||{};var r=function(p){return t.hasOwnProperty(p)?t[p]:e[p]},n={},a=[];for(var i in e)t.hasOwnProperty(i)?a.length&&(n[i]=a,a=[]):a.push(i);var o={};for(var u in t){if(n.hasOwnProperty(u))for(var s=0;s<n[u].length;s++){var l=n[u][s];o[n[u][s]]=r(l)}o[u]=r(u)}for(var c=0;c<a.length;c++)o[a[c]]=r(a[c]);return o}var o7e=function(t){return t},Az=function(e){Q9e(r,e);var t=Z9e(r);function r(n,a){var i;return X9e(this,r),i=t.call(this,n,a),i.refs={},i.state={children:ip((0,Yi.toChildArray)((0,Yi.toChildArray)(i.props.children))||[])},i.performAppear=i.performAppear.bind(cm(i)),i.performEnter=i.performEnter.bind(cm(i)),i.performLeave=i.performLeave.bind(cm(i)),i}return J9e(r,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var a=this.state.children;for(var i in a)a[i]&&this.performAppear(i)}},{key:"componentWillReceiveProps",value:function(a){var i=ip((0,Yi.toChildArray)(a.children)||[]),o=this.state.children;this.setState(function(c){return{children:a7e(c.children,i)}});var u;for(u in i)if(i.hasOwnProperty(u)){var s=o&&o.hasOwnProperty(u);i[u]&&s&&this.currentlyTransitioningKeys[u]?(this.keysToEnter.push(u),this.keysToAbortLeave.push(u)):i[u]&&!s&&!this.currentlyTransitioningKeys[u]&&this.keysToEnter.push(u)}for(u in o)if(o.hasOwnProperty(u)){var l=i&&i.hasOwnProperty(u);o[u]&&!l&&!this.currentlyTransitioningKeys[u]&&this.keysToLeave.push(u)}}},{key:"componentDidUpdate",value:function(){var a=this.keysToEnter;this.keysToEnter=[],a.forEach(this.performEnter);var i=this.keysToLeave;this.keysToLeave=[],i.forEach(this.performLeave)}},{key:"_finishAbort",value:function(a){var i=this.keysToAbortLeave.indexOf(a);i!==-1&&this.keysToAbortLeave.splice(i,1)}},{key:"performAppear",value:function(a){this.currentlyTransitioningKeys[a]=!0;var i=this.refs[a];i.componentWillAppear?i.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)}},{key:"_handleDoneAppearing",value:function(a){var i=this.refs[a];i.componentDidAppear&&i.componentDidAppear(),delete this.currentlyTransitioningKeys[a],this._finishAbort(a);var o=ip((0,Yi.toChildArray)(this.props.children)||[]);(!o||!o.hasOwnProperty(a))&&this.performLeave(a)}},{key:"performEnter",value:function(a){this.currentlyTransitioningKeys[a]=!0;var i=this.refs[a];i.componentWillEnter?i.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)}},{key:"_handleDoneEntering",value:function(a){var i=this.refs[a];i.componentDidEnter&&i.componentDidEnter(),delete this.currentlyTransitioningKeys[a],this._finishAbort(a);var o=ip((0,Yi.toChildArray)(this.props.children)||[]);(!o||!o.hasOwnProperty(a))&&this.performLeave(a)}},{key:"performLeave",value:function(a){var i=this.keysToAbortLeave.indexOf(a);if(i===-1){this.currentlyTransitioningKeys[a]=!0;var o=this.refs[a];o.componentWillLeave?o.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)}}},{key:"_handleDoneLeaving",value:function(a){var i=this.keysToAbortLeave.indexOf(a);if(i===-1){var o=this.refs[a];o.componentDidLeave&&o.componentDidLeave(),delete this.currentlyTransitioningKeys[a];var u=ip((0,Yi.toChildArray)(this.props.children)||[]);if(u&&u.hasOwnProperty(a))this.performEnter(a);else{var s=r7e({},this.state.children);delete s[a],this.setState({children:s})}}}},{key:"render",value:function(a,i){var o=a.childFactory,u=a.transitionLeave,s=a.transitionName,l=a.transitionAppear,c=a.transitionEnter,f=a.transitionLeaveTimeout,p=a.transitionEnterTimeout,d=a.transitionAppearTimeout,v=a.component,m=K9e(a,G9e),g=i.children,w=[];for(var b in g)if(g.hasOwnProperty(b)){var O=g[b];if(O){var T=i7e(this,b),x=(0,Yi.cloneElement)(o(O),{ref:T,key:b});w.push(x)}}return(0,Yi.h)(v,m,w)}}]),r}(Yi.Component);Az.defaultProps={component:"span",childFactory:o7e};kz.exports=Az});var Uz=h(function(Lht,jz){"use strict";function pm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pm=function(r){return typeof r}:pm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pm(e)}function Fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fz(Object(r),!0).forEach(function(n){u7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u7e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l7e(e,t,r){return t&&Cz(e.prototype,t),r&&Cz(e,r),e}function c7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WR(e,t)}function WR(e,t){return WR=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},WR(e,t)}function f7e(e){var t=h7e();return function(){var n=dm(e),a;if(t){var i=dm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return p7e(this,a)}}function p7e(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d7e(e)}function d7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h7e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function dm(e){return dm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},dm(e)}var ap=(te(),re(ne)),v7e=Xe(),y7e=Ez(),m7e=Iz(),g7e={version:"2.1.0"},Dz=function(e){c7e(r,e);var t=f7e(r);function r(n,a){var i;s7e(this,r),i=t.call(this,n,a),i.render=function(u){return(0,ap.h)("div",{className:"uppy uppy-Informer"},(0,ap.h)(m7e,null,u.info.map(function(s){return(0,ap.h)(y7e,{key:s.message},(0,ap.h)("p",{role:"alert"},s.message," ",s.details&&(0,ap.h)("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(s.message," \n\n ").concat(s.details))}},"?")))})))},i.type="progressindicator",i.id=i.opts.id||"Informer",i.title="Informer";var o={};return i.opts=xz(xz({},o),a),i}return l7e(r,[{key:"install",value:function(){var a=this.opts.target;a&&this.mount(a,this)}}]),r}(v7e.UIPlugin);Dz.VERSION=g7e.version;jz.exports=Dz});var VR=h(function(zht,Mz){"use strict";Mz.exports=Uz()});var vH=h(function(cq){"use strict";function b7e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fn(e,t){return S7e(e)||w7e(e,t)||GR(e,t)||_7e()}function _7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w7e(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function S7e(e){if(Array.isArray(e))return e}function ke(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=GR(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function Va(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(r){return typeof r}:Va=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Va(e)}function hm(e){return R7e(e)||P7e(e)||GR(e)||O7e()}function O7e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function GR(e,t){if(!!e){if(typeof e=="string")return KR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KR(e,t)}}function P7e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R7e(e){if(Array.isArray(e))return KR(e)}function KR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nz(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function ot(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){Nz(i,n,a,o,u,"next",s)}function u(s){Nz(i,n,a,o,u,"throw",s)}o(void 0)})}}function vm(){return typeof Reflect!="undefined"&&Reflect.get?vm=Reflect.get:vm=function(t,r,n){var a=q7e(t,r);if(!!a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},vm.apply(this,arguments)}function q7e(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ru(e),e!==null););return e}function Ys(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&op(e,t)}function Xs(e){var t=Lz();return function(){var n=ru(e),a;if(t){var i=ru(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Bz(this,a)}}function Bz(e,t){if(t&&(Va(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xn(e)}function xn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YR(e){var t=typeof Map=="function"?new Map:void 0;return YR=function(n){if(n===null||!E7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return ym(n,arguments,ru(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),op(a,n)},YR(e)}function ym(e,t,r){return Lz()?ym=Reflect.construct:ym=function(a,i,o){var u=[null];u.push.apply(u,i);var s=Function.bind.apply(a,u),l=new s;return o&&op(l,o.prototype),l},ym.apply(null,arguments)}function Lz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E7e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function op(e,t){return op=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},op(e,t)}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ru(e)}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dn(e,t,r){return t&&zz(e.prototype,t),r&&zz(e,r),e}function $e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(cq,"__esModule",{value:!0});var Hz=typeof self!="undefined"?self:global,Ga=typeof navigator!="undefined",mm=Ga&&typeof HTMLImageElement=="undefined",$z=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),T7e=!!Hz.Buffer,A7e=function(t){return t!==void 0};function Wz(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(A7e).length===0)}function It(e){var t=new Error(e);throw delete t.stack,t}function Vz(e){var t=function(r){var n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var XR=function(t){return String.fromCharCode.apply(null,t)},Gz=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0,gm=function(){function e(t){Cn(this,e);var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(typeof a=="boolean"&&(this.le=a),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){n===void 0&&(n=t.byteLength-r);var i=new DataView(t,r,n);this._swapDataView(i)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof e){n===void 0&&(n=t.byteLength-r),r+=t.byteOffset,r+n>t.byteOffset+t.byteLength&&It("Creating view outside of available memory in ArrayBuffer");var o=new DataView(t.buffer,r,n);this._swapDataView(o)}else if(typeof t=="number"){var u=new DataView(new ArrayBuffer(t));this._swapDataView(u)}else It("Invalid input argument for BufferView: "+t)}return Dn(e,[{key:"_swapArrayBuffer",value:function(r){this._swapDataView(new DataView(r))}},{key:"_swapBuffer",value:function(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}},{key:"_swapDataView",value:function(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}},{key:"_lengthToEnd",value:function(r){return this.byteLength-r}},{key:"set",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;return r instanceof DataView||r instanceof e?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||It("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new a(this,n,r.byteLength)}},{key:"subarray",value:function(r,n){return n=n||this._lengthToEnd(r),new e(this,r,n)}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)}},{key:"getString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=this.getUint8Array(r,n);return i=a,Gz?Gz.decode(i):T7e?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(XR(i)));var i}},{key:"getLatin1String",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=this.getUint8Array(r,n);return XR(a)}},{key:"getUnicodeString",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=[],i=0;i<n&&r+i<this.byteLength;i+=2)a.push(this.getUint16(r+i));return XR(a)}},{key:"getInt8",value:function(r){return this.dataView.getInt8(r)}},{key:"getUint8",value:function(r){return this.dataView.getUint8(r)}},{key:"getInt16",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(r,n)}},{key:"getInt32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(r,n)}},{key:"getUint16",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(r,n)}},{key:"getUint32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(r,n)}},{key:"getFloat32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)}},{key:"getFloat64",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)}},{key:"getFloat",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)}},{key:"getDouble",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)}},{key:"getUintBytes",value:function(r,n,a){switch(n){case 1:return this.getUint8(r,a);case 2:return this.getUint16(r,a);case 4:return this.getUint32(r,a);case 8:return this.getUint64&&this.getUint64(r,a)}}},{key:"getUint",value:function(r,n,a){switch(n){case 8:return this.getUint8(r,a);case 16:return this.getUint16(r,a);case 32:return this.getUint32(r,a);case 64:return this.getUint64&&this.getUint64(r,a)}}},{key:"toString",value:function(r){return this.dataView.toString(r,this.constructor.name)}},{key:"ensureChunk",value:function(){}}],[{key:"from",value:function(r,n){return r instanceof this&&r.le===n?r:new e(r,void 0,void 0,n)}}]),e}();function JR(e,t){It("".concat(e," '").concat(t,"' was not loaded, try using full build of exifr."))}var QR=function(e){Ys(r,e);var t=Xs(r);function r(n){var a;return Cn(this,r),a=t.call(this),a.kind=n,a}return Dn(r,[{key:"get",value:function(a,i){return this.has(a)||JR(this.kind,a),i&&(a in i||function(o,u){It("Unknown ".concat(o," '").concat(u,"'."))}(this.kind,a),i[a].enabled||JR(this.kind,a)),vm(ru(r.prototype),"get",this).call(this,a)}},{key:"keyList",value:function(){return Array.from(this.keys())}}]),r}(YR(Map)),Kz=new QR("file parser"),jn=new QR("segment parser"),Yz=new QR("file reader"),k7e=Hz.fetch;function Xz(e,t){return(r=e).startsWith("data:")||r.length>1e4?tq(e,t,"base64"):$z&&e.includes("://")?ZR(e,t,"url",Jz):$z?tq(e,t,"fs"):Ga?ZR(e,t,"url",Jz):void It("Invalid input argument");var r}function ZR(e,t,r,n){return eq.apply(this,arguments)}function eq(){return eq=ot(regeneratorRuntime.mark(function e(t,r,n,a){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Yz.has(n)?tq(t,r,n):a?function(){var u=ot(regeneratorRuntime.mark(function s(l,c){var f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,c(l);case 2:return f=d.sent,d.abrupt("return",new gm(f));case 4:case"end":return d.stop()}},s)}));return function(s,l){return u.apply(this,arguments)}}()(t,a):void It("Parser ".concat(n," is not loaded")));case 1:case"end":return o.stop()}},e)})),eq.apply(this,arguments)}function tq(e,t,r){return rq.apply(this,arguments)}function rq(){return rq=ot(regeneratorRuntime.mark(function e(t,r,n){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=new(Yz.get(n))(t,r),o.next=3,a.read();case 3:return o.abrupt("return",a);case 4:case"end":return o.stop()}},e)})),rq.apply(this,arguments)}var Jz=function(t){return k7e(t).then(function(r){return r.arrayBuffer()})},I7e=function(t){return new Promise(function(r,n){var a=new FileReader;a.onloadend=function(){return r(a.result||new ArrayBuffer)},a.onerror=n,a.readAsArrayBuffer(t)})},nq=new Map,F7e=new Map,x7e=new Map,bm=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Qz=["jfif","xmp","icc","iptc","ihdr"],iq=["tiff"].concat(Qz),Ft=["ifd0","ifd1","exif","gps","interop"],_m=[].concat(hm(iq),Ft),wm=["makerNote","userComment"],Zz=["translateKeys","translateValues","reviveValues","multiSegment"],Sm=[].concat(Zz,["sanitize","mergeOutput","silentErrors"]),eH=function(){function e(){Cn(this,e)}return Dn(e,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),e}(),up=function(e){Ys(r,e);var t=Xs(r);function r(n,a,i,o){var u;if(Cn(this,r),u=t.call(this),$e(xn(u),"enabled",!1),$e(xn(u),"skip",new Set),$e(xn(u),"pick",new Set),$e(xn(u),"deps",new Set),$e(xn(u),"translateKeys",!1),$e(xn(u),"translateValues",!1),$e(xn(u),"reviveValues",!1),u.key=n,u.enabled=a,u.parse=u.enabled,u.applyInheritables(o),u.canBeFiltered=Ft.includes(n),u.canBeFiltered&&(u.dict=nq.get(n)),i!==void 0)if(Array.isArray(i))u.parse=u.enabled=!0,u.canBeFiltered&&i.length>0&&u.translateTagSet(i,u.pick);else if(Va(i)=="object"){if(u.enabled=!0,u.parse=i.parse!==!1,u.canBeFiltered){var s=i.pick,l=i.skip;s&&s.length>0&&u.translateTagSet(s,u.pick),l&&l.length>0&&u.translateTagSet(l,u.skip)}u.applyInheritables(i)}else i===!0||i===!1?u.parse=u.enabled=i:It("Invalid options argument: ".concat(i));return Bz(u)}return Dn(r,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}},{key:"applyInheritables",value:function(a){var i,o,u=ke(Zz),s;try{for(u.s();!(s=u.n()).done;)i=s.value,o=a[i],o!==void 0&&(this[i]=o)}catch(l){u.e(l)}finally{u.f()}}},{key:"translateTagSet",value:function(a,i){if(this.dict){var o,u,s=this.dict,l=s.tagKeys,c=s.tagValues,f=ke(a),p;try{for(f.s();!(p=f.n()).done;)o=p.value,typeof o=="string"?(u=c.indexOf(o),u===-1&&(u=l.indexOf(Number(o))),u!==-1&&i.add(Number(l[u]))):i.add(o)}catch(g){f.e(g)}finally{f.f()}}else{var d=ke(a),v;try{for(d.s();!(v=d.n()).done;){var m=v.value;i.add(m)}}catch(g){d.e(g)}finally{d.f()}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Om(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Om(this.pick,this.deps)}}]),r}(eH),ar={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},tH=new Map,aq=function(e){Ys(r,e);var t=Xs(r);function r(n){var a;return Cn(this,r),a=t.call(this),n===!0?a.setupFromTrue():n===void 0?a.setupFromUndefined():Array.isArray(n)?a.setupFromArray(n):Va(n)=="object"?a.setupFromObject(n):It("Invalid options argument ".concat(n)),a.firstChunkSize===void 0&&(a.firstChunkSize=Ga?a.firstChunkSizeBrowser:a.firstChunkSizeNode),a.mergeOutput&&(a.ifd1.enabled=!1),a.filterNestedSegmentTags(),a.traverseTiffDependencyTree(),a.checkLoadedPlugins(),a}return Dn(r,[{key:"setupFromUndefined",value:function(){var a,i=ke(bm),o;try{for(i.s();!(o=i.n()).done;)a=o.value,this[a]=ar[a]}catch(d){i.e(d)}finally{i.f()}var u=ke(Sm),s;try{for(u.s();!(s=u.n()).done;)a=s.value,this[a]=ar[a]}catch(d){u.e(d)}finally{u.f()}var l=ke(wm),c;try{for(l.s();!(c=l.n()).done;)a=c.value,this[a]=ar[a]}catch(d){l.e(d)}finally{l.f()}var f=ke(_m),p;try{for(f.s();!(p=f.n()).done;)a=p.value,this[a]=new up(a,ar[a],void 0,this)}catch(d){f.e(d)}finally{f.f()}}},{key:"setupFromTrue",value:function(){var a,i=ke(bm),o;try{for(i.s();!(o=i.n()).done;)a=o.value,this[a]=ar[a]}catch(d){i.e(d)}finally{i.f()}var u=ke(Sm),s;try{for(u.s();!(s=u.n()).done;)a=s.value,this[a]=ar[a]}catch(d){u.e(d)}finally{u.f()}var l=ke(wm),c;try{for(l.s();!(c=l.n()).done;)a=c.value,this[a]=!0}catch(d){l.e(d)}finally{l.f()}var f=ke(_m),p;try{for(f.s();!(p=f.n()).done;)a=p.value,this[a]=new up(a,!0,void 0,this)}catch(d){f.e(d)}finally{f.f()}}},{key:"setupFromArray",value:function(a){var i,o=ke(bm),u;try{for(o.s();!(u=o.n()).done;)i=u.value,this[i]=ar[i]}catch(v){o.e(v)}finally{o.f()}var s=ke(Sm),l;try{for(s.s();!(l=s.n()).done;)i=l.value,this[i]=ar[i]}catch(v){s.e(v)}finally{s.f()}var c=ke(wm),f;try{for(c.s();!(f=c.n()).done;)i=f.value,this[i]=ar[i]}catch(v){c.e(v)}finally{c.f()}var p=ke(_m),d;try{for(p.s();!(d=p.n()).done;)i=d.value,this[i]=new up(i,!1,void 0,this)}catch(v){p.e(v)}finally{p.f()}this.setupGlobalFilters(a,void 0,Ft)}},{key:"setupFromObject",value:function(a){var i,o=ke((Ft.ifd0=Ft.ifd0||Ft.image,Ft.ifd1=Ft.ifd1||Ft.thumbnail,Object.assign(this,a),bm)),u;try{for(o.s();!(u=o.n()).done;)i=u.value,this[i]=oq(a[i],ar[i])}catch(g){o.e(g)}finally{o.f()}var s=ke(Sm),l;try{for(s.s();!(l=s.n()).done;)i=l.value,this[i]=oq(a[i],ar[i])}catch(g){s.e(g)}finally{s.f()}var c=ke(wm),f;try{for(c.s();!(f=c.n()).done;)i=f.value,this[i]=oq(a[i],ar[i])}catch(g){c.e(g)}finally{c.f()}var p=ke(iq),d;try{for(p.s();!(d=p.n()).done;)i=d.value,this[i]=new up(i,ar[i],a[i],this)}catch(g){p.e(g)}finally{p.f()}var v=ke(Ft),m;try{for(v.s();!(m=v.n()).done;)i=m.value,this[i]=new up(i,ar[i],a[i],this.tiff)}catch(g){v.e(g)}finally{v.f()}this.setupGlobalFilters(a.pick,a.skip,Ft,_m),a.tiff===!0?this.batchEnableWithBool(Ft,!0):a.tiff===!1?this.batchEnableWithUserValue(Ft,a):Array.isArray(a.tiff)?this.setupGlobalFilters(a.tiff,void 0,Ft):Va(a.tiff)=="object"&&this.setupGlobalFilters(a.tiff.pick,a.tiff.skip,Ft)}},{key:"batchEnableWithBool",value:function(a,i){var o=ke(a),u;try{for(o.s();!(u=o.n()).done;){var s=u.value;this[s].enabled=i}}catch(l){o.e(l)}finally{o.f()}}},{key:"batchEnableWithUserValue",value:function(a,i){var o=ke(a),u;try{for(o.s();!(u=o.n()).done;){var s=u.value,l=i[s];this[s].enabled=l!==!1&&l!==void 0}}catch(c){o.e(c)}finally{o.f()}}},{key:"setupGlobalFilters",value:function(a,i,o){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;if(a&&a.length){var s=ke(u),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;this[c].enabled=!1}}catch(N){s.e(N)}finally{s.f()}var f=rH(a,o),p=ke(f),d;try{for(p.s();!(d=p.n()).done;){var v=Fn(d.value,2),m=v[0],g=v[1];Om(this[m].pick,g),this[m].enabled=!0}}catch(N){p.e(N)}finally{p.f()}}else if(i&&i.length){var w=rH(i,o),b=ke(w),O;try{for(b.s();!(O=b.n()).done;){var T=Fn(O.value,2),x=T[0],D=T[1];Om(this[x].skip,D)}}catch(N){b.e(N)}finally{b.f()}}}},{key:"filterNestedSegmentTags",value:function(){var a=this.ifd0,i=this.exif,o=this.xmp,u=this.iptc,s=this.icc;this.makerNote?i.deps.add(37500):i.skip.add(37500),this.userComment?i.deps.add(37510):i.skip.add(37510),o.enabled||a.skip.add(700),u.enabled||a.skip.add(33723),s.enabled||a.skip.add(34675)}},{key:"traverseTiffDependencyTree",value:function(){var a=this,i=this.ifd0,o=this.exif,u=this.gps,s=this.interop;s.needed&&(o.deps.add(40965),i.deps.add(40965)),o.needed&&i.deps.add(34665),u.needed&&i.deps.add(34853),this.tiff.enabled=Ft.some(function(p){return a[p].enabled===!0})||this.makerNote||this.userComment;var l=ke(Ft),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;this[f].finalizeFilters()}}catch(p){l.e(p)}finally{l.f()}}},{key:"onlyTiff",get:function(){var a=this;return!Qz.map(function(i){return a[i].enabled}).some(function(i){return i===!0})&&this.tiff.enabled}},{key:"checkLoadedPlugins",value:function(){var a=ke(iq),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;this[o].enabled&&!jn.has(o)&&JR("segment parser",o)}}catch(u){a.e(u)}finally{a.f()}}}],[{key:"useCached",value:function(a){var i=tH.get(a);return i!==void 0||(i=new this(a),tH.set(a,i)),i}}]),r}(eH);function rH(e,t){var r,n,a,i,o=[],u=ke(t),s;try{for(u.s();!(s=u.n()).done;){a=s.value;var l=ke((r=nq.get(a),n=[],r)),c;try{for(l.s();!(c=l.n()).done;)i=c.value,(e.includes(i[0])||e.includes(i[1]))&&n.push(i[0])}catch(f){l.e(f)}finally{l.f()}n.length&&o.push([a,n])}}catch(f){u.e(f)}finally{u.f()}return o}function oq(e,t){return e!==void 0?e:t!==void 0?t:void 0}function Om(e,t){var r=ke(t),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;e.add(a)}}catch(i){r.e(i)}finally{r.f()}}$e(aq,"default",ar);var C7e=function(){function e(t){var r=this;Cn(this,e),$e(this,"parsers",{}),$e(this,"output",{}),$e(this,"errors",[]),$e(this,"pushToErrors",function(n){return r.errors.push(n)}),this.options=aq.useCached(t)}return Dn(e,[{key:"read",value:function(){var t=ot(regeneratorRuntime.mark(function n(a){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,function(u,s){return typeof u=="string"?Xz(u,s):Ga&&!mm&&u instanceof HTMLImageElement?Xz(u.src,s):u instanceof Uint8Array||u instanceof ArrayBuffer||u instanceof DataView?new gm(u):Ga&&u instanceof Blob?ZR(u,s,"blob",I7e):void It("Invalid input argument")}(a,this.options);case 2:this.file=o.sent;case 3:case"end":return o.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"setup",value:function(){if(!this.fileParser){var r=this.file,n=r.getUint16(0),a=ke(Kz),i;try{for(a.s();!(i=a.n()).done;){var o=Fn(i.value,2),u=o[0],s=o[1];if(s.canHandle(r,n))return this.fileParser=new s(this.options,this.file,this.parsers),r[u]=!0}}catch(l){a.e(l)}finally{a.f()}this.file.close&&this.file.close(),It("Unknown file format")}}},{key:"parse",value:function(){var t=ot(regeneratorRuntime.mark(function n(){var a,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=this.output,i=this.errors,this.setup(),!this.options.silentErrors){s.next=8;break}return s.next=5,this.executeParsers().catch(this.pushToErrors);case 5:i.push.apply(i,hm(this.fileParser.errors)),s.next=10;break;case 8:return s.next=10,this.executeParsers();case 10:return this.file.close&&this.file.close(),this.options.silentErrors&&i.length>0&&(a.errors=i),s.abrupt("return",Wz(o=a)?void 0:o);case 13:case"end":return s.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"executeParsers",value:function(){var t=ot(regeneratorRuntime.mark(function n(){var a=this,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=this.output,s.next=3,this.fileParser.parse();case 3:return o=Object.values(this.parsers).map(function(){var l=ot(regeneratorRuntime.mark(function c(f){var p;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,f.parse();case 2:p=v.sent,f.assignToOutput(i,p);case 4:case"end":return v.stop()}},c)}));return function(c){return l.apply(this,arguments)}}()),this.options.silentErrors&&(o=o.map(function(l){return l.catch(a.pushToErrors)})),s.next=7,Promise.all(o);case 7:case"end":return s.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"extractThumbnail",value:function(){var t=ot(regeneratorRuntime.mark(function n(){var a,i,o,u,s,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.setup(),a=this.options,i=this.file,o=jn.get("tiff",a),!i.tiff){p.next=6;break}u={start:0,type:"tiff"},p.next=11;break;case 6:if(p.t0=i.jpeg,!p.t0){p.next=11;break}return p.next=10,this.fileParser.getOrFindSegment("tiff");case 10:u=p.sent;case 11:if(u!==void 0){p.next=13;break}return p.abrupt("return");case 13:return p.next=15,this.fileParser.ensureSegmentChunk(u);case 15:return s=p.sent,l=this.parsers.tiff=new o(s,a,i),p.next=19,l.extractThumbnail();case 19:return c=p.sent,p.abrupt("return",(i.close&&i.close(),c));case 21:case"end":return p.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}]),e}(),Js=function(){function e(t){var r=this;Cn(this,e);var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;$e(this,"errors",[]),$e(this,"raw",new Map),$e(this,"handleError",function(i){if(!r.options.silentErrors)throw i;r.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=a,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return Dn(e,[{key:"normalizeInput",value:function(r){return r instanceof gm?r:new gm(r)}},{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"output",get:function(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}},{key:"translateBlock",value:function(r,n){var a=x7e.get(n),i=F7e.get(n),o=nq.get(n),u=this.options[n],s=u.reviveValues&&!!a,l=u.translateValues&&!!i,c=u.translateKeys&&!!o,f={},p=ke(r),d;try{for(p.s();!(d=p.n()).done;){var v=Fn(d.value,2),m=v[0],g=v[1];s&&a.has(m)?g=a.get(m)(g):l&&i.has(m)&&(g=this.translateValue(g,i.get(m))),c&&o.has(m)&&(m=o.get(m)||m),f[m]=g}}catch(w){p.e(w)}finally{p.f()}return f}},{key:"translateValue",value:function(r,n){return n[r]||n.DEFAULT||r}},{key:"assignToOutput",value:function(r,n){this.assignObjectToOutput(r,this.constructor.type,n)}},{key:"assignObjectToOutput",value:function(r,n,a){if(this.globalOptions.mergeOutput)return Object.assign(r,a);r[n]?Object.assign(r[n],a):r[n]=a}}],[{key:"findPosition",value:function(r,n){var a=r.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(r,n,a):this.headerLength,o=n+i,u=a-i;return{offset:n,length:a,headerLength:i,start:o,size:u,end:o+u}}},{key:"parse",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new this(r,new aq(b7e({},this.type,n)),r).parse()}}]),e}();$e(Js,"headerLength",4),$e(Js,"type",void 0),$e(Js,"multiSegment",!1),$e(Js,"canHandle",function(){return!1});function D7e(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function j7e(e){return e>=224&&e<=239}function U7e(e,t,r){var n=ke(jn),a;try{for(n.s();!(a=n.n()).done;){var i=Fn(a.value,2),o=i[0],u=i[1];if(u.canHandle(e,t,r))return o}}catch(s){n.e(s)}finally{n.f()}}var nH=function(e){Ys(r,e);var t=Xs(r);function r(){var n;return Cn(this,r),n=t.apply(this,arguments),$e(xn(n),"appSegments",[]),$e(xn(n),"jpegSegments",[]),$e(xn(n),"unknownSegments",[]),n}return Dn(r,[{key:"parse",value:function(){var n=ot(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.findAppSegments();case 2:return u.next=4,this.readSegments(this.appSegments);case 4:this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return u.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"setupSegmentFinderArgs",value:function(a){var i=this;a===!0?(this.findAll=!0,this.wanted=new Set(jn.keyList())):(a=a===void 0?jn.keyList().filter(function(o){return i.options[o].enabled}):a.filter(function(o){return i.options[o].enabled&&jn.has(o)}),this.findAll=!1,this.remaining=new Set(a),this.wanted=new Set(a)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var n=ot(regeneratorRuntime.mark(function i(){var o=this,u,s,l,c,f,p,d,v,m,g=arguments;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(u=g.length>0&&g[0]!==void 0?g[0]:0,s=g.length>1?g[1]:void 0,this.setupSegmentFinderArgs(s),l=this.file,c=this.findAll,f=this.wanted,p=this.remaining,b.t0=!c&&this.file.chunked,!b.t0){b.next=10;break}if(c=Array.from(f).some(function(O){var T=jn.get(O),x=o.options[O];return T.multiSegment&&x.multiSegment}),b.t1=c,!b.t1){b.next=10;break}return b.next=10,this.file.readWhole();case 10:if(u=this.findAppSegmentsInRange(u,l.byteLength),!(!this.options.onlyTiff&&l.chunked)){b.next=30;break}d=!1;case 13:if(!(p.size>0&&!d&&(l.canReadNextChunk||this.unfinishedMultiSegment))){b.next=30;break}if(v=l.nextChunkOffset,m=this.appSegments.some(function(O){return!o.file.available(O.offset||O.start,O.length||O.size)}),!(u>v&&!m)){b.next=21;break}return b.next=18,l.readNextChunk(u);case 18:b.t2=!b.sent,b.next=24;break;case 21:return b.next=23,l.readNextChunk(v);case 23:b.t2=!b.sent;case 24:if(d=b.t2,u=this.findAppSegmentsInRange(u,l.byteLength),u!==void 0){b.next=28;break}return b.abrupt("return");case 28:b.next=13;break;case 30:case"end":return b.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"findAppSegmentsInRange",value:function(a,i){i-=2;for(var o,u,s,l,c,f,p=this.file,d=this.findAll,v=this.wanted,m=this.remaining,g=this.options;a<i;a++)if(p.getUint8(a)===255){if(o=p.getUint8(a+1),j7e(o)){if(u=p.getUint16(a+2),s=U7e(p,a,u),s&&v.has(s)&&(l=jn.get(s),c=l.findPosition(p,a),f=g[s],c.type=s,this.appSegments.push(c),!d&&(l.multiSegment&&f.multiSegment?(this.unfinishedMultiSegment=c.chunkNumber<c.chunkCount,this.unfinishedMultiSegment||m.delete(s)):m.delete(s),m.size===0)))break;g.recordUnknownSegments&&(c=Js.findPosition(p,a),c.marker=o,this.unknownSegments.push(c)),a+=u+1}else if(D7e(o)){if(u=p.getUint16(a+2),o===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:a,length:u,marker:o}),a+=u+1}}return a}},{key:"mergeMultiSegments",value:function(){var a=this;if(!!this.appSegments.some(function(o){return o.multiSegment})){var i=function(o,u){for(var s,l,c,f=new Map,p=0;p<o.length;p++)s=o[p],l=s[u],f.has(l)?c=f.get(l):f.set(l,c=[]),c.push(s);return Array.from(f)}(this.appSegments,"type");this.mergedAppSegments=i.map(function(o){var u=Fn(o,2),s=u[0],l=u[1],c=jn.get(s,a.options);return c.handleMultiSegments?{type:s,chunk:c.handleMultiSegments(l)}:l[0]})}}},{key:"getSegment",value:function(a){return this.appSegments.find(function(i){return i.type===a})}},{key:"getOrFindSegment",value:function(){var n=ot(regeneratorRuntime.mark(function i(o){var u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(u=this.getSegment(o),l.t0=u===void 0,!l.t0){l.next=6;break}return l.next=5,this.findAppSegments(0,[o]);case 5:u=this.getSegment(o);case 6:return l.abrupt("return",u);case 7:case"end":return l.stop()}},i,this)}));function a(i){return n.apply(this,arguments)}return a}()}],[{key:"canHandle",value:function(a,i){return i===65496}}]),r}(function(){function e(t,r,n){var a=this;Cn(this,e),$e(this,"errors",[]),$e(this,"ensureSegmentChunk",function(){var i=ot(regeneratorRuntime.mark(function o(u){var s,l;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=u.start,l=u.size||65536,!a.file.chunked){f.next=17;break}if(!a.file.available(s,l)){f.next=6;break}u.chunk=a.file.subarray(s,l),f.next=15;break;case 6:return f.prev=6,f.next=9,a.file.readChunk(s,l);case 9:u.chunk=f.sent,f.next=15;break;case 12:f.prev=12,f.t0=f.catch(6),It("Couldn't read segment: ".concat(JSON.stringify(u),". ").concat(f.t0.message));case 15:f.next=18;break;case 17:a.file.byteLength>s+l?u.chunk=a.file.subarray(s,l):u.size===void 0?u.chunk=a.file.subarray(s):It("Segment unreachable: "+JSON.stringify(u));case 18:return f.abrupt("return",u.chunk);case 19:case"end":return f.stop()}},o,null,[[6,12]])}));return function(o){return i.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=r,this.parsers=n}return Dn(e,[{key:"injectSegment",value:function(r,n){this.options[r].enabled&&this.createParser(r,n)}},{key:"createParser",value:function(r,n){var a=new(jn.get(r))(n,this.options,this.file);return this.parsers[r]=a}},{key:"createParsers",value:function(r){var n=ke(r),a;try{for(n.s();!(a=n.n()).done;){var i=a.value,o=i.type,u=i.chunk,s=this.options[o];if(s&&s.enabled){var l=this.parsers[o];l&&l.append||l||this.createParser(o,u)}}}catch(c){n.e(c)}finally{n.f()}}},{key:"readSegments",value:function(){var t=ot(regeneratorRuntime.mark(function n(a){var i;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=a.map(this.ensureSegmentChunk),u.next=3,Promise.all(i);case 3:case"end":return u.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()}]),e}());$e(nH,"type","jpeg"),Kz.set("jpeg",nH);var M7e=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],N7e=function(e){Ys(r,e);var t=Xs(r);function r(){return Cn(this,r),t.apply(this,arguments)}return Dn(r,[{key:"parseHeader",value:function(){var a=this.chunk.getUint16();a===18761?this.le=!0:a===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(a,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,u=this.options[i],s=u.pick,l=u.skip;s=new Set(s);var c=s.size>0,f=l.size===0,p=this.chunk.getUint16(a);a+=2;for(var d=0;d<p;d++){var v=this.chunk.getUint16(a);if(c){if(s.has(v)&&(o.set(v,this.parseTag(a,v,i)),s.delete(v),s.size===0))break}else!f&&l.has(v)||o.set(v,this.parseTag(a,v,i));a+=12}return o}},{key:"parseTag",value:function(a,i,o){var u=this.chunk,s=u.getUint16(a+2),l=u.getUint32(a+4),c=M7e[s];if(c*l<=4?a+=8:a=u.getUint32(a+8),(s<1||s>13)&&It("Invalid TIFF value type. block: ".concat(o.toUpperCase(),", tag: ").concat(i.toString(16),", type: ").concat(s,", offset ").concat(a)),a>u.byteLength&&It("Invalid TIFF value offset. block: ".concat(o.toUpperCase(),", tag: ").concat(i.toString(16),", type: ").concat(s,", offset ").concat(a," is outside of chunk size ").concat(u.byteLength)),s===1)return u.getUint8Array(a,l);if(s===2)return(f=function(g){for(;g.endsWith("\0");)g=g.slice(0,-1);return g}(f=u.getString(a,l)).trim())===""?void 0:f;var f;if(s===7)return u.getUint8Array(a,l);if(l===1)return this.parseTagValue(s,a);{for(var p=function(g){switch(g){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(s),d=new p(l),v=c,m=0;m<l;m++)d[m]=this.parseTagValue(s,a),a+=v;return d}}},{key:"parseTagValue",value:function(a,i){var o=this.chunk;switch(a){case 1:return o.getUint8(i);case 3:return o.getUint16(i);case 4:case 13:return o.getUint32(i);case 5:return o.getUint32(i)/o.getUint32(i+4);case 6:return o.getInt8(i);case 8:return o.getInt16(i);case 9:return o.getInt32(i);case 10:return o.getInt32(i)/o.getInt32(i+4);case 11:return o.getFloat(i);case 12:return o.getDouble(i);default:It("Invalid tiff type ".concat(a))}}}]),r}(Js),uq=function(e){Ys(r,e);var t=Xs(r);function r(){return Cn(this,r),t.apply(this,arguments)}return Dn(r,[{key:"parse",value:function(){var n=ot(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.parseHeader(),o=this.options,s.t0=o.ifd0.enabled,!s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(s.t1=o.exif.enabled,!s.t1){s.next=10;break}return s.next=10,this.safeParse("parseExifBlock");case 10:if(s.t2=o.gps.enabled,!s.t2){s.next=14;break}return s.next=14,this.safeParse("parseGpsBlock");case 14:if(s.t3=o.interop.enabled,!s.t3){s.next=18;break}return s.next=18,this.safeParse("parseInteropBlock");case 18:if(s.t4=o.ifd1.enabled,!s.t4){s.next=22;break}return s.next=22,this.safeParse("parseThumbnailBlock");case 22:return s.abrupt("return",this.createOutput());case 23:case"end":return s.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"safeParse",value:function(a){var i=this[a]();return i.catch!==void 0&&(i=i.catch(this.handleError)),i}},{key:"findIfd0Offset",value:function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var a=this.chunk.getUint16(this.ifd0Offset),i=this.ifd0Offset+2+12*a;this.ifd1Offset=this.chunk.getUint32(i)}}},{key:"parseBlock",value:function(a,i){var o=new Map;return this[i]=o,this.parseTags(a,i,o),o}},{key:"parseIfd0Block",value:function(){var n=ot(regeneratorRuntime.mark(function i(){var o,u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.ifd0){l.next=2;break}return l.abrupt("return");case 2:if(o=this.file,this.findIfd0Offset(),this.ifd0Offset<8&&It("Malformed EXIF data"),!o.chunked&&this.ifd0Offset>o.byteLength&&It("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(o.byteLength)),l.t0=o.tiff,!l.t0){l.next=10;break}return l.next=10,o.ensureChunk(this.ifd0Offset,Vz(this.options));case 10:return u=this.parseBlock(this.ifd0Offset,"ifd0"),l.abrupt("return",u.size!==0?(this.exifOffset=u.get(34665),this.interopOffset=u.get(40965),this.gpsOffset=u.get(34853),this.xmp=u.get(700),this.iptc=u.get(33723),this.icc=u.get(34675),this.options.sanitize&&(u.delete(34665),u.delete(40965),u.delete(34853),u.delete(700),u.delete(33723),u.delete(34675)),u):void 0);case 12:case"end":return l.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"parseExifBlock",value:function(){var n=ot(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.exif){s.next=2;break}return s.abrupt("return");case 2:if(s.t0=this.ifd0,s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(this.exifOffset!==void 0){s.next=8;break}return s.abrupt("return");case 8:if(s.t1=this.file.tiff,!s.t1){s.next=12;break}return s.next=12,this.file.ensureChunk(this.exifOffset,Vz(this.options));case 12:return o=this.parseBlock(this.exifOffset,"exif"),s.abrupt("return",(this.interopOffset||(this.interopOffset=o.get(40965)),this.makerNote=o.get(37500),this.userComment=o.get(37510),this.options.sanitize&&(o.delete(40965),o.delete(37500),o.delete(37510)),this.unpack(o,41728),this.unpack(o,41729),o));case 14:case"end":return s.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"unpack",value:function(a,i){var o=a.get(i);o&&o.length===1&&a.set(i,o[0])}},{key:"parseGpsBlock",value:function(){var n=ot(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.gps){s.next=2;break}return s.abrupt("return");case 2:if(s.t0=this.ifd0,s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(this.gpsOffset!==void 0){s.next=8;break}return s.abrupt("return");case 8:return o=this.parseBlock(this.gpsOffset,"gps"),s.abrupt("return",(o&&o.has(2)&&o.has(4)&&(o.set("latitude",iH.apply(void 0,hm(o.get(2)).concat([o.get(1)]))),o.set("longitude",iH.apply(void 0,hm(o.get(4)).concat([o.get(3)])))),o));case 10:case"end":return s.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"parseInteropBlock",value:function(){var n=ot(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=!this.interop,!u.t0){u.next=11;break}if(u.t1=this.ifd0,u.t1){u.next=6;break}return u.next=6,this.parseIfd0Block();case 6:if(u.t2=this.interopOffset!==void 0||this.exif,u.t2){u.next=10;break}return u.next=10,this.parseExifBlock();case 10:u.t0=this.interopOffset!==void 0;case 11:if(!u.t0){u.next=13;break}return u.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return u.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"parseThumbnailBlock",value:function(){var n=ot(regeneratorRuntime.mark(function i(){var o,u=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=u.length>0&&u[0]!==void 0&&u[0],!(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||o))){l.next=3;break}return l.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return l.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"extractThumbnail",value:function(){var n=ot(regeneratorRuntime.mark(function i(){var o,u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.headerParsed||this.parseHeader(),l.t0=this.ifd1Parsed,l.t0){l.next=5;break}return l.next=5,this.parseThumbnailBlock(!0);case 5:if(this.ifd1!==void 0){l.next=7;break}return l.abrupt("return");case 7:return o=this.ifd1.get(513),u=this.ifd1.get(514),l.abrupt("return",this.chunk.getUint8Array(o,u));case 9:case"end":return l.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}},{key:"createOutput",value:function(){var a,i,o,u={},s=ke(Ft),l;try{for(s.s();!(l=s.n()).done;)if(i=l.value,a=this[i],!Wz(a))if(o=this.canTranslate?this.translateBlock(a,i):Object.fromEntries(a),this.options.mergeOutput){if(i==="ifd1")continue;Object.assign(u,o)}else u[i]=o}catch(c){s.e(c)}finally{s.f()}return this.makerNote&&(u.makerNote=this.makerNote),this.userComment&&(u.userComment=this.userComment),u}},{key:"assignToOutput",value:function(a,i){if(this.globalOptions.mergeOutput)Object.assign(a,i);else for(var o=0,u=Object.entries(i);o<u.length;o++){var s=Fn(u[o],2),l=s[0],c=s[1];this.assignObjectToOutput(a,l,c)}}}],[{key:"canHandle",value:function(a,i){return a.getUint8(i+1)===225&&a.getUint32(i+4)===1165519206&&a.getUint16(i+8)===0}}]),r}(N7e);function iH(e,t,r,n){var a=e+t/60+r/3600;return n!=="S"&&n!=="W"||(a*=-1),a}$e(uq,"type","tiff"),$e(uq,"headerLength",10),jn.set("tiff",uq);var B7e=Object.assign({},{ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},{firstChunkSize:4e4,ifd0:[274]}),L7e=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),sp=!0,lp=!0;(typeof navigator=="undefined"?"undefined":Va(navigator))=="object"&&(ii=navigator.userAgent,ii.includes("iPad")||ii.includes("iPhone")?(sq=ii.match(/OS (\d+)_(\d+)/),sq&&(lq=Fn(sq,3),aH=lq[1],Ga=lq[2],mm=Number(aH)+.1*Number(Ga),sp=mm<13.4,lp=!1)):ii.includes("OS X 10")&&(oH=ii.match(/OS X 10[_.](\d+)/),uH=Fn(oH,2),sH=uH[1],sp=lp=Number(sH)<15),ii.includes("Chrome/")?(lH=ii.match(/Chrome\/(\d+)/),cH=Fn(lH,2),fH=cH[1],sp=lp=Number(fH)<81):ii.includes("Firefox/")&&(pH=ii.match(/Firefox\/(\d+)/),dH=Fn(pH,2),hH=dH[1],sp=lp=Number(hH)<77));var ii,sq,lq,aH,Ga,mm,oH,uH,sH,lH,cH,fH,pH,dH,hH;cq.rotation=function(){var e=ot(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(){var o=ot(regeneratorRuntime.mark(function u(s){var l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return l=new C7e(B7e),p.next=3,l.read(s);case 3:return p.next=5,l.parse();case 5:if(c=p.sent,!(c&&c.ifd0)){p.next=8;break}return p.abrupt("return",c.ifd0[274]);case 8:case"end":return p.stop()}},u)}));return function(u){return o.apply(this,arguments)}}()(r);case 2:return n=i.sent,i.abrupt("return",Object.assign({canvas:sp,css:lp},L7e[n]));case 4:case"end":return i.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()});var mH=h(function($ht,yH){"use strict";var z7e=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function H7e(e,t,r){var n,a,i=z7e.exec(e),o=(n=(a=t.mimeType)!=null?a:i==null?void 0:i[1])!=null?n:"plain/text",u;if(i[2]!=null){for(var s=atob(decodeURIComponent(i[3])),l=new Uint8Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);u=[l]}else u=[decodeURIComponent(i[3])];return r?new File(u,t.name||"",{type:o}):new Blob(u,{type:o})}yH.exports=H7e});var bH=h(function(Wht,gH){"use strict";function $7e(e){return e.startsWith("blob:")}gH.exports=$7e});var wH=h(function(Vht,_H){"use strict";_H.exports={strings:{generatingThumbnails:"Generating thumbnails..."}}});var pq=h(function(Ght,TH){"use strict";function Pm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pm=function(r){return typeof r}:Pm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pm(e)}function W7e(e,t){return Y7e(e)||K7e(e,t)||G7e(e,t)||V7e()}function V7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G7e(e,t){if(!!e){if(typeof e=="string")return SH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SH(e,t)}}function SH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K7e(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function Y7e(e){if(Array.isArray(e))return e}function OH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OH(Object(r),!0).forEach(function(n){X7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X7e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q7e(e,t,r){return t&&RH(e.prototype,t),r&&RH(e,r),e}function Z7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fq(e,t)}function fq(e,t){return fq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},fq(e,t)}function eze(e){var t=nze();return function(){var n=Rm(e),a;if(t){var i=Rm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return tze(this,a)}}function tze(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rze(e)}function rze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Rm(e){return Rm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(e)}var ize=Xe(),aze=vH(),oze=mH(),qH=bH(),EH=PR(),uze=wH(),sze={version:"2.2.0"};function lze(e,t,r){try{e.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(function(n){e.toBlob(n,t,r)}).then(function(n){if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(function(){return oze(e.toDataURL(t,r),{})}).then(function(n){if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function cze(e,t){var r=e.width,n=e.height;(t.deg===90||t.deg===270)&&(r=e.height,n=e.width);var a=document.createElement("canvas");a.width=r,a.height=n;var i=a.getContext("2d");return i.translate(r/2,n/2),t.canvas&&(i.rotate(t.rad),i.scale(t.scaleX,t.scaleY)),i.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),a}function fze(e){var t=e.width/e.height,r=5e6,n=4096,a=Math.floor(Math.sqrt(r*t)),i=Math.floor(r/Math.sqrt(r*t));if(a>n&&(a=n,i=Math.round(a/t)),i>n&&(i=n,a=Math.round(t*i)),e.width>a){var o=document.createElement("canvas");return o.width=a,o.height=i,o.getContext("2d").drawImage(e,0,0,a,i),o}return e}var cp=function(e){Z7e(r,e);var t=eze(r);function r(n,a){var i;J7e(this,r),i=t.call(this,n,a),i.onFileAdded=function(u){!u.preview&&u.data&&EH(u.type)&&!u.isRemote&&i.addToQueue(u.id)},i.onCancelRequest=function(u){var s=i.queue.indexOf(u.id);s!==-1&&i.queue.splice(s,1)},i.onFileRemoved=function(u){var s=i.queue.indexOf(u.id);s!==-1&&i.queue.splice(s,1),u.preview&&qH(u.preview)&&URL.revokeObjectURL(u.preview)},i.onRestored=function(){var u=i.uppy.getFiles().filter(function(s){return s.isRestored});u.forEach(function(s){(!s.preview||qH(s.preview))&&i.addToQueue(s.id)})},i.onAllFilesRemoved=function(){i.queue=[]},i.waitUntilAllProcessed=function(u){u.forEach(function(l){var c=i.uppy.getFile(l);i.uppy.emit("preprocess-progress",c,{mode:"indeterminate",message:i.i18n("generatingThumbnails")})});var s=function(){u.forEach(function(c){var f=i.uppy.getFile(c);i.uppy.emit("preprocess-complete",f)})};return new Promise(function(l){i.queueProcessing?i.uppy.once("thumbnail:all-generated",function(){s(),l()}):(s(),l())})},i.type="modifier",i.id=i.opts.id||"ThumbnailGenerator",i.title="Thumbnail Generator",i.queue=[],i.queueProcessing=!1,i.defaultThumbnailDimension=200,i.thumbnailType=i.opts.thumbnailType||"image/jpeg",i.defaultLocale=uze;var o={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(i.opts=PH(PH({},o),a),i.i18nInit(),i.opts.lazy&&i.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return i}return Q7e(r,[{key:"createThumbnail",value:function(a,i,o){var u=this,s=URL.createObjectURL(a.data),l=new Promise(function(f,p){var d=new Image;d.src=s,d.addEventListener("load",function(){URL.revokeObjectURL(s),f(d)}),d.addEventListener("error",function(v){URL.revokeObjectURL(s),p(v.error||new Error("Could not create thumbnail"))})}),c=(0,aze.rotation)(a.data).catch(function(){return 1});return Promise.all([l,c]).then(function(f){var p=W7e(f,2),d=p[0],v=p[1],m=u.getProportionalDimensions(d,i,o,v.deg),g=u.rotateImage(d,v),w=u.resizeImage(g,m.width,m.height);return u.canvasToBlob(w,u.thumbnailType,80)}).then(function(f){return URL.createObjectURL(f)})}},{key:"getProportionalDimensions",value:function(a,i,o,u){var s=a.width/a.height;return(u===90||u===270)&&(s=a.height/a.width),i!=null?{width:i,height:Math.round(i/s)}:o!=null?{width:Math.round(o*s),height:o}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/s)}}},{key:"resizeImage",value:function(a,i,o){var u=this.protect(a),s=Math.ceil(Math.log2(u.width/i));s<1&&(s=1);for(var l=i*Math.pow(2,s-1),c=o*Math.pow(2,s-1),f=2;s--;){var p=document.createElement("canvas");p.width=l,p.height=c,p.getContext("2d").drawImage(u,0,0,l,c),u=p,l=Math.round(l/f),c=Math.round(c/f)}return u}},{key:"setPreviewURL",value:function(a,i){this.uppy.setFileState(a,{preview:i})}},{key:"addToQueue",value:function(a){this.queue.push(a),this.queueProcessing===!1&&this.processQueue()}},{key:"processQueue",value:function(){var a=this;if(this.queueProcessing=!0,this.queue.length>0){var i=this.uppy.getFile(this.queue.shift());return i?this.requestThumbnail(i).catch(function(){}).then(function(){return a.processQueue()}):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}},{key:"requestThumbnail",value:function(a){var i=this;return EH(a.type)&&!a.isRemote?this.createThumbnail(a,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(o){i.setPreviewURL(a.id,o),i.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(a.id)),i.uppy.emit("thumbnail:generated",i.uppy.getFile(a.id),o)}).catch(function(o){i.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(a.id,":"),"warning"),i.uppy.log(o,"warning"),i.uppy.emit("thumbnail:error",i.uppy.getFile(a.id),o)}):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}]),r}(ize.UIPlugin);cp.VERSION=sze.version;TH.exports=cp;cp.prototype.canvasToBlob=lze;cp.prototype.protect=fze;cp.prototype.rotateImage=cze});var kH=h(function(Kht,AH){"use strict";function qm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qm=function(r){return typeof r}:qm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qm(e)}var pze=tR();function dze(e){if(typeof e=="string"){var t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return qm(e)==="object"&&pze(e)?[e]:null}AH.exports=dze});var FH=h(function(Yht,IH){"use strict";function hze(e){return!e.fullPath||e.fullPath==="/".concat(e.name)?null:e.fullPath}IH.exports=hze});var jH=h(function(Xht,DH){"use strict";function xH(e){return gze(e)||mze(e)||yze(e)||vze()}function vze(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yze(e,t){if(!!e){if(typeof e=="string")return dq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dq(e,t)}}function mze(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gze(e){if(Array.isArray(e))return dq(e)}function dq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CH(e,t,r,n){var a=n.onSuccess;e.readEntries(function(i){var o=[].concat(xH(t),xH(i));i.length?setTimeout(function(){CH(e,o,r,{onSuccess:a})},0):a(o)},function(i){r(i),a(t)})}DH.exports=CH});var MH=h(function(Jht,UH){"use strict";var bze=FH(),_ze=jH(),wze=In();function Sze(e,t){var r=[],n=[],a=function i(o){return new Promise(function(u){if(o.isFile)o.file(function(l){l.relativePath=bze(o),r.push(l),u()},function(l){t(l),u()});else if(o.isDirectory){var s=o.createReader();_ze(s,[],t,{onSuccess:function(c){return u(Promise.all(c.map(i)))}})}})};return wze(e.items).forEach(function(i){var o=i.webkitGetAsEntry();o&&n.push(a(o))}),Promise.all(n).then(function(){return r})}UH.exports=Sze});var BH=h(function(Qht,NH){"use strict";var Oze=In();function Pze(e){var t=Oze(e.files);return Promise.resolve(t)}NH.exports=Pze});var Em=h(function(Zht,LH){"use strict";var Rze=MH(),qze=BH();function Eze(e,t){var r,n=t===void 0?{}:t,a=n.logDropError,i=a===void 0?function(){}:a;return(r=e.items)!=null&&r[0]&&"webkitGetAsEntry"in e.items[0]?Rze(e,i):qze(e)}LH.exports=Eze});var $H=h(function(evt,HH){"use strict";var zH=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Tze(e,t){return!!(e===t||zH(e)&&zH(t))}function Aze(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Tze(e[r],t[r]))return!1;return!0}function kze(e,t){t===void 0&&(t=Aze);var r,n=[],a,i=!1;function o(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return i&&r===this&&t(u,n)||(a=e.apply(this,u),i=!0,r=this,n=u),a}return o}HH.exports=kze});var KH=h(function(tvt,GH){function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(r){return typeof r}:Ka=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ka(e)}var Ize="Expected a function",WH=0/0,Fze="[object Symbol]",xze=/^\s+|\s+$/g,Cze=/^[-+]0x[0-9a-f]+$/i,Dze=/^0b[01]+$/i,jze=/^0o[0-7]+$/i,Uze=parseInt,Mze=(typeof global=="undefined"?"undefined":Ka(global))=="object"&&global&&global.Object===Object&&global,Nze=(typeof self=="undefined"?"undefined":Ka(self))=="object"&&self&&self.Object===Object&&self,Bze=Mze||Nze||Function("return this")(),Lze=Object.prototype,zze=Lze.toString,Hze=Math.max,$ze=Math.min,hq=function(){return Bze.Date.now()};function Wze(e,t,r){var n,a,i,o,u,s,l=0,c=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(Ize);t=VH(t)||0,vq(r)&&(c=!!r.leading,f="maxWait"in r,i=f?Hze(VH(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function d(D){var N=n,G=a;return n=a=void 0,l=D,o=e.apply(G,N),o}function v(D){return l=D,u=setTimeout(w,t),c?d(D):o}function m(D){var N=D-s,G=D-l,q=t-N;return f?$ze(q,i-G):q}function g(D){var N=D-s,G=D-l;return s===void 0||N>=t||N<0||f&&G>=i}function w(){var D=hq();if(g(D))return b(D);u=setTimeout(w,m(D))}function b(D){return u=void 0,p&&n?d(D):(n=a=void 0,o)}function O(){u!==void 0&&clearTimeout(u),l=0,n=s=a=u=void 0}function T(){return u===void 0?o:b(hq())}function x(){var D=hq(),N=g(D);if(n=arguments,a=this,s=D,N){if(u===void 0)return v(s);if(f)return u=setTimeout(w,t),d(s)}return u===void 0&&(u=setTimeout(w,t)),o}return x.cancel=O,x.flush=T,x}function vq(e){var t=Ka(e);return!!e&&(t=="object"||t=="function")}function Vze(e){return!!e&&Ka(e)=="object"}function Gze(e){return Ka(e)=="symbol"||Vze(e)&&zze.call(e)==Fze}function VH(e){if(typeof e=="number")return e;if(Gze(e))return WH;if(vq(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vq(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(xze,"");var r=Dze.test(e);return r||jze.test(e)?Uze(e.slice(2),r?2:8):Cze.test(e)?WH:+e}GH.exports=Wze});var XH=h(function(rvt,YH){"use strict";var Kze=KH(),Yze=em(),Xze=CR();function Jze(){var e=!1,t=function(n,a){var i=Xze(n,a),o=i.contains(document.activeElement);if(!(o&&e)){var u=i.querySelector("[data-uppy-super-focusable]");if(!(o&&!u))if(u)u.focus({preventScroll:!0}),e=!0;else{var s=i.querySelector(Yze);s==null||s.focus({preventScroll:!0}),e=!1}}};return Kze(t,260)}YH.exports=Jze});var yq=h(function(nvt,JH){"use strict";function Qze(){var e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}JH.exports=Qze});var ZH=h(function(ivt,QH){QH.exports=function(t,r){if(t===r)return!0;for(var n in t)if(!(n in r))return!1;for(var n in r)if(t[n]!==r[n])return!1;return!0}});var Tm=h(function(avt,e$){"use strict";var Ot=(te(),re(ne));function Zze(){return(0,Ot.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ot.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,Ot.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,Ot.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,Ot.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function eHe(){return(0,Ot.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ot.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function tHe(){return(0,Ot.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ot.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function rHe(){return(0,Ot.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ot.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function nHe(){return(0,Ot.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ot.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function iHe(){return(0,Ot.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ot.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,Ot.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,Ot.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function aHe(){return(0,Ot.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ot.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}function oHe(e){var t={color:"#838999",icon:iHe()};if(!e)return t;var r=e.split("/")[0],n=e.split("/")[1];if(r==="text")return{color:"#5a5e69",icon:aHe()};if(r==="image")return{color:"#686de0",icon:Zze()};if(r==="audio")return{color:"#068dbb",icon:eHe()};if(r==="video")return{color:"#19af67",icon:tHe()};if(r==="application"&&n==="pdf")return{color:"#e25149",icon:rHe()};var a=["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"];return r==="application"&&a.indexOf(n)!==-1?{color:"#00C469",icon:nHe()}:t}e$.exports=oHe});var mq=h(function(ovt,t$){"use strict";var fp=(te(),re(ne)),uHe=Tm();function sHe(e){var t=e.file;if(t.preview)return(0,fp.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var r=uHe(t.type),n=r.color,a=r.icon;return(0,fp.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,fp.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n}},a),(0,fp.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,fp.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}t$.exports=sHe});var gq=h(function(uvt,n$){"use strict";var r$=(te(),re(ne)),lHe=function(t,r){var n=r.filter(function(a){return a.id===t});return n[0].name};function cHe(e){var t=e.file,r=e.toggleFileCard,n=e.i18n,a=e.metaFields,i=t.missingRequiredMetaFields;if(!(i!=null&&i.length))return null;var o=i.map(function(u){return lHe(u,a)}).join(", ");return(0,r$.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},n("missingRequiredMetaFields",{smart_count:i.length,fields:o})," ",(0,r$.h)("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return r(!0,t.id)}},n("editFile")))}n$.exports=cHe});var a$=h(function(svt,i$){"use strict";var pp=(te(),re(ne)),fHe=mq(),pHe=gq(),dHe=Tm();function hHe(e){return(0,pp.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:dHe(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&(0,pp.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name},(0,pp.h)("span",{hidden:!0},e.file.meta.name)),(0,pp.h)(fHe,{file:e.file}),(0,pp.h)(pHe,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}i$.exports=hHe});var s$=h(function(lvt,u$){"use strict";var Ce=(te(),re(ne));function vHe(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function o$(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function bq(e){return(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Ce.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":o$(e),title:o$(e),onClick:function(){return vHe(e)}},e.children))}function Am(e){var t=e.children;return(0,Ce.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function _q(e){var t=e.progress,r=2*Math.PI*15;return(0,Ce.h)("g",null,(0,Ce.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,Ce.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*t}))}function yHe(e){if(!e.file.progress.uploadStarted)return null;if(e.isUploaded)return(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,Ce.h)(Am,null,(0,Ce.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,Ce.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!e.recoveredState)return e.error&&!e.hideRetryButton?(0,Ce.h)(bq,e,(0,Ce.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,Ce.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,Ce.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,Ce.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,Ce.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?(0,Ce.h)(bq,e,(0,Ce.h)(Am,null,(0,Ce.h)(_q,{progress:e.file.progress.percentage}),e.file.isPaused?(0,Ce.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,Ce.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,Ce.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,Ce.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?(0,Ce.h)(bq,e,(0,Ce.h)(Am,null,(0,Ce.h)(_q,{progress:e.file.progress.percentage}),(0,Ce.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,Ce.h)(Am,null,(0,Ce.h)(_q,{progress:e.file.progress.percentage}))))}u$.exports=yHe});var c$=h(function(cvt,l$){"use strict";var wq="...";function mHe(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=wq.length+1)return"".concat(e.slice(0,t-1),"\u2026");var r=t-wq.length,n=Math.ceil(r/2),a=Math.floor(r/2);return e.slice(0,n)+wq+e.slice(-a)}l$.exports=mHe});var d$=h(function(fvt,p$){"use strict";var Sr=(te(),re(ne)),gHe=py(),f$=c$(),bHe=gq(),_He=function(t){var r=t.file.meta,n=r.author,a=r.name;function i(){return t.containerWidth<=352?35:t.containerWidth<=576?60:n?20:30}return(0,Sr.h)("div",{className:"uppy-Dashboard-Item-name",title:a},f$(a,i()))},wHe=function(t){var r=t.file.meta.author,n=t.file.remote.providerName,a="\xB7";return r?(0,Sr.h)("div",{className:"uppy-Dashboard-Item-author"},(0,Sr.h)("a",{href:"".concat(r.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},f$(r.name,13)),n?(0,Sr.h)(Sr.Fragment,null," ".concat(a," "),n," ".concat(a," ")):null):null},SHe=function(t){return t.file.size&&(0,Sr.h)("div",{className:"uppy-Dashboard-Item-statusSize"},gHe(t.file.size))},OHe=function(t){return t.file.isGhost&&(0,Sr.h)("span",null," \u2022 ",(0,Sr.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:t.toggleAddFilesPanel},t.i18n("reSelect")))},PHe=function(t){var r=t.file,n=t.onClick;return r.error?(0,Sr.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":r.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};function RHe(e){var t=e.file;return(0,Sr.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},(0,Sr.h)("div",{className:"uppy-Dashboard-Item-fileName"},_He(e),(0,Sr.h)(PHe,{file:e.file,onClick:function(){return alert(e.file.error)}})),(0,Sr.h)("div",{className:"uppy-Dashboard-Item-status"},wHe(e),SHe(e),OHe(e)),(0,Sr.h)(bHe,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}p$.exports=RHe});var v$=h(function(pvt,h$){"use strict";function qHe(e,t){return t||(t="Copy the URL below"),new Promise(function(r){var n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=e,document.body.appendChild(n),n.select();var a=function(){document.body.removeChild(n),window.prompt(t,e),r()};try{var i=document.execCommand("copy");return i?(document.body.removeChild(n),r()):a("copy command unavailable")}catch(o){return document.body.removeChild(n),a(o)}})}h$.exports=qHe});var m$=h(function(dvt,y$){"use strict";var Nt=(te(),re(ne)),EHe=v$();function THe(e){var t=e.file,r=e.uploadInProgressOrComplete,n=e.metaFields,a=e.canEditFile,i=e.i18n,o=e.onClick;return!r&&n&&n.length>0||!r&&a(t)?(0,Nt.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:function(){return o()}},(0,Nt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,Nt.h)("g",{fillRule:"evenodd"},(0,Nt.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,Nt.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,Nt.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function AHe(e){var t=e.i18n,r=e.onClick,n=e.file;return(0,Nt.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:n.meta.name}),title:t("removeFile",{file:n.meta.name}),onClick:function(){return r()}},(0,Nt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,Nt.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,Nt.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var kHe=function(t,r){EHe(r.file.uploadURL,r.i18n("copyLinkToClipboardFallback")).then(function(){r.uppy.log("Link copied to clipboard."),r.uppy.info(r.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(r.uppy.log).then(function(){return t.target.focus({preventScroll:!0})})};function IHe(e){var t=e.i18n;return(0,Nt.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:function(n){return kHe(n,e)}},(0,Nt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,Nt.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function FHe(e){var t=e.uppy,r=e.file,n=e.uploadInProgressOrComplete,a=e.canEditFile,i=e.metaFields,o=e.showLinkToFileUploadResult,u=e.showRemoveButton,s=e.i18n,l=e.toggleFileCard,c=e.openFileEditor,f=function(){i&&i.length>0?l(!0,r.id):c(r)};return(0,Nt.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,Nt.h)(THe,{i18n:s,file:r,uploadInProgressOrComplete:n,canEditFile:a,metaFields:i,onClick:f}),o&&r.uploadURL?(0,Nt.h)(IHe,{file:r,uppy:t,i18n:s}):null,u?(0,Nt.h)(AHe,{i18n:s,file:r,uppy:t,onClick:function(){return e.uppy.removeFile(r.id,"removed-by-user")}}):null)}y$.exports=FHe});var _$=h(function(hvt,b$){"use strict";function km(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?km=function(r){return typeof r}:km=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},km(e)}function xHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CHe(e,t,r){return t&&g$(e.prototype,t),r&&g$(e,r),e}function DHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sq(e,t)}function Sq(e,t){return Sq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Sq(e,t)}function jHe(e){var t=NHe();return function(){var n=Im(e),a;if(t){var i=Im(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return UHe(this,a)}}function UHe(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MHe(e)}function MHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Im(e){return Im=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(e)}var Ya=(te(),re(ne)),BHe=Cr(),LHe=ZH(),zHe=a$(),HHe=s$(),$He=d$(),WHe=m$(),VHe=function(e){DHe(r,e);var t=jHe(r);function r(){return xHe(this,r),t.apply(this,arguments)}return CHe(r,[{key:"componentDidMount",value:function(){var a=this.props.file;a.preview||this.props.handleRequestThumbnail(a)}},{key:"shouldComponentUpdate",value:function(a){return!LHe(this.props,a)}},{key:"componentDidUpdate",value:function(){var a=this.props.file;a.preview||this.props.handleRequestThumbnail(a)}},{key:"componentWillUnmount",value:function(){var a=this.props.file;a.preview||this.props.handleCancelThumbnail(a)}},{key:"render",value:function(){var a=this.props.file,i=a.progress.preprocess||a.progress.postprocess,o=a.progress.uploadComplete&&!i&&!a.error,u=a.progress.uploadStarted||i,s=a.progress.uploadStarted&&!a.progress.uploadComplete||i,l=a.error||!1,c=a.isGhost,f=(this.props.individualCancellation||!s)&&!o;o&&this.props.showRemoveButtonAfterComplete&&(f=!0);var p=BHe({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":i,"is-complete":o,"is-error":!!l,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":c});return(0,Ya.h)("div",{className:p,id:"uppy_".concat(a.id),role:this.props.role},(0,Ya.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,Ya.h)(zHe,{file:a,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,Ya.h)(HHe,{uppy:this.props.uppy,file:a,error:l,isUploaded:o,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,Ya.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,Ya.h)($He,{file:a,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,Ya.h)(WHe,{file:a,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:f,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:u,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}]),r}(Ya.Component);b$.exports=VHe});var P$=h(function(vvt,O$){"use strict";function Fm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fm=function(r){return typeof r}:Fm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fm(e)}var GHe=["data","rowHeight","renderRow","overscanCount"];function w$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(r),!0).forEach(function(n){KHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KHe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YHe(e,t){if(e==null)return{};var r=XHe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function XHe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function JHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QHe(e,t,r){return t&&S$(e.prototype,t),r&&S$(e,r),e}function ZHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oq(e,t)}function Oq(e,t){return Oq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Oq(e,t)}function e$e(e){var t=n$e();return function(){var n=Cm(e),a;if(t){var i=Cm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return t$e(this,a)}}function t$e(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r$e(e)}function r$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}var Dm=(te(),re(ne));function Pq(){return Pq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pq.apply(this,arguments)}var i$e={position:"relative",width:"100%",minHeight:"100%"},a$e={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},o$e=function(e){ZHe(r,e);var t=e$e(r);function r(n){var a;return JHe(this,r),a=t.call(this,n),a.handleScroll=function(){a.setState({offset:a.base.scrollTop})},a.handleResize=function(){a.resize()},a.focusElement=null,a.state={offset:0,height:0},a}return QHe(r,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){var a=this.state.height;a!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(a){var i=a.data,o=a.rowHeight,u=a.renderRow,s=a.overscanCount,l=s===void 0?10:s,c=YHe(a,GHe),f=this.state,p=f.offset,d=f.height,v=Math.floor(p/o),m=Math.floor(d/o);l&&(v=Math.max(0,v-v%l),m+=l);var g=v+m+4,w=i.slice(v,g),b=xm(xm({},i$e),{},{height:i.length*o}),O=xm(xm({},a$e),{},{top:v*o});return(0,Dm.h)("div",Pq({onScroll:this.handleScroll},c),(0,Dm.h)("div",{role:"presentation",style:b},(0,Dm.h)("div",{role:"presentation",style:O},w.map(u))))}}]),r}(Dm.Component);O$.exports=o$e});var q$=h(function(yvt,R$){"use strict";var Rq=(te(),re(ne));function qq(){return qq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qq.apply(this,arguments)}var u$e=Cr(),s$e=_$(),l$e=P$();function c$e(e,t){var r=[],n=[];return e.forEach(function(a){n.length<t?n.push(a):(r.push(n),n=[a])}),n.length&&r.push(n),r}R$.exports=function(e){var t=e.totalFileCount===0,r=u$e("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":t}),n=e.itemsPerRow===1?71:200,a={id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,acquirers:e.acquirers,resumableUploads:e.resumableUploads,individualCancellation:e.individualCancellation,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,recoveredState:e.recoveredState,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail},i=function(c,f){return e.files[f].isGhost-e.files[c].isGhost},o=Object.keys(e.files);e.recoveredState&&o.sort(i);var u=c$e(o,e.itemsPerRow),s=function(c){return(0,Rq.h)("div",{role:"presentation",key:c[0]},c.map(function(f){return(0,Rq.h)(s$e,qq({key:f,uppy:e.uppy},a,{role:"listitem",openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,file:e.files[f]}))}))};return(0,Rq.h)(l$e,{class:r,role:"list",data:u,renderRow:s,rowHeight:n})}});var Aq=h(function(mvt,A$){"use strict";function jm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jm=function(r){return typeof r}:jm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jm(e)}function f$e(e){return v$e(e)||h$e(e)||d$e(e)||p$e()}function p$e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d$e(e,t){if(!!e){if(typeof e=="string")return Eq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eq(e,t)}}function h$e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v$e(e){if(Array.isArray(e))return Eq(e)}function Eq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m$e(e,t,r){return t&&E$(e.prototype,t),r&&E$(e,r),e}function g$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tq(e,t)}function Tq(e,t){return Tq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Tq(e,t)}function b$e(e){var t=S$e();return function(){var n=Um(e),a;if(t){var i=Um(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _$e(this,a)}}function _$e(e,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w$e(e)}function w$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(e)}var tt=(te(),re(ne)),T$;T$=Symbol.for("uppy test: disable unused locale key warning");var O$e=function(e,t){g$e(n,e);var r=b$e(n);function n(){var a;return y$e(this,n),a=r.apply(this,arguments),a.triggerFileInputClick=function(){a.fileInput.click()},a.triggerFolderInputClick=function(){a.folderInput.click()},a.onFileInputChange=function(i){a.props.handleInputChange(i),i.target.value=null},a.renderHiddenInput=function(i,o){return(0,tt.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:i,type:"file",name:"files[]",multiple:a.props.maxNumberOfFiles!==1,onChange:a.onFileInputChange,accept:a.props.allowedFileTypes,ref:o})},a.renderMyDeviceAcquirer=function(){return(0,tt.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,tt.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:a.triggerFileInputClick},(0,tt.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,tt.h)("g",{fill:"none",fillRule:"evenodd"},(0,tt.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),(0,tt.h)("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),(0,tt.h)("div",{className:"uppy-DashboardTab-name"},a.props.i18n("myDevice"))))},a.renderBrowseButton=function(i,o){var u=a.props.acquirers.length;return(0,tt.h)("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:o,"data-uppy-super-focusable":u===0},i)},a.renderDropPasteBrowseTagline=function(){var i=a.props.acquirers.length,o=a.renderBrowseButton(a.props.i18n("browseFiles"),a.triggerFileInputClick),u=a.renderBrowseButton(a.props.i18n("browseFolders"),a.triggerFolderInputClick),s=a.props.fileManagerSelectionType,l=s.charAt(0).toUpperCase()+s.slice(1);return(0,tt.h)("div",{class:"uppy-Dashboard-AddFiles-title"},a.props.disableLocalFiles?a.props.i18n("importFiles"):i>0?a.props.i18nArray("dropPasteImport".concat(l),{browseFiles:o,browseFolders:u,browse:o}):a.props.i18nArray("dropPaste".concat(l),{browseFiles:o,browseFolders:u,browse:o}))},a.renderAcquirer=function(i){return(0,tt.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":i.id},(0,tt.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":i.id,"aria-controls":"uppy-DashboardContent-panel--".concat(i.id),"aria-selected":a.props.activePickerPanel.id===i.id,"data-uppy-super-focusable":!0,onClick:function(){return a.props.showPanel(i.id)}},i.icon(),(0,tt.h)("div",{className:"uppy-DashboardTab-name"},i.name)))},a.renderAcquirers=function(i,o){var u=f$e(i),s=u.splice(i.length-2,i.length);return(0,tt.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!o&&a.renderMyDeviceAcquirer(),u.map(function(l){return a.renderAcquirer(l)}),(0,tt.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},s.map(function(l){return a.renderAcquirer(l)})))},a}return m$e(n,[{key:t,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var i=this.props.i18nArray,o=(0,tt.h)("span",null,(0,tt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,tt.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,tt.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),u=i("poweredBy",{uppy:o});return(0,tt.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},u)}},{key:"render",value:function(){var i=this;return(0,tt.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(o){i.fileInput=o}),this.renderHiddenInput(!0,function(o){i.folderInput=o}),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),(0,tt.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,tt.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}]),n}(tt.Component,T$);A$.exports=O$e});var I$=h(function(gvt,k$){"use strict";var dp=(te(),re(ne)),P$e=Cr(),R$e=Aq(),q$e=function(t){return(0,dp.h)("div",{className:P$e("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":t.showAddFilesPanel},(0,dp.h)("div",{className:"uppy-DashboardContent-bar"},(0,dp.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18n("addingMoreFiles")),(0,dp.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return t.toggleAddFilesPanel(!1)}},t.i18n("back"))),(0,dp.h)(R$e,t))};k$.exports=q$e});var kq=h(function(bvt,F$){"use strict";function E$e(e){var t=e.target.tagName;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}F$.exports=E$e});var C$=h(function(_vt,x$){"use strict";var hp=(te(),re(ne)),T$e=Cr(),Mm=kq();function A$e(e){var t=e.activePickerPanel,r=e.className,n=e.hideAllPanels,a=e.i18n,i=e.state,o=e.uppy;return(0,hp.h)("div",{className:T$e("uppy-DashboardContent-panel",r),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.id),onDragOver:Mm,onDragLeave:Mm,onDrop:Mm,onPaste:Mm},(0,hp.h)("div",{className:"uppy-DashboardContent-bar"},(0,hp.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},a("importFrom",{name:t.name})),(0,hp.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},a("cancel"))),(0,hp.h)("div",{className:"uppy-DashboardContent-panelBody"},o.getPlugin(t.id).render(i)))}x$.exports=A$e});var j$=h(function(wvt,D$){"use strict";var nu=(te(),re(ne)),k$e=Cr();function I$e(e){var t=e.files[e.fileCardFor];return(0,nu.h)("div",{className:k$e("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,nu.h)("div",{className:"uppy-DashboardContent-bar"},(0,nu.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:(0,nu.h)("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),(0,nu.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:e.hideAllPanels},e.i18n("cancel")),(0,nu.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),(0,nu.h)("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map(function(r){return e.uppy.getPlugin(r.id).render(e.state)})))}D$.exports=I$e});var M$=h(function(Svt,U$){"use strict";var ai=(te(),re(ne)),oi={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function F$e(e,t,r,n){if(n===void 0&&(n={}),e)return oi.STATE_ERROR;if(t)return oi.STATE_COMPLETE;if(r)return oi.STATE_PAUSED;for(var a=oi.STATE_WAITING,i=Object.keys(n),o=0;o<i.length;o++){var u=n[i[o]].progress;if(u.uploadStarted&&!u.uploadComplete)return oi.STATE_UPLOADING;u.preprocess&&a!==oi.STATE_UPLOADING&&(a=oi.STATE_PREPROCESSING),u.postprocess&&a!==oi.STATE_UPLOADING&&a!==oi.STATE_PREPROCESSING&&(a=oi.STATE_POSTPROCESSING)}return a}function x$e(e){var t=e.files,r=e.i18n,n=e.isAllComplete,a=e.isAllErrored,i=e.isAllPaused,o=e.inProgressNotPausedFiles,u=e.newFiles,s=e.processingFiles,l=F$e(a,n,i,t);switch(l){case"uploading":return r("uploadingXFiles",{smart_count:o.length});case"preprocessing":case"postprocessing":return r("processingXFiles",{smart_count:s.length});case"paused":return r("uploadPaused");case"waiting":return r("xFilesSelected",{smart_count:u.length});case"complete":return r("uploadComplete");default:}}function C$e(e){var t=e.i18n,r=e.isAllComplete,n=e.hideCancelButton,a=e.maxNumberOfFiles,i=e.toggleAddFilesPanel,o=e.uppy,u=e.allowNewUpload;return u&&a&&(u=e.totalFileCount<e.maxNumberOfFiles),(0,ai.h)("div",{className:"uppy-DashboardContent-bar"},!r&&!n?(0,ai.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return o.cancelAll()}},t("cancel")):(0,ai.h)("div",null),(0,ai.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,ai.h)(x$e,e)),u?(0,ai.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:function(){return i(!0)}},(0,ai.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,ai.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,ai.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):(0,ai.h)("div",null))}U$.exports=C$e});var $$=h(function(Ovt,H$){"use strict";function Nm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nm=function(r){return typeof r}:Nm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nm(e)}function N$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(r),!0).forEach(function(n){L$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j$e(e,t,r){return t&&z$(e.prototype,t),r&&z$(e,r),e}function U$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iq(e,t)}function Iq(e,t){return Iq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Iq(e,t)}function M$e(e){var t=L$e();return function(){var n=Bm(e),a;if(t){var i=Bm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return N$e(this,a)}}function N$e(e,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B$e(e)}function B$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(e)}var xt=(te(),re(ne)),z$e=Vo(),H$e=Cr(),$$e=Tm(),Lm=kq(),W$e=mq(),V$e=function(e){U$e(r,e);var t=M$e(r);function r(n){var a;D$e(this,r),a=t.call(this,n),a.form=document.createElement("form"),a.updateMeta=function(s,l){a.setState(function(c){var f=c.formState;return{formState:B$(B$({},f),{},L$({},l,s))}})},a.handleSave=function(s){s.preventDefault();var l=a.props.fileCardFor;a.props.saveFileCard(a.state.formState,l)},a.handleCancel=function(){a.props.toggleFileCard(!1)},a.saveOnEnter=function(s){if(s.keyCode===13){s.stopPropagation(),s.preventDefault();var l=a.props.files[a.props.fileCardFor];a.props.saveFileCard(a.state.formState,l.id)}},a.renderMetaFields=function(){var s=a.getMetaFields()||[],l={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return s.map(function(c){var f="uppy-Dashboard-FileCard-input-".concat(c.id),p=a.props.requiredMetaFields.includes(c.id);return(0,xt.h)("fieldset",{key:c.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,xt.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:f},c.name),c.render!==void 0?c.render({value:a.state.formState[c.id],onChange:function(v){return a.updateMeta(v,c.id)},fieldCSSClasses:l,required:p,form:a.form.id},xt.h):(0,xt.h)("input",{className:l.text,id:f,form:a.form.id,type:c.type||"text",required:p,value:a.state.formState[c.id],placeholder:c.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onInput:function(v){return a.updateMeta(v.target.value,c.id)},"data-uppy-super-focusable":!0}))})};var i=a.props.files[a.props.fileCardFor],o=a.getMetaFields()||[],u={};return o.forEach(function(s){u[s.id]=i.meta[s.id]||""}),a.state={formState:u},a.form.id=(0,z$e.nanoid)(),a}return j$e(r,[{key:"componentWillMount",value:function(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}},{key:"componentWillUnmount",value:function(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}},{key:"getMetaFields",value:function(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}},{key:"render",value:function(){var a=this,i=this.props.files[this.props.fileCardFor],o=this.props.canEditFile(i);return(0,xt.h)("div",{className:H$e("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:Lm,onDragLeave:Lm,onDrop:Lm,onPaste:Lm},(0,xt.h)("div",{className:"uppy-DashboardContent-bar"},(0,xt.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:(0,xt.h)("span",{className:"uppy-DashboardContent-titleFile"},i.meta?i.meta.name:i.name)})),(0,xt.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),(0,xt.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,xt.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:$$e(i.type).color}},(0,xt.h)(W$e,{file:i}),o&&(0,xt.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(s){a.handleSave(s),a.props.openFileEditor(i)},form:this.form.id},this.props.i18n("editFile"))),(0,xt.h)("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),(0,xt.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,xt.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),(0,xt.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}]),r}(xt.Component);H$.exports=V$e});var K$=h(function(Pvt,G$){"use strict";function zm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zm=function(r){return typeof r}:zm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zm(e)}function G$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K$e(e,t,r){return t&&W$(e.prototype,t),r&&W$(e,r),e}function Y$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fq(e,t)}function Fq(e,t){return Fq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Fq(e,t)}function X$e(e){var t=Z$e();return function(){var n=Hm(e),a;if(t){var i=Hm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return J$e(this,a)}}function J$e(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q$e(e)}function Q$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}var xq=(te(),re(ne)),eWe=Cr(),Qs="uppy-transition-slideDownUp",V$=250,tWe=function(e){Y$e(r,e);var t=X$e(r);function r(n){var a;return G$e(this,r),a=t.call(this,n),a.state={cachedChildren:null,className:""},a}return K$e(r,[{key:"componentWillUpdate",value:function(a){var i=this,o=this.state.cachedChildren,u=(0,xq.toChildArray)(a.children)[0];if(o===u)return null;var s={cachedChildren:u};u&&!o&&(s.className="".concat(Qs,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){i.setState({className:"".concat(Qs,"-enter ").concat(Qs,"-enter-active")}),i.enterTimeout=setTimeout(function(){i.setState({className:""})},V$)})),o&&!u&&this.leaveTimeout===void 0&&(s.cachedChildren=o,s.className="".concat(Qs,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){i.setState({className:"".concat(Qs,"-leave ").concat(Qs,"-leave-active")}),i.leaveTimeout=setTimeout(function(){i.setState({cachedChildren:null,className:""})},V$)})),this.setState(s)}},{key:"render",value:function(){var a=this.state,i=a.cachedChildren,o=a.className;return i?(0,xq.cloneElement)(i,{className:eWe(o,i.props.className)}):null}}]),r}(xq.Component);G$.exports=tWe});var Q$=h(function(Rvt,J$){"use strict";var We=(te(),re(ne));function Xa(){return Xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(this,arguments)}var rWe=Cr(),nWe=yq(),iWe=q$(),aWe=Aq(),oWe=I$(),uWe=C$(),sWe=j$(),lWe=M$(),cWe=$$(),$m=K$(),Y$=900,X$=700,Cq=576,fWe=400;function pWe(e){var t=e.totalFileCount===0,r=e.containerWidth>Cq,n=rWe({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>Cq,"uppy-size--lg":e.containerWidth>X$,"uppy-size--xl":e.containerWidth>Y$,"uppy-size--height-md":e.containerHeight>fWe,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible}),a=1;e.containerWidth>Y$?a=5:e.containerWidth>X$?a=4:e.containerWidth>Cq&&(a=3);var i=e.showSelectedFiles&&!t,o=e.recoveredState?Object.keys(e.recoveredState.files).length:null,u=e.files?Object.keys(e.files).filter(function(c){return e.files[c].isGhost}).length:null,s=function(){return u>0?e.i18n("recoveredXFiles",{smart_count:u}):e.i18n("recoveredAllFiles")},l=(0,We.h)("div",{className:n,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&nWe(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},(0,We.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),(0,We.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:(0,We.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},(0,We.h)("span",{"aria-hidden":"true"},"\xD7")),(0,We.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,We.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),i&&(0,We.h)(lWe,e),o&&(0,We.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,We.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,We.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,We.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,We.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,We.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,We.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),(0,We.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},s())),i?(0,We.h)(iWe,Xa({},e,{itemsPerRow:a})):(0,We.h)(aWe,Xa({},e,{isSizeMD:r})),(0,We.h)($m,null,e.showAddFilesPanel?(0,We.h)(oWe,Xa({key:"AddFiles"},e,{isSizeMD:r})):null),(0,We.h)($m,null,e.fileCardFor?(0,We.h)(cWe,Xa({key:"FileCard"},e)):null),(0,We.h)($m,null,e.activePickerPanel?(0,We.h)(uWe,Xa({key:"Picker"},e)):null),(0,We.h)($m,null,e.showFileEditor?(0,We.h)(sWe,Xa({key:"Editor"},e)):null),(0,We.h)("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map(function(c){return e.uppy.getPlugin(c.id).render(e.state)})))));return l}J$.exports=pWe});var eW=h(function(qvt,Z$){"use strict";Z$.exports={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."}}}});var pW=h(function(Evt,fW){"use strict";function Wm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wm=function(r){return typeof r}:Wm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wm(e)}function tW(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function dWe(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){tW(i,n,a,o,u,"next",s)}function u(s){tW(i,n,a,o,u,"throw",s)}o(void 0)})}}function rW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rW(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dq(e,t)}function Dq(e,t){return Dq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Dq(e,t)}function yWe(e){var t=gWe();return function(){var n=Vm(e),a;if(t){var i=Vm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return mWe(this,a)}}function mWe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}function rt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(e)}var iW=(te(),re(ne)),bWe=Xe(),_We=Vo(),aW=V7();function an(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var wWe=0;function Zs(e){return"__private_"+wWe+++"_"+e}var SWe=LR(),OWe=VR(),PWe=pq(),oW=kH(),jq=In(),RWe=Em(),uW=$H(),qWe=em(),EWe=XH(),TWe=Q$(),AWe={version:"2.3.0"},kWe=eW(),Uq=uW.default||uW,sW=9,IWe=27;function lW(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}function FWe(){return(0,iW.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,iW.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var vp=Zs("openFileEditorWhenFilesAdded"),iu=Zs("attachRenderFunctionToTarget"),Mq=Zs("isTargetSupported"),Nq=Zs("getAcquirers"),Bq=Zs("getProgressIndicators"),Xi=Zs("getEditors"),cW=function(e){vWe(r,e);var t=yWe(r);function r(n,a){var i;hWe(this,r);var o;i=t.call(this,n,a),o=rt(i),i.removeTarget=function(s){var l=i.getPluginState(),c=l.targets.filter(function(f){return f.id!==s.id});i.setPluginState({targets:c})},i.addTarget=function(s){var l=s.id||s.constructor.name,c=s.title||l,f=s.type;if(f!=="acquirer"&&f!=="progressindicator"&&f!=="editor"){var p="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";i.uppy.log(p,"error");return}var d={id:l,name:c,type:f},v=i.getPluginState(),m=v.targets.slice();return m.push(d),i.setPluginState({targets:m}),i.el},i.hideAllPanels=function(){var s=i.getPluginState(),l={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===l.activePickerPanel&&s.showAddFilesPanel===l.showAddFilesPanel&&s.showFileEditor===l.showFileEditor&&s.activeOverlayType===l.activeOverlayType||i.setPluginState(l)},i.showPanel=function(s){var l=i.getPluginState(),c=l.targets,f=c.filter(function(p){return p.type==="acquirer"&&p.id===s})[0];i.setPluginState({activePickerPanel:f,activeOverlayType:"PickerPanel"})},i.canEditFile=function(s){var l=i.getPluginState(),c=l.targets,f=an(rt(i),Xi)[Xi](c);return f.some(function(p){return i.uppy.getPlugin(p.id).canEditFile(s)})},i.openFileEditor=function(s){var l=i.getPluginState(),c=l.targets,f=an(rt(i),Xi)[Xi](c);i.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),f.forEach(function(p){i.uppy.getPlugin(p.id).selectFile(s)})},i.saveFileEditor=function(){var s=i.getPluginState(),l=s.targets,c=an(rt(i),Xi)[Xi](l);c.forEach(function(f){i.uppy.getPlugin(f.id).save()}),i.hideAllPanels()},i.openModal=function(){var s=lW(),l=s.promise,c=s.resolve;if(i.savedScrollPosition=window.pageYOffset,i.savedActiveElement=document.activeElement,i.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),i.opts.animateOpenClose&&i.getPluginState().isClosing){var f=function p(){i.setPluginState({isHidden:!1}),i.el.removeEventListener("animationend",p,!1),c()};i.el.addEventListener("animationend",f,!1)}else i.setPluginState({isHidden:!1}),c();return i.opts.browserBackButtonClose&&i.updateBrowserHistory(),document.addEventListener("keydown",i.handleKeyDownInModal),i.uppy.emit("dashboard:modal-open"),l},i.closeModal=function(s){s===void 0&&(s={});var l=s,c=l.manualClose,f=c===void 0?!0:c,p=o.getPluginState(),d=p.isHidden,v=p.isClosing;if(!(d||v)){var m=lW(),g=m.promise,w=m.resolve;if(o.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),o.opts.animateOpenClose){o.setPluginState({isClosing:!0});var b=function T(){o.setPluginState({isHidden:!0,isClosing:!1}),o.superFocus.cancel(),o.savedActiveElement.focus(),o.el.removeEventListener("animationend",T,!1),w()};o.el.addEventListener("animationend",b,!1)}else o.setPluginState({isHidden:!0}),o.superFocus.cancel(),o.savedActiveElement.focus(),w();if(document.removeEventListener("keydown",o.handleKeyDownInModal),f&&o.opts.browserBackButtonClose){var O;(O=history.state)!=null&&O[o.modalName]&&history.back()}return o.uppy.emit("dashboard:modal-closed"),g}},i.isModalOpen=function(){return!i.getPluginState().isHidden||!1},i.requestCloseModal=function(){return i.opts.onRequestCloseModal?i.opts.onRequestCloseModal():i.closeModal()},i.setDarkModeCapability=function(s){var l=i.uppy.getState(),c=l.capabilities;i.uppy.setState({capabilities:Ja(Ja({},c),{},{darkMode:s})})},i.handleSystemDarkModeChange=function(s){var l=s.matches;i.uppy.log("[Dashboard] Dark mode is ".concat(l?"on":"off")),i.setDarkModeCapability(l)},i.toggleFileCard=function(s,l){var c=i.uppy.getFile(l);s?i.uppy.emit("dashboard:file-edit-start",c):i.uppy.emit("dashboard:file-edit-complete",c),i.setPluginState({fileCardFor:s?l:null,activeOverlayType:s?"FileCard":null})},i.toggleAddFilesPanel=function(s){i.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})},i.addFiles=function(s){var l=s.map(function(c){return{source:i.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||c.webkitRelativePath||null}}});try{i.uppy.addFiles(l)}catch(c){i.uppy.log(c)}},i.startListeningToResize=function(){i.resizeObserver=new ResizeObserver(function(s){var l=s[0],c=l.contentRect,f=c.width,p=c.height;i.uppy.log("[Dashboard] resized: ".concat(f," / ").concat(p),"debug"),i.setPluginState({containerWidth:f,containerHeight:p,areInsidesReadyToBeVisible:!0})}),i.resizeObserver.observe(i.el.querySelector(".uppy-Dashboard-inner")),i.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var s=i.getPluginState(),l=!i.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!l&&(i.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),i.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},i.stopListeningToResize=function(){i.resizeObserver.disconnect(),clearTimeout(i.makeDashboardInsidesVisibleAnywayTimeout)},i.recordIfFocusedOnUppyRecently=function(s){i.el.contains(s.target)?i.ifFocusedOnUppyRecently=!0:(i.ifFocusedOnUppyRecently=!1,i.superFocus.cancel())},i.disableAllFocusableElements=function(s){var l=jq(i.el.querySelectorAll(qWe));s?l.forEach(function(c){var f=c.getAttribute("tabindex");f&&(c.dataset.inertTabindex=f),c.setAttribute("tabindex","-1")}):l.forEach(function(c){"inertTabindex"in c.dataset?c.setAttribute("tabindex",c.dataset.inertTabindex):c.removeAttribute("tabindex")}),i.dashboardIsDisabled=s},i.updateBrowserHistory=function(){var s;(s=history.state)!=null&&s[i.modalName]||history.pushState(Ja(Ja({},history.state),{},nW({},i.modalName,!0)),""),window.addEventListener("popstate",i.handlePopState,!1)},i.handlePopState=function(s){var l;i.isModalOpen()&&(!s.state||!s.state[i.modalName])&&i.closeModal({manualClose:!1}),!i.isModalOpen()&&(l=s.state)!=null&&l[i.modalName]&&history.back()},i.handleKeyDownInModal=function(s){s.keyCode===IWe&&i.requestCloseModal(s),s.keyCode===sW&&aW.forModal(s,i.getPluginState().activeOverlayType,i.el)},i.handleClickOutside=function(){i.opts.closeModalOnClickOutside&&i.requestCloseModal()},i.handlePaste=function(s){i.uppy.iteratePlugins(function(c){c.type==="acquirer"&&(c.handleRootPaste==null||c.handleRootPaste(s))});var l=jq(s.clipboardData.files);l.length>0&&(i.uppy.log("[Dashboard] Files pasted"),i.addFiles(l))},i.handleInputChange=function(s){s.preventDefault();var l=jq(s.target.files);l.length>0&&(i.uppy.log("[Dashboard] Files selected through input"),i.addFiles(l))},i.handleDragOver=function(s){var l,c;s.preventDefault(),s.stopPropagation();var f=function(){var g=!0;return i.uppy.iteratePlugins(function(w){w.canHandleRootDrop!=null&&w.canHandleRootDrop(s)&&(g=!0)}),g},p=function(){var g=s.dataTransfer.types;return g.some(function(w){return w==="Files"})},d=f(s),v=p(s);if(!d&&!v||i.opts.disabled||i.opts.disableLocalFiles&&(v||!d)||!i.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none",clearTimeout(i.removeDragOverClassTimeout);return}s.dataTransfer.dropEffect="copy",clearTimeout(i.removeDragOverClassTimeout),i.setPluginState({isDraggingOver:!0}),(l=(c=i.opts).onDragOver)==null||l.call(c,s)},i.handleDragLeave=function(s){var l,c;s.preventDefault(),s.stopPropagation(),clearTimeout(i.removeDragOverClassTimeout),i.removeDragOverClassTimeout=setTimeout(function(){i.setPluginState({isDraggingOver:!1})},50),(l=(c=i.opts).onDragLeave)==null||l.call(c,s)},i.handleDrop=function(){var s=dWe(regeneratorRuntime.mark(function l(c){var f,p,d,v,m;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return c.preventDefault(),c.stopPropagation(),clearTimeout(i.removeDragOverClassTimeout),i.setPluginState({isDraggingOver:!1}),i.uppy.iteratePlugins(function(b){b.type==="acquirer"&&(b.handleRootDrop==null||b.handleRootDrop(c))}),d=!1,v=function(O){i.uppy.log(O,"error"),d||(i.uppy.info(O.message,"error"),d=!0)},w.next=9,RWe(c.dataTransfer,{logDropError:v});case 9:m=w.sent,m.length>0&&(i.uppy.log("[Dashboard] Files dropped"),i.addFiles(m)),(f=(p=i.opts).onDrop)==null||f.call(p,c);case 12:case"end":return w.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),i.handleRequestThumbnail=function(s){i.opts.waitForThumbnailsBeforeUpload||i.uppy.emit("thumbnail:request",s)},i.handleCancelThumbnail=function(s){i.opts.waitForThumbnailsBeforeUpload||i.uppy.emit("thumbnail:cancel",s)},i.handleKeyDownInInline=function(s){s.keyCode===sW&&aW.forInline(s,i.getPluginState().activeOverlayType,i.el)},i.handlePasteOnBody=function(s){var l=i.el.contains(document.activeElement);l&&i.handlePaste(s)},i.handleComplete=function(s){var l=s.failed;i.opts.closeAfterFinish&&l.length===0&&i.requestCloseModal()},i.handleCancelRestore=function(){i.uppy.emit("restore-canceled")},Object.defineProperty(rt(i),vp,{writable:!0,value:function(l){var c=l[0];i.canEditFile(c)&&i.openFileEditor(c)}}),i.initEvents=function(){if(i.opts.trigger&&!i.opts.inline){var s=oW(i.opts.trigger);s?s.forEach(function(l){return l.addEventListener("click",i.openModal)}):i.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}i.startListeningToResize(),document.addEventListener("paste",i.handlePasteOnBody),i.uppy.on("plugin-remove",i.removeTarget),i.uppy.on("file-added",i.hideAllPanels),i.uppy.on("dashboard:modal-closed",i.hideAllPanels),i.uppy.on("file-editor:complete",i.hideAllPanels),i.uppy.on("complete",i.handleComplete),document.addEventListener("focus",i.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",i.recordIfFocusedOnUppyRecently,!0),i.opts.inline&&i.el.addEventListener("keydown",i.handleKeyDownInInline),i.opts.autoOpenFileEditor&&i.uppy.on("files-added",an(rt(i),vp)[vp])},i.removeEvents=function(){var s=oW(i.opts.trigger);!i.opts.inline&&s&&s.forEach(function(l){return l.removeEventListener("click",i.openModal)}),i.stopListeningToResize(),document.removeEventListener("paste",i.handlePasteOnBody),window.removeEventListener("popstate",i.handlePopState,!1),i.uppy.off("plugin-remove",i.removeTarget),i.uppy.off("file-added",i.hideAllPanels),i.uppy.off("dashboard:modal-closed",i.hideAllPanels),i.uppy.off("file-editor:complete",i.hideAllPanels),i.uppy.off("complete",i.handleComplete),document.removeEventListener("focus",i.recordIfFocusedOnUppyRecently),document.removeEventListener("click",i.recordIfFocusedOnUppyRecently),i.opts.inline&&i.el.removeEventListener("keydown",i.handleKeyDownInInline),i.opts.autoOpenFileEditor&&i.uppy.off("files-added",an(rt(i),vp)[vp])},i.superFocusOnEachUpdate=function(){var s=i.el.contains(document.activeElement),l=document.activeElement===document.body||document.activeElement===null,c=i.uppy.getState().info.length===0,f=!i.opts.inline;c&&(f||s||l&&i.ifFocusedOnUppyRecently)?i.superFocus(i.el,i.getPluginState().activeOverlayType):i.superFocus.cancel()},i.afterUpdate=function(){if(i.opts.disabled&&!i.dashboardIsDisabled){i.disableAllFocusableElements(!0);return}!i.opts.disabled&&i.dashboardIsDisabled&&i.disableAllFocusableElements(!1),i.superFocusOnEachUpdate()},i.saveFileCard=function(s,l){i.uppy.setFileMeta(l,s),i.toggleFileCard(!1,l)},Object.defineProperty(rt(i),iu,{writable:!0,value:function(l){var c=i.uppy.getPlugin(l.id);return Ja(Ja({},l),{},{icon:c.icon||i.opts.defaultPickerIcon,render:c.render})}}),Object.defineProperty(rt(i),Mq,{writable:!0,value:function(l){var c=i.uppy.getPlugin(l.id);return typeof c.isSupported!="function"?!0:c.isSupported()}}),Object.defineProperty(rt(i),Nq,{writable:!0,value:Uq(function(s){return s.filter(function(l){return l.type==="acquirer"&&an(rt(i),Mq)[Mq](l)}).map(an(rt(i),iu)[iu])})}),Object.defineProperty(rt(i),Bq,{writable:!0,value:Uq(function(s){return s.filter(function(l){return l.type==="progressindicator"}).map(an(rt(i),iu)[iu])})}),Object.defineProperty(rt(i),Xi,{writable:!0,value:Uq(function(s){return s.filter(function(l){return l.type==="editor"}).map(an(rt(i),iu)[iu])})}),i.render=function(s){var l=i.getPluginState(),c=s.files,f=s.capabilities,p=s.allowNewUpload,d=i.uppy.getObjectOfFilesPerState(),v=d.newFiles,m=d.uploadStartedFiles,g=d.completeFiles,w=d.erroredFiles,b=d.inProgressFiles,O=d.inProgressNotPausedFiles,T=d.processingFiles,x=d.isUploadStarted,D=d.isAllComplete,N=d.isAllErrored,G=d.isAllPaused,q=an(rt(i),Nq)[Nq](l.targets),U=an(rt(i),Bq)[Bq](l.targets),Q=an(rt(i),Xi)[Xi](l.targets),X;return i.opts.theme==="auto"?X=f.darkMode?"dark":"light":X=i.opts.theme,["files","folders","both"].indexOf(i.opts.fileManagerSelectionType)<0&&(i.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(i.opts.fileManagerSelectionType,'".'))),TWe({state:s,isHidden:l.isHidden,files:c,newFiles:v,uploadStartedFiles:m,completeFiles:g,erroredFiles:w,inProgressFiles:b,inProgressNotPausedFiles:O,processingFiles:T,isUploadStarted:x,isAllComplete:D,isAllErrored:N,isAllPaused:G,totalFileCount:Object.keys(c).length,totalProgress:s.totalProgress,allowNewUpload:p,acquirers:q,theme:X,disabled:i.opts.disabled,disableLocalFiles:i.opts.disableLocalFiles,direction:i.opts.direction,activePickerPanel:l.activePickerPanel,showFileEditor:l.showFileEditor,saveFileEditor:i.saveFileEditor,disableAllFocusableElements:i.disableAllFocusableElements,animateOpenClose:i.opts.animateOpenClose,isClosing:l.isClosing,progressindicators:U,editors:Q,autoProceed:i.uppy.opts.autoProceed,id:i.id,closeModal:i.requestCloseModal,handleClickOutside:i.handleClickOutside,handleInputChange:i.handleInputChange,handlePaste:i.handlePaste,inline:i.opts.inline,showPanel:i.showPanel,hideAllPanels:i.hideAllPanels,i18n:i.i18n,i18nArray:i.i18nArray,uppy:i.uppy,note:i.opts.note,recoveredState:s.recoveredState,metaFields:l.metaFields,resumableUploads:f.resumableUploads||!1,individualCancellation:f.individualCancellation,isMobileDevice:f.isMobileDevice,fileCardFor:l.fileCardFor,toggleFileCard:i.toggleFileCard,toggleAddFilesPanel:i.toggleAddFilesPanel,showAddFilesPanel:l.showAddFilesPanel,saveFileCard:i.saveFileCard,openFileEditor:i.openFileEditor,canEditFile:i.canEditFile,width:i.opts.width,height:i.opts.height,showLinkToFileUploadResult:i.opts.showLinkToFileUploadResult,fileManagerSelectionType:i.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:i.opts.proudlyDisplayPoweredByUppy,hideCancelButton:i.opts.hideCancelButton,hideRetryButton:i.opts.hideRetryButton,hidePauseResumeButton:i.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:i.opts.showRemoveButtonAfterComplete,containerWidth:l.containerWidth,containerHeight:l.containerHeight,areInsidesReadyToBeVisible:l.areInsidesReadyToBeVisible,isTargetDOMEl:i.isTargetDOMEl,parentElement:i.el,allowedFileTypes:i.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:i.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:i.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:i.opts.showSelectedFiles,handleCancelRestore:i.handleCancelRestore,handleRequestThumbnail:i.handleRequestThumbnail,handleCancelThumbnail:i.handleCancelThumbnail,isDraggingOver:l.isDraggingOver,handleDragOver:i.handleDragOver,handleDragLeave:i.handleDragLeave,handleDrop:i.handleDrop})},i.discoverProviderPlugins=function(){i.uppy.iteratePlugins(function(s){s&&!s.target&&s.opts&&s.opts.target===i.constructor&&i.addTarget(s)})},i.install=function(){i.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:i.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var s=i.opts,l=s.inline,c=s.closeAfterFinish;if(l&&c)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var f=i.uppy.opts,p=f.allowMultipleUploads,d=f.allowMultipleUploadBatches;(p||d)&&c&&i.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var v=i.opts.target;v&&i.mount(v,rt(i));var m=i.opts.plugins||[];m.forEach(function(w){var b=i.uppy.getPlugin(w);b&&b.mount(rt(i),b)}),i.opts.disableStatusBar||i.uppy.use(SWe,{id:"".concat(i.id,":StatusBar"),target:rt(i),hideUploadButton:i.opts.hideUploadButton,hideRetryButton:i.opts.hideRetryButton,hidePauseResumeButton:i.opts.hidePauseResumeButton,hideCancelButton:i.opts.hideCancelButton,showProgressDetails:i.opts.showProgressDetails,hideAfterFinish:i.opts.hideProgressAfterFinish,locale:i.opts.locale,doneButtonHandler:i.opts.doneButtonHandler}),i.opts.disableInformer||i.uppy.use(OWe,{id:"".concat(i.id,":Informer"),target:rt(i)}),i.opts.disableThumbnailGenerator||i.uppy.use(PWe,{id:"".concat(i.id,":ThumbnailGenerator"),thumbnailWidth:i.opts.thumbnailWidth,thumbnailHeight:i.opts.thumbnailHeight,thumbnailType:i.opts.thumbnailType,waitForThumbnailsBeforeUpload:i.opts.waitForThumbnailsBeforeUpload,lazy:!i.opts.waitForThumbnailsBeforeUpload}),i.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var g=i.darkModeMediaQuery?i.darkModeMediaQuery.matches:!1;i.uppy.log("[Dashboard] Dark mode is ".concat(g?"on":"off")),i.setDarkModeCapability(g),i.opts.theme==="auto"&&i.darkModeMediaQuery.addListener(i.handleSystemDarkModeChange),i.discoverProviderPlugins(),i.initEvents()},i.uninstall=function(){if(!i.opts.disableInformer){var s=i.uppy.getPlugin("".concat(i.id,":Informer"));s&&i.uppy.removePlugin(s)}if(!i.opts.disableStatusBar){var l=i.uppy.getPlugin("".concat(i.id,":StatusBar"));l&&i.uppy.removePlugin(l)}if(!i.opts.disableThumbnailGenerator){var c=i.uppy.getPlugin("".concat(i.id,":ThumbnailGenerator"));c&&i.uppy.removePlugin(c)}var f=i.opts.plugins||[];f.forEach(function(p){var d=i.uppy.getPlugin(p);d&&d.unmount()}),i.opts.theme==="auto"&&i.darkModeMediaQuery.removeListener(i.handleSystemDarkModeChange),i.unmount(),i.removeEvents()},i.id=i.opts.id||"Dashboard",i.title="Dashboard",i.type="orchestrator",i.modalName="uppy-Dashboard-".concat((0,_We.nanoid)()),i.defaultLocale=kWe;var u={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:FWe,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){i.uppy.reset(),i.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return i.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return i.opts=Ja(Ja({},u),a),i.i18nInit(),i.superFocus=EWe(),i.ifFocusedOnUppyRecently=!1,i.makeDashboardInsidesVisibleAnywayTimeout=null,i.removeDragOverClassTimeout=null,i}return r}(bWe.UIPlugin);cW.VERSION=AWe.version;fW.exports=cW});var Lq=h(function(Tvt,dW){"use strict";dW.exports=pW()});var vW=h(function(Avt,hW){"use strict";hW.exports={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}}});var SW=h(function(kvt,wW){"use strict";function Gm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(r){return typeof r}:Gm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gm(e)}function yW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yW(Object(r),!0).forEach(function(n){xWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xWe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function CWe(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){gW(i,n,a,o,u,"next",s)}function u(s){gW(i,n,a,o,u,"throw",s)}o(void 0)})}}function DWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jWe(e,t,r){return t&&bW(e.prototype,t),r&&bW(e,r),e}function UWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zq(e,t)}function zq(e,t){return zq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},zq(e,t)}function MWe(e){var t=BWe();return function(){var n=Km(e),a;if(t){var i=Km(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return NWe(this,a)}}function NWe(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return au(e)}function au(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(e)}var LWe=Xe(),Qa=(te(),re(ne)),zWe=In(),HWe=yq(),$We=Em(),WWe={version:"2.1.1"},VWe=vW(),_W=function(e){UWe(r,e);var t=MWe(r);function r(n,a){var i;DWe(this,r),i=t.call(this,n,a),i.handleDrop=function(){var u=CWe(regeneratorRuntime.mark(function s(l){var c,f,p,d;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return l.preventDefault(),l.stopPropagation(),clearTimeout(i.removeDragOverClassTimeout),i.setPluginState({isDraggingOver:!1}),p=function(w){i.uppy.log(w,"error")},m.next=7,$We(l.dataTransfer,{logDropError:p});case 7:d=m.sent,d.length>0&&(i.uppy.log("[DragDrop] Files dropped"),i.addFiles(d)),(c=(f=i.opts).onDrop)==null||c.call(f,l);case 10:case"end":return m.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),i.type="acquirer",i.id=i.opts.id||"DragDrop",i.title="Drag & Drop",i.defaultLocale=VWe;var o={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};return i.opts=mW(mW({},o),a),i.i18nInit(),i.isDragDropSupported=HWe(),i.removeDragOverClassTimeout=null,i.onInputChange=i.onInputChange.bind(au(i)),i.handleDragOver=i.handleDragOver.bind(au(i)),i.handleDragLeave=i.handleDragLeave.bind(au(i)),i.handleDrop=i.handleDrop.bind(au(i)),i.addFiles=i.addFiles.bind(au(i)),i.render=i.render.bind(au(i)),i}return jWe(r,[{key:"addFiles",value:function(a){var i=this,o=a.map(function(u){return{source:i.id,name:u.name,type:u.type,data:u,meta:{relativePath:u.relativePath||null}}});try{this.uppy.addFiles(o)}catch(u){this.uppy.log(u)}}},{key:"onInputChange",value:function(a){var i=zWe(a.target.files);i.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(i)),a.target.value=null}},{key:"handleDragOver",value:function(a){var i,o;a.preventDefault(),a.stopPropagation();var u=a.dataTransfer.types,s=u.some(function(f){return f==="Files"}),l=this.uppy.getState(),c=l.allowNewUpload;if(!s||!c){a.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}a.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(i=(o=this.opts).onDragOver)==null||i.call(o,a)}},{key:"handleDragLeave",value:function(a){var i=this,o,u;a.preventDefault(),a.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){i.setPluginState({isDraggingOver:!1})},50),(o=(u=this.opts).onDragLeave)==null||o.call(u,a)}},{key:"renderHiddenFileInput",value:function(){var a=this,i=this.uppy.opts.restrictions;return(0,Qa.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(u){a.fileInputRef=u},name:this.opts.inputName,multiple:i.maxNumberOfFiles!==1,accept:i.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return(0,Qa.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,Qa.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return(0,Qa.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var a=this,i="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),o={width:this.opts.width,height:this.opts.height};return(0,Qa.h)("button",{type:"button",className:i,style:o,onClick:function(){return a.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,Qa.h)("div",{className:"uppy-DragDrop-inner"},r.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var a=this.opts.target;this.setPluginState({isDraggingOver:!1}),a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return(0,Qa.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,Qa.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}]),r}(LWe.UIPlugin);_W.VERSION=WWe.version;wW.exports=_W});var PW=h(function(Ivt,OW){"use strict";OW.exports=SW()});var IW=h(function(Fvt,kW){"use strict";function Ym(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ym=function(r){return typeof r}:Ym=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ym(e)}function RW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RW(Object(r),!0).forEach(function(n){GWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GWe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EW(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function KWe(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){EW(i,n,a,o,u,"next",s)}function u(s){EW(i,n,a,o,u,"throw",s)}o(void 0)})}}function YWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XWe(e,t,r){return t&&TW(e.prototype,t),r&&TW(e,r),e}function JWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hq(e,t)}function Hq(e,t){return Hq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Hq(e,t)}function QWe(e){var t=tVe();return function(){var n=Xm(e),a;if(t){var i=Xm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return ZWe(this,a)}}function ZWe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eVe(e)}function eVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(e)}var rVe=rn(),nVe=Em(),iVe=In(),aVe={version:"1.1.3"};function oVe(e){var t,r;return(t=(r=e.dataTransfer.types)==null?void 0:r.some(function(n){return n==="Files"}))!=null?t:!1}var AW=function(e){JWe(r,e);var t=QWe(r);function r(n,a){var i;YWe(this,r),i=t.call(this,n,a),i.addFiles=function(u){var s=u.map(function(l){return{source:i.id,name:l.name,type:l.type,data:l,meta:{relativePath:l.relativePath||null}}});try{i.uppy.addFiles(s)}catch(l){i.uppy.log(l)}},i.isFileTransfer=oVe,i.handleDrop=function(){var u=KWe(regeneratorRuntime.mark(function s(l){var c,f,p,d,v;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(i.isFileTransfer(l)){g.next=2;break}return g.abrupt("return");case 2:return l.preventDefault(),l.stopPropagation(),clearTimeout(i.removeDragOverClassTimeout),l.currentTarget.classList.remove("uppy-is-drag-over"),i.setPluginState({isDraggingOver:!1}),i.uppy.iteratePlugins(function(w){w.type==="acquirer"&&(w.handleRootDrop==null||w.handleRootDrop(l))}),p=!1,d=function(b){i.uppy.log(b,"error"),p||(i.uppy.info(b.message,"error"),p=!0)},g.next=12,nVe(l.dataTransfer,{logDropError:d});case 12:v=g.sent,v.length>0&&(i.uppy.log("[DropTarget] Files were dropped"),i.addFiles(v)),(c=(f=i.opts).onDrop)==null||c.call(f,l);case 15:case"end":return g.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),i.handleDragOver=function(u){var s,l;!i.isFileTransfer(u)||(u.preventDefault(),u.stopPropagation(),u.dataTransfer.dropEffect="copy",clearTimeout(i.removeDragOverClassTimeout),u.currentTarget.classList.add("uppy-is-drag-over"),i.setPluginState({isDraggingOver:!0}),(s=(l=i.opts).onDragOver)==null||s.call(l,u))},i.handleDragLeave=function(u){var s,l;if(!!i.isFileTransfer(u)){u.preventDefault(),u.stopPropagation();var c=u.currentTarget;clearTimeout(i.removeDragOverClassTimeout),i.removeDragOverClassTimeout=setTimeout(function(){c.classList.remove("uppy-is-drag-over"),i.setPluginState({isDraggingOver:!1})},50),(s=(l=i.opts).onDragLeave)==null||s.call(l,u)}},i.addListeners=function(){var u=i.opts.target;if(u instanceof Element?i.nodes=[u]:typeof u=="string"&&(i.nodes=iVe(document.querySelectorAll(u))),!i.nodes&&!i.nodes.length>0)throw new Error('"'.concat(u,'" does not match any HTML elements'));i.nodes.forEach(function(s){s.addEventListener("dragover",i.handleDragOver,!1),s.addEventListener("dragleave",i.handleDragLeave,!1),s.addEventListener("drop",i.handleDrop,!1)})},i.removeListeners=function(){i.nodes&&i.nodes.forEach(function(u){u.removeEventListener("dragover",i.handleDragOver,!1),u.removeEventListener("dragleave",i.handleDragLeave,!1),u.removeEventListener("drop",i.handleDrop,!1)})},i.type="acquirer",i.id=i.opts.id||"DropTarget",i.title="Drop Target";var o={target:null};return i.opts=qW(qW({},o),a),i.removeDragOverClassTimeout=null,i}return XWe(r,[{key:"install",value:function(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}},{key:"uninstall",value:function(){this.removeListeners()}}]),r}(rVe);AW.VERSION=aVe.version;kW.exports=AW});var xW=h(function(xvt,FW){"use strict";FW.exports={strings:{chooseFiles:"Choose files"}}});var NW=h(function(Cvt,MW){"use strict";function Jm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jm=function(r){return typeof r}:Jm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jm(e)}function CW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CW(Object(r),!0).forEach(function(n){uVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lVe(e,t,r){return t&&jW(e.prototype,t),r&&jW(e,r),e}function cVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$q(e,t)}function $q(e,t){return $q=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},$q(e,t)}function fVe(e){var t=dVe();return function(){var n=Zm(e),a;if(t){var i=Zm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return pVe(this,a)}}function pVe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qm(e)}function Qm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(e)}var hVe=Xe(),Wq=(te(),re(ne)),vVe=In(),yVe={version:"2.1.1"},mVe=xW(),UW=function(e){cVe(r,e);var t=fVe(r);function r(n,a){var i;sVe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"FileInput",i.title="File Input",i.type="acquirer",i.defaultLocale=mVe;var o={target:null,pretty:!0,inputName:"files[]"};return i.opts=DW(DW({},o),a),i.i18nInit(),i.render=i.render.bind(Qm(i)),i.handleInputChange=i.handleInputChange.bind(Qm(i)),i.handleClick=i.handleClick.bind(Qm(i)),i}return lVe(r,[{key:"addFiles",value:function(a){var i=this,o=a.map(function(u){return{source:i.id,name:u.name,type:u.type,data:u}});try{this.uppy.addFiles(o)}catch(u){this.uppy.log(u)}}},{key:"handleInputChange",value:function(a){this.uppy.log("[FileInput] Something selected through input...");var i=vVe(a.target.files);this.addFiles(i),a.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var a=this,i={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},o=this.uppy.opts.restrictions,u=o.allowedFileTypes?o.allowedFileTypes.join(","):null;return(0,Wq.h)("div",{className:"uppy-FileInput-container"},(0,Wq.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&i,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:o.maxNumberOfFiles!==1,accept:u,ref:function(l){a.input=l}}),this.opts.pretty&&(0,Wq.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(hVe.UIPlugin);UW.VERSION=yVe.version;MW.exports=UW});var LW=h(function(Dvt,BW){"use strict";BW.exports=NW()});var Gq=h(function(tg,Vq){function eg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eg=function(r){return typeof r}:eg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eg(e)}(function(e,t){(typeof tg=="undefined"?"undefined":eg(tg))==="object"&&typeof Vq!="undefined"?Vq.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self,e.Cropper=t())})(tg,function(){"use strict";function e(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(S){return typeof S}:e=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},e(R)}function t(R,y){if(!(R instanceof y))throw new TypeError("Cannot call a class as a function")}function r(R,y){for(var S=0;S<y.length;S++){var _=y[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(R,_.key,_)}}function n(R,y,S){return y&&r(R.prototype,y),S&&r(R,S),R}function a(R,y,S){return y in R?Object.defineProperty(R,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):R[y]=S,R}function i(R,y){var S=Object.keys(R);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(R);y&&(_=_.filter(function(I){return Object.getOwnPropertyDescriptor(R,I).enumerable})),S.push.apply(S,_)}return S}function o(R){for(var y=1;y<arguments.length;y++){var S=arguments[y]!=null?arguments[y]:{};y%2?i(Object(S),!0).forEach(function(_){a(R,_,S[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(S)):i(Object(S)).forEach(function(_){Object.defineProperty(R,_,Object.getOwnPropertyDescriptor(S,_))})}return R}function u(R){return s(R)||l(R)||c(R)||p()}function s(R){if(Array.isArray(R))return f(R)}function l(R){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(R))return Array.from(R)}function c(R,y){if(!!R){if(typeof R=="string")return f(R,y);var S=Object.prototype.toString.call(R).slice(8,-1);if(S==="Object"&&R.constructor&&(S=R.constructor.name),S==="Map"||S==="Set")return Array.from(R);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return f(R,y)}}function f(R,y){(y==null||y>R.length)&&(y=R.length);for(var S=0,_=new Array(y);S<y;S++)_[S]=R[S];return _}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d=typeof window!="undefined"&&typeof window.document!="undefined",v=d?window:{},m=d&&v.document.documentElement?"ontouchstart"in v.document.documentElement:!1,g=d?"PointerEvent"in v:!1,w="cropper",b="all",O="crop",T="move",x="zoom",D="e",N="w",G="s",q="n",U="ne",Q="nw",X="se",A="sw",k="".concat(w,"-crop"),z="".concat(w,"-disabled"),C="".concat(w,"-hidden"),j="".concat(w,"-hide"),L="".concat(w,"-invisible"),ee="".concat(w,"-modal"),ce="".concat(w,"-move"),ue="".concat(w,"Action"),je="".concat(w,"Preview"),He="crop",st="move",lt="none",Vt="crop",Rt="cropend",Gt="cropmove",Mu="cropstart",Nl="dblclick",Ed=m?"touchstart":"mousedown",qk=m?"touchmove":"mousemove",M0=m?"touchend touchcancel":"mouseup",Ek=g?"pointerdown":Ed,Tk=g?"pointermove":qk,Ak=g?"pointerup pointercancel":M0,kk="ready",Ik="resize",Fk="wheel",N0="zoom",xk="image/jpeg",bte=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,_te=/^data:/,wte=/^data:image\/jpeg;base64,/,Ste=/^img|canvas$/i,Ck={viewMode:0,dragMode:He,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Ote='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Pte=Number.isNaN||v.isNaN;function Pe(R){return typeof R=="number"&&!Pte(R)}var Dk=function(y){return y>0&&y<1/0};function B0(R){return typeof R=="undefined"}function co(R){return e(R)==="object"&&R!==null}var Rte=Object.prototype.hasOwnProperty;function Nu(R){if(!co(R))return!1;try{var y=R.constructor,S=y.prototype;return y&&S&&Rte.call(S,"isPrototypeOf")}catch(_){return!1}}function hr(R){return typeof R=="function"}var qte=Array.prototype.slice;function jk(R){return Array.from?Array.from(R):qte.call(R)}function dt(R,y){return R&&hr(y)&&(Array.isArray(R)||Pe(R.length)?jk(R).forEach(function(S,_){y.call(R,S,_,R)}):co(R)&&Object.keys(R).forEach(function(S){y.call(R,R[S],S,R)})),R}var Ze=Object.assign||function(y){for(var S=arguments.length,_=new Array(S>1?S-1:0),I=1;I<S;I++)_[I-1]=arguments[I];return co(y)&&_.length>0&&_.forEach(function(E){co(E)&&Object.keys(E).forEach(function(F){y[F]=E[F]})}),y},Ete=/\.\d*(?:0|9){12}\d*$/;function Bu(R){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Ete.test(R)?Math.round(R*y)/y:R}var Tte=/^width|height|left|top|marginLeft|marginTop$/;function da(R,y){var S=R.style;dt(y,function(_,I){Tte.test(I)&&Pe(_)&&(_="".concat(_,"px")),S[I]=_})}function Ate(R,y){return R.classList?R.classList.contains(y):R.className.indexOf(y)>-1}function qt(R,y){if(!!y){if(Pe(R.length)){dt(R,function(_){qt(_,y)});return}if(R.classList){R.classList.add(y);return}var S=R.className.trim();S?S.indexOf(y)<0&&(R.className="".concat(S," ").concat(y)):R.className=y}}function $n(R,y){if(!!y){if(Pe(R.length)){dt(R,function(S){$n(S,y)});return}if(R.classList){R.classList.remove(y);return}R.className.indexOf(y)>=0&&(R.className=R.className.replace(y,""))}}function Lu(R,y,S){if(!!y){if(Pe(R.length)){dt(R,function(_){Lu(_,y,S)});return}S?qt(R,y):$n(R,y)}}var kte=/([a-z\d])([A-Z])/g;function L0(R){return R.replace(kte,"$1-$2").toLowerCase()}function z0(R,y){return co(R[y])?R[y]:R.dataset?R.dataset[y]:R.getAttribute("data-".concat(L0(y)))}function Bl(R,y,S){co(S)?R[y]=S:R.dataset?R.dataset[y]=S:R.setAttribute("data-".concat(L0(y)),S)}function Ite(R,y){if(co(R[y]))try{delete R[y]}catch(S){R[y]=void 0}else if(R.dataset)try{delete R.dataset[y]}catch(S){R.dataset[y]=void 0}else R.removeAttribute("data-".concat(L0(y)))}var Uk=/\s\s*/,Mk=function(){var R=!1;if(d){var y=!1,S=function(){},_=Object.defineProperty({},"once",{get:function(){return R=!0,y},set:function(E){y=E}});v.addEventListener("test",S,_),v.removeEventListener("test",S,_)}return R}();function vn(R,y,S){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I=S;y.trim().split(Uk).forEach(function(E){if(!Mk){var F=R.listeners;F&&F[E]&&F[E][S]&&(I=F[E][S],delete F[E][S],Object.keys(F[E]).length===0&&delete F[E],Object.keys(F).length===0&&delete R.listeners)}R.removeEventListener(E,I,_)})}function Wr(R,y,S){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I=S;y.trim().split(Uk).forEach(function(E){if(_.once&&!Mk){var F=R.listeners,M=F===void 0?{}:F;I=function(){delete M[E][S],R.removeEventListener(E,I,_);for(var W=arguments.length,$=new Array(W),B=0;B<W;B++)$[B]=arguments[B];S.apply(R,$)},M[E]||(M[E]={}),M[E][S]&&R.removeEventListener(E,M[E][S],_),M[E][S]=I,R.listeners=M}R.addEventListener(E,I,_)})}function zu(R,y,S){var _;return hr(Event)&&hr(CustomEvent)?_=new CustomEvent(y,{detail:S,bubbles:!0,cancelable:!0}):(_=document.createEvent("CustomEvent"),_.initCustomEvent(y,!0,!0,S)),R.dispatchEvent(_)}function Nk(R){var y=R.getBoundingClientRect();return{left:y.left+(window.pageXOffset-document.documentElement.clientLeft),top:y.top+(window.pageYOffset-document.documentElement.clientTop)}}var H0=v.location,Fte=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Bk(R){var y=R.match(Fte);return y!==null&&(y[1]!==H0.protocol||y[2]!==H0.hostname||y[3]!==H0.port)}function Lk(R){var y="timestamp=".concat(new Date().getTime());return R+(R.indexOf("?")===-1?"?":"&")+y}function Ll(R){var y=R.rotate,S=R.scaleX,_=R.scaleY,I=R.translateX,E=R.translateY,F=[];Pe(I)&&I!==0&&F.push("translateX(".concat(I,"px)")),Pe(E)&&E!==0&&F.push("translateY(".concat(E,"px)")),Pe(y)&&y!==0&&F.push("rotate(".concat(y,"deg)")),Pe(S)&&S!==1&&F.push("scaleX(".concat(S,")")),Pe(_)&&_!==1&&F.push("scaleY(".concat(_,")"));var M=F.length?F.join(" "):"none";return{WebkitTransform:M,msTransform:M,transform:M}}function xte(R){var y=o({},R),S=[];return dt(R,function(_,I){delete y[I],dt(y,function(E){var F=Math.abs(_.startX-E.startX),M=Math.abs(_.startY-E.startY),Y=Math.abs(_.endX-E.endX),W=Math.abs(_.endY-E.endY),$=Math.sqrt(F*F+M*M),B=Math.sqrt(Y*Y+W*W),K=(B-$)/$;S.push(K)})}),S.sort(function(_,I){return Math.abs(_)<Math.abs(I)}),S[0]}function Td(R,y){var S=R.pageX,_=R.pageY,I={endX:S,endY:_};return y?I:o({startX:S,startY:_},I)}function Cte(R){var y=0,S=0,_=0;return dt(R,function(I){var E=I.startX,F=I.startY;y+=E,S+=F,_+=1}),y/=_,S/=_,{pageX:y,pageY:S}}function ha(R){var y=R.aspectRatio,S=R.height,_=R.width,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",E=Dk(_),F=Dk(S);if(E&&F){var M=S*y;I==="contain"&&M>_||I==="cover"&&M<_?S=_/y:_=S*y}else E?S=_/y:F&&(_=S*y);return{width:_,height:S}}function Dte(R){var y=R.width,S=R.height,_=R.degree;if(_=Math.abs(_)%180,_===90)return{width:S,height:y};var I=_%90*Math.PI/180,E=Math.sin(I),F=Math.cos(I),M=y*F+S*E,Y=y*E+S*F;return _>90?{width:Y,height:M}:{width:M,height:Y}}function jte(R,y,S,_){var I=y.aspectRatio,E=y.naturalWidth,F=y.naturalHeight,M=y.rotate,Y=M===void 0?0:M,W=y.scaleX,$=W===void 0?1:W,B=y.scaleY,K=B===void 0?1:B,Ie=S.aspectRatio,qe=S.naturalWidth,et=S.naturalHeight,Ue=_.fillColor,_t=Ue===void 0?"transparent":Ue,Et=_.imageSmoothingEnabled,ht=Et===void 0?!0:Et,di=_.imageSmoothingQuality,Tr=di===void 0?"low":di,Z=_.maxWidth,Me=Z===void 0?1/0:Z,wt=_.maxHeight,Vr=wt===void 0?1/0:wt,hi=_.minWidth,fo=hi===void 0?0:hi,po=_.minHeight,va=po===void 0?0:po,Wn=document.createElement("canvas"),vr=Wn.getContext("2d"),ho=ha({aspectRatio:Ie,width:Me,height:Vr}),Ad=ha({aspectRatio:Ie,width:fo,height:va},"cover"),$0=Math.min(ho.width,Math.max(Ad.width,qe)),W0=Math.min(ho.height,Math.max(Ad.height,et)),$k=ha({aspectRatio:I,width:Me,height:Vr}),Wk=ha({aspectRatio:I,width:fo,height:va},"cover"),Vk=Math.min($k.width,Math.max(Wk.width,E)),Gk=Math.min($k.height,Math.max(Wk.height,F)),Xte=[-Vk/2,-Gk/2,Vk,Gk];return Wn.width=Bu($0),Wn.height=Bu(W0),vr.fillStyle=_t,vr.fillRect(0,0,$0,W0),vr.save(),vr.translate($0/2,W0/2),vr.rotate(Y*Math.PI/180),vr.scale($,K),vr.imageSmoothingEnabled=ht,vr.imageSmoothingQuality=Tr,vr.drawImage.apply(vr,[R].concat(u(Xte.map(function(Jte){return Math.floor(Bu(Jte))})))),vr.restore(),Wn}var zk=String.fromCharCode;function Ute(R,y,S){var _="";S+=y;for(var I=y;I<S;I+=1)_+=zk(R.getUint8(I));return _}var Mte=/^data:.*,/;function Nte(R){var y=R.replace(Mte,""),S=atob(y),_=new ArrayBuffer(S.length),I=new Uint8Array(_);return dt(I,function(E,F){I[F]=S.charCodeAt(F)}),_}function Bte(R,y){for(var S=[],_=8192,I=new Uint8Array(R);I.length>0;)S.push(zk.apply(null,jk(I.subarray(0,_)))),I=I.subarray(_);return"data:".concat(y,";base64,").concat(btoa(S.join("")))}function Lte(R){var y=new DataView(R),S;try{var _,I,E;if(y.getUint8(0)===255&&y.getUint8(1)===216)for(var F=y.byteLength,M=2;M+1<F;){if(y.getUint8(M)===255&&y.getUint8(M+1)===225){I=M;break}M+=1}if(I){var Y=I+4,W=I+10;if(Ute(y,Y,4)==="Exif"){var $=y.getUint16(W);if(_=$===18761,(_||$===19789)&&y.getUint16(W+2,_)===42){var B=y.getUint32(W+4,_);B>=8&&(E=W+B)}}}if(E){var K=y.getUint16(E,_),Ie,qe;for(qe=0;qe<K;qe+=1)if(Ie=E+qe*12+2,y.getUint16(Ie,_)===274){Ie+=8,S=y.getUint16(Ie,_),y.setUint16(Ie,1,_);break}}}catch(et){S=1}return S}function zte(R){var y=0,S=1,_=1;switch(R){case 2:S=-1;break;case 3:y=-180;break;case 4:_=-1;break;case 5:y=90,_=-1;break;case 6:y=90;break;case 7:y=90,S=-1;break;case 8:y=-90;break}return{rotate:y,scaleX:S,scaleY:_}}var Hte={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var y=this.element,S=this.options,_=this.container,I=this.cropper;qt(I,C),$n(y,C);var E={width:Math.max(_.offsetWidth,Number(S.minContainerWidth)||200),height:Math.max(_.offsetHeight,Number(S.minContainerHeight)||100)};this.containerData=E,da(I,{width:E.width,height:E.height}),qt(y,C),$n(I,C)},initCanvas:function(){var y=this.containerData,S=this.imageData,_=this.options.viewMode,I=Math.abs(S.rotate)%180==90,E=I?S.naturalHeight:S.naturalWidth,F=I?S.naturalWidth:S.naturalHeight,M=E/F,Y=y.width,W=y.height;y.height*M>y.width?_===3?Y=y.height*M:W=y.width/M:_===3?W=y.width/M:Y=y.height*M;var $={aspectRatio:M,naturalWidth:E,naturalHeight:F,width:Y,height:W};$.left=(y.width-Y)/2,$.top=(y.height-W)/2,$.oldLeft=$.left,$.oldTop=$.top,this.canvasData=$,this.limited=_===1||_===2,this.limitCanvas(!0,!0),this.initialImageData=Ze({},S),this.initialCanvasData=Ze({},$)},limitCanvas:function(y,S){var _=this.options,I=this.containerData,E=this.canvasData,F=this.cropBoxData,M=_.viewMode,Y=E.aspectRatio,W=this.cropped&&F;if(y){var $=Number(_.minCanvasWidth)||0,B=Number(_.minCanvasHeight)||0;M>1?($=Math.max($,I.width),B=Math.max(B,I.height),M===3&&(B*Y>$?$=B*Y:B=$/Y)):M>0&&($?$=Math.max($,W?F.width:0):B?B=Math.max(B,W?F.height:0):W&&($=F.width,B=F.height,B*Y>$?$=B*Y:B=$/Y));var K=ha({aspectRatio:Y,width:$,height:B});$=K.width,B=K.height,E.minWidth=$,E.minHeight=B,E.maxWidth=1/0,E.maxHeight=1/0}if(S)if(M>(W?0:1)){var Ie=I.width-E.width,qe=I.height-E.height;E.minLeft=Math.min(0,Ie),E.minTop=Math.min(0,qe),E.maxLeft=Math.max(0,Ie),E.maxTop=Math.max(0,qe),W&&this.limited&&(E.minLeft=Math.min(F.left,F.left+(F.width-E.width)),E.minTop=Math.min(F.top,F.top+(F.height-E.height)),E.maxLeft=F.left,E.maxTop=F.top,M===2&&(E.width>=I.width&&(E.minLeft=Math.min(0,Ie),E.maxLeft=Math.max(0,Ie)),E.height>=I.height&&(E.minTop=Math.min(0,qe),E.maxTop=Math.max(0,qe))))}else E.minLeft=-E.width,E.minTop=-E.height,E.maxLeft=I.width,E.maxTop=I.height},renderCanvas:function(y,S){var _=this.canvasData,I=this.imageData;if(S){var E=Dte({width:I.naturalWidth*Math.abs(I.scaleX||1),height:I.naturalHeight*Math.abs(I.scaleY||1),degree:I.rotate||0}),F=E.width,M=E.height,Y=_.width*(F/_.naturalWidth),W=_.height*(M/_.naturalHeight);_.left-=(Y-_.width)/2,_.top-=(W-_.height)/2,_.width=Y,_.height=W,_.aspectRatio=F/M,_.naturalWidth=F,_.naturalHeight=M,this.limitCanvas(!0,!1)}(_.width>_.maxWidth||_.width<_.minWidth)&&(_.left=_.oldLeft),(_.height>_.maxHeight||_.height<_.minHeight)&&(_.top=_.oldTop),_.width=Math.min(Math.max(_.width,_.minWidth),_.maxWidth),_.height=Math.min(Math.max(_.height,_.minHeight),_.maxHeight),this.limitCanvas(!1,!0),_.left=Math.min(Math.max(_.left,_.minLeft),_.maxLeft),_.top=Math.min(Math.max(_.top,_.minTop),_.maxTop),_.oldLeft=_.left,_.oldTop=_.top,da(this.canvas,Ze({width:_.width,height:_.height},Ll({translateX:_.left,translateY:_.top}))),this.renderImage(y),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(y){var S=this.canvasData,_=this.imageData,I=_.naturalWidth*(S.width/S.naturalWidth),E=_.naturalHeight*(S.height/S.naturalHeight);Ze(_,{width:I,height:E,left:(S.width-I)/2,top:(S.height-E)/2}),da(this.image,Ze({width:_.width,height:_.height},Ll(Ze({translateX:_.left,translateY:_.top},_)))),y&&this.output()},initCropBox:function(){var y=this.options,S=this.canvasData,_=y.aspectRatio||y.initialAspectRatio,I=Number(y.autoCropArea)||.8,E={width:S.width,height:S.height};_&&(S.height*_>S.width?E.height=E.width/_:E.width=E.height*_),this.cropBoxData=E,this.limitCropBox(!0,!0),E.width=Math.min(Math.max(E.width,E.minWidth),E.maxWidth),E.height=Math.min(Math.max(E.height,E.minHeight),E.maxHeight),E.width=Math.max(E.minWidth,E.width*I),E.height=Math.max(E.minHeight,E.height*I),E.left=S.left+(S.width-E.width)/2,E.top=S.top+(S.height-E.height)/2,E.oldLeft=E.left,E.oldTop=E.top,this.initialCropBoxData=Ze({},E)},limitCropBox:function(y,S){var _=this.options,I=this.containerData,E=this.canvasData,F=this.cropBoxData,M=this.limited,Y=_.aspectRatio;if(y){var W=Number(_.minCropBoxWidth)||0,$=Number(_.minCropBoxHeight)||0,B=M?Math.min(I.width,E.width,E.width+E.left,I.width-E.left):I.width,K=M?Math.min(I.height,E.height,E.height+E.top,I.height-E.top):I.height;W=Math.min(W,I.width),$=Math.min($,I.height),Y&&(W&&$?$*Y>W?$=W/Y:W=$*Y:W?$=W/Y:$&&(W=$*Y),K*Y>B?K=B/Y:B=K*Y),F.minWidth=Math.min(W,B),F.minHeight=Math.min($,K),F.maxWidth=B,F.maxHeight=K}S&&(M?(F.minLeft=Math.max(0,E.left),F.minTop=Math.max(0,E.top),F.maxLeft=Math.min(I.width,E.left+E.width)-F.width,F.maxTop=Math.min(I.height,E.top+E.height)-F.height):(F.minLeft=0,F.minTop=0,F.maxLeft=I.width-F.width,F.maxTop=I.height-F.height))},renderCropBox:function(){var y=this.options,S=this.containerData,_=this.cropBoxData;(_.width>_.maxWidth||_.width<_.minWidth)&&(_.left=_.oldLeft),(_.height>_.maxHeight||_.height<_.minHeight)&&(_.top=_.oldTop),_.width=Math.min(Math.max(_.width,_.minWidth),_.maxWidth),_.height=Math.min(Math.max(_.height,_.minHeight),_.maxHeight),this.limitCropBox(!1,!0),_.left=Math.min(Math.max(_.left,_.minLeft),_.maxLeft),_.top=Math.min(Math.max(_.top,_.minTop),_.maxTop),_.oldLeft=_.left,_.oldTop=_.top,y.movable&&y.cropBoxMovable&&Bl(this.face,ue,_.width>=S.width&&_.height>=S.height?T:b),da(this.cropBox,Ze({width:_.width,height:_.height},Ll({translateX:_.left,translateY:_.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),zu(this.element,Vt,this.getData())}},$te={initPreview:function(){var y=this.element,S=this.crossOrigin,_=this.options.preview,I=S?this.crossOriginUrl:this.url,E=y.alt||"The image to preview",F=document.createElement("img");if(S&&(F.crossOrigin=S),F.src=I,F.alt=E,this.viewBox.appendChild(F),this.viewBoxImage=F,!!_){var M=_;typeof _=="string"?M=y.ownerDocument.querySelectorAll(_):_.querySelector&&(M=[_]),this.previews=M,dt(M,function(Y){var W=document.createElement("img");Bl(Y,je,{width:Y.offsetWidth,height:Y.offsetHeight,html:Y.innerHTML}),S&&(W.crossOrigin=S),W.src=I,W.alt=E,W.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Y.innerHTML="",Y.appendChild(W)})}},resetPreview:function(){dt(this.previews,function(y){var S=z0(y,je);da(y,{width:S.width,height:S.height}),y.innerHTML=S.html,Ite(y,je)})},preview:function(){var y=this.imageData,S=this.canvasData,_=this.cropBoxData,I=_.width,E=_.height,F=y.width,M=y.height,Y=_.left-S.left-y.left,W=_.top-S.top-y.top;!this.cropped||this.disabled||(da(this.viewBoxImage,Ze({width:F,height:M},Ll(Ze({translateX:-Y,translateY:-W},y)))),dt(this.previews,function($){var B=z0($,je),K=B.width,Ie=B.height,qe=K,et=Ie,Ue=1;I&&(Ue=K/I,et=E*Ue),E&&et>Ie&&(Ue=Ie/E,qe=I*Ue,et=Ie),da($,{width:qe,height:et}),da($.getElementsByTagName("img")[0],Ze({width:F*Ue,height:M*Ue},Ll(Ze({translateX:-Y*Ue,translateY:-W*Ue},y))))}))}},Wte={bind:function(){var y=this.element,S=this.options,_=this.cropper;hr(S.cropstart)&&Wr(y,Mu,S.cropstart),hr(S.cropmove)&&Wr(y,Gt,S.cropmove),hr(S.cropend)&&Wr(y,Rt,S.cropend),hr(S.crop)&&Wr(y,Vt,S.crop),hr(S.zoom)&&Wr(y,N0,S.zoom),Wr(_,Ek,this.onCropStart=this.cropStart.bind(this)),S.zoomable&&S.zoomOnWheel&&Wr(_,Fk,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),S.toggleDragModeOnDblclick&&Wr(_,Nl,this.onDblclick=this.dblclick.bind(this)),Wr(y.ownerDocument,Tk,this.onCropMove=this.cropMove.bind(this)),Wr(y.ownerDocument,Ak,this.onCropEnd=this.cropEnd.bind(this)),S.responsive&&Wr(window,Ik,this.onResize=this.resize.bind(this))},unbind:function(){var y=this.element,S=this.options,_=this.cropper;hr(S.cropstart)&&vn(y,Mu,S.cropstart),hr(S.cropmove)&&vn(y,Gt,S.cropmove),hr(S.cropend)&&vn(y,Rt,S.cropend),hr(S.crop)&&vn(y,Vt,S.crop),hr(S.zoom)&&vn(y,N0,S.zoom),vn(_,Ek,this.onCropStart),S.zoomable&&S.zoomOnWheel&&vn(_,Fk,this.onWheel,{passive:!1,capture:!0}),S.toggleDragModeOnDblclick&&vn(_,Nl,this.onDblclick),vn(y.ownerDocument,Tk,this.onCropMove),vn(y.ownerDocument,Ak,this.onCropEnd),S.responsive&&vn(window,Ik,this.onResize)}},Vte={resize:function(){if(!this.disabled){var y=this.options,S=this.container,_=this.containerData,I=S.offsetWidth/_.width;if(I!==1||S.offsetHeight!==_.height){var E,F;y.restore&&(E=this.getCanvasData(),F=this.getCropBoxData()),this.render(),y.restore&&(this.setCanvasData(dt(E,function(M,Y){E[Y]=M*I})),this.setCropBoxData(dt(F,function(M,Y){F[Y]=M*I})))}}},dblclick:function(){this.disabled||this.options.dragMode===lt||this.setDragMode(Ate(this.dragBox,k)?st:He)},wheel:function(y){var S=this,_=Number(this.options.wheelZoomRatio)||.1,I=1;this.disabled||(y.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){S.wheeling=!1},50),y.deltaY?I=y.deltaY>0?1:-1:y.wheelDelta?I=-y.wheelDelta/120:y.detail&&(I=y.detail>0?1:-1),this.zoom(-I*_,y)))},cropStart:function(y){var S=y.buttons,_=y.button;if(!(this.disabled||(y.type==="mousedown"||y.type==="pointerdown"&&y.pointerType==="mouse")&&(Pe(S)&&S!==1||Pe(_)&&_!==0||y.ctrlKey))){var I=this.options,E=this.pointers,F;y.changedTouches?dt(y.changedTouches,function(M){E[M.identifier]=Td(M)}):E[y.pointerId||0]=Td(y),Object.keys(E).length>1&&I.zoomable&&I.zoomOnTouch?F=x:F=z0(y.target,ue),!!bte.test(F)&&zu(this.element,Mu,{originalEvent:y,action:F})!==!1&&(y.preventDefault(),this.action=F,this.cropping=!1,F===O&&(this.cropping=!0,qt(this.dragBox,ee)))}},cropMove:function(y){var S=this.action;if(!(this.disabled||!S)){var _=this.pointers;y.preventDefault(),zu(this.element,Gt,{originalEvent:y,action:S})!==!1&&(y.changedTouches?dt(y.changedTouches,function(I){Ze(_[I.identifier]||{},Td(I,!0))}):Ze(_[y.pointerId||0]||{},Td(y,!0)),this.change(y))}},cropEnd:function(y){if(!this.disabled){var S=this.action,_=this.pointers;y.changedTouches?dt(y.changedTouches,function(I){delete _[I.identifier]}):delete _[y.pointerId||0],!!S&&(y.preventDefault(),Object.keys(_).length||(this.action=""),this.cropping&&(this.cropping=!1,Lu(this.dragBox,ee,this.cropped&&this.options.modal)),zu(this.element,Rt,{originalEvent:y,action:S}))}}},Gte={change:function(y){var S=this.options,_=this.canvasData,I=this.containerData,E=this.cropBoxData,F=this.pointers,M=this.action,Y=S.aspectRatio,W=E.left,$=E.top,B=E.width,K=E.height,Ie=W+B,qe=$+K,et=0,Ue=0,_t=I.width,Et=I.height,ht=!0,di;!Y&&y.shiftKey&&(Y=B&&K?B/K:1),this.limited&&(et=E.minLeft,Ue=E.minTop,_t=et+Math.min(I.width,_.width,_.left+_.width),Et=Ue+Math.min(I.height,_.height,_.top+_.height));var Tr=F[Object.keys(F)[0]],Z={x:Tr.endX-Tr.startX,y:Tr.endY-Tr.startY},Me=function(Vr){switch(Vr){case D:Ie+Z.x>_t&&(Z.x=_t-Ie);break;case N:W+Z.x<et&&(Z.x=et-W);break;case q:$+Z.y<Ue&&(Z.y=Ue-$);break;case G:qe+Z.y>Et&&(Z.y=Et-qe);break}};switch(M){case b:W+=Z.x,$+=Z.y;break;case D:if(Z.x>=0&&(Ie>=_t||Y&&($<=Ue||qe>=Et))){ht=!1;break}Me(D),B+=Z.x,B<0&&(M=N,B=-B,W-=B),Y&&(K=B/Y,$+=(E.height-K)/2);break;case q:if(Z.y<=0&&($<=Ue||Y&&(W<=et||Ie>=_t))){ht=!1;break}Me(q),K-=Z.y,$+=Z.y,K<0&&(M=G,K=-K,$-=K),Y&&(B=K*Y,W+=(E.width-B)/2);break;case N:if(Z.x<=0&&(W<=et||Y&&($<=Ue||qe>=Et))){ht=!1;break}Me(N),B-=Z.x,W+=Z.x,B<0&&(M=D,B=-B,W-=B),Y&&(K=B/Y,$+=(E.height-K)/2);break;case G:if(Z.y>=0&&(qe>=Et||Y&&(W<=et||Ie>=_t))){ht=!1;break}Me(G),K+=Z.y,K<0&&(M=q,K=-K,$-=K),Y&&(B=K*Y,W+=(E.width-B)/2);break;case U:if(Y){if(Z.y<=0&&($<=Ue||Ie>=_t)){ht=!1;break}Me(q),K-=Z.y,$+=Z.y,B=K*Y}else Me(q),Me(D),Z.x>=0?Ie<_t?B+=Z.x:Z.y<=0&&$<=Ue&&(ht=!1):B+=Z.x,Z.y<=0?$>Ue&&(K-=Z.y,$+=Z.y):(K-=Z.y,$+=Z.y);B<0&&K<0?(M=A,K=-K,B=-B,$-=K,W-=B):B<0?(M=Q,B=-B,W-=B):K<0&&(M=X,K=-K,$-=K);break;case Q:if(Y){if(Z.y<=0&&($<=Ue||W<=et)){ht=!1;break}Me(q),K-=Z.y,$+=Z.y,B=K*Y,W+=E.width-B}else Me(q),Me(N),Z.x<=0?W>et?(B-=Z.x,W+=Z.x):Z.y<=0&&$<=Ue&&(ht=!1):(B-=Z.x,W+=Z.x),Z.y<=0?$>Ue&&(K-=Z.y,$+=Z.y):(K-=Z.y,$+=Z.y);B<0&&K<0?(M=X,K=-K,B=-B,$-=K,W-=B):B<0?(M=U,B=-B,W-=B):K<0&&(M=A,K=-K,$-=K);break;case A:if(Y){if(Z.x<=0&&(W<=et||qe>=Et)){ht=!1;break}Me(N),B-=Z.x,W+=Z.x,K=B/Y}else Me(G),Me(N),Z.x<=0?W>et?(B-=Z.x,W+=Z.x):Z.y>=0&&qe>=Et&&(ht=!1):(B-=Z.x,W+=Z.x),Z.y>=0?qe<Et&&(K+=Z.y):K+=Z.y;B<0&&K<0?(M=U,K=-K,B=-B,$-=K,W-=B):B<0?(M=X,B=-B,W-=B):K<0&&(M=Q,K=-K,$-=K);break;case X:if(Y){if(Z.x>=0&&(Ie>=_t||qe>=Et)){ht=!1;break}Me(D),B+=Z.x,K=B/Y}else Me(G),Me(D),Z.x>=0?Ie<_t?B+=Z.x:Z.y>=0&&qe>=Et&&(ht=!1):B+=Z.x,Z.y>=0?qe<Et&&(K+=Z.y):K+=Z.y;B<0&&K<0?(M=Q,K=-K,B=-B,$-=K,W-=B):B<0?(M=A,B=-B,W-=B):K<0&&(M=U,K=-K,$-=K);break;case T:this.move(Z.x,Z.y),ht=!1;break;case x:this.zoom(xte(F),y),ht=!1;break;case O:if(!Z.x||!Z.y){ht=!1;break}di=Nk(this.cropper),W=Tr.startX-di.left,$=Tr.startY-di.top,B=E.minWidth,K=E.minHeight,Z.x>0?M=Z.y>0?X:U:Z.x<0&&(W-=B,M=Z.y>0?A:Q),Z.y<0&&($-=K),this.cropped||($n(this.cropBox,C),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}ht&&(E.width=B,E.height=K,E.left=W,E.top=$,this.action=M,this.renderCropBox()),dt(F,function(wt){wt.startX=wt.endX,wt.startY=wt.endY})}},Kte={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&qt(this.dragBox,ee),$n(this.cropBox,C),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ze({},this.initialImageData),this.canvasData=Ze({},this.initialCanvasData),this.cropBoxData=Ze({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ze(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),$n(this.dragBox,ee),qt(this.cropBox,C)),this},replace:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&y&&(this.isImg&&(this.element.src=y),S?(this.url=y,this.image.src=y,this.ready&&(this.viewBoxImage.src=y,dt(this.previews,function(_){_.getElementsByTagName("img")[0].src=y}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(y))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,$n(this.cropper,z)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,qt(this.cropper,z)),this},destroy:function(){var y=this.element;return y[w]?(y[w]=void 0,this.isImg&&this.replaced&&(y.src=this.originalUrl),this.uncreate(),this):this},move:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,_=this.canvasData,I=_.left,E=_.top;return this.moveTo(B0(y)?y:I+Number(y),B0(S)?S:E+Number(S))},moveTo:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,_=this.canvasData,I=!1;return y=Number(y),S=Number(S),this.ready&&!this.disabled&&this.options.movable&&(Pe(y)&&(_.left=y,I=!0),Pe(S)&&(_.top=S,I=!0),I&&this.renderCanvas(!0)),this},zoom:function(y,S){var _=this.canvasData;return y=Number(y),y<0?y=1/(1-y):y=1+y,this.zoomTo(_.width*y/_.naturalWidth,null,S)},zoomTo:function(y,S,_){var I=this.options,E=this.canvasData,F=E.width,M=E.height,Y=E.naturalWidth,W=E.naturalHeight;if(y=Number(y),y>=0&&this.ready&&!this.disabled&&I.zoomable){var $=Y*y,B=W*y;if(zu(this.element,N0,{ratio:y,oldRatio:F/Y,originalEvent:_})===!1)return this;if(_){var K=this.pointers,Ie=Nk(this.cropper),qe=K&&Object.keys(K).length?Cte(K):{pageX:_.pageX,pageY:_.pageY};E.left-=($-F)*((qe.pageX-Ie.left-E.left)/F),E.top-=(B-M)*((qe.pageY-Ie.top-E.top)/M)}else Nu(S)&&Pe(S.x)&&Pe(S.y)?(E.left-=($-F)*((S.x-E.left)/F),E.top-=(B-M)*((S.y-E.top)/M)):(E.left-=($-F)/2,E.top-=(B-M)/2);E.width=$,E.height=B,this.renderCanvas(!0)}return this},rotate:function(y){return this.rotateTo((this.imageData.rotate||0)+Number(y))},rotateTo:function(y){return y=Number(y),Pe(y)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=y%360,this.renderCanvas(!0,!0)),this},scaleX:function(y){var S=this.imageData.scaleY;return this.scale(y,Pe(S)?S:1)},scaleY:function(y){var S=this.imageData.scaleX;return this.scale(Pe(S)?S:1,y)},scale:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,_=this.imageData,I=!1;return y=Number(y),S=Number(S),this.ready&&!this.disabled&&this.options.scalable&&(Pe(y)&&(_.scaleX=y,I=!0),Pe(S)&&(_.scaleY=S,I=!0),I&&this.renderCanvas(!0,!0)),this},getData:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=this.options,_=this.imageData,I=this.canvasData,E=this.cropBoxData,F;if(this.ready&&this.cropped){F={x:E.left-I.left,y:E.top-I.top,width:E.width,height:E.height};var M=_.width/_.naturalWidth;if(dt(F,function($,B){F[B]=$/M}),y){var Y=Math.round(F.y+F.height),W=Math.round(F.x+F.width);F.x=Math.round(F.x),F.y=Math.round(F.y),F.width=W-F.x,F.height=Y-F.y}}else F={x:0,y:0,width:0,height:0};return S.rotatable&&(F.rotate=_.rotate||0),S.scalable&&(F.scaleX=_.scaleX||1,F.scaleY=_.scaleY||1),F},setData:function(y){var S=this.options,_=this.imageData,I=this.canvasData,E={};if(this.ready&&!this.disabled&&Nu(y)){var F=!1;S.rotatable&&Pe(y.rotate)&&y.rotate!==_.rotate&&(_.rotate=y.rotate,F=!0),S.scalable&&(Pe(y.scaleX)&&y.scaleX!==_.scaleX&&(_.scaleX=y.scaleX,F=!0),Pe(y.scaleY)&&y.scaleY!==_.scaleY&&(_.scaleY=y.scaleY,F=!0)),F&&this.renderCanvas(!0,!0);var M=_.width/_.naturalWidth;Pe(y.x)&&(E.left=y.x*M+I.left),Pe(y.y)&&(E.top=y.y*M+I.top),Pe(y.width)&&(E.width=y.width*M),Pe(y.height)&&(E.height=y.height*M),this.setCropBoxData(E)}return this},getContainerData:function(){return this.ready?Ze({},this.containerData):{}},getImageData:function(){return this.sized?Ze({},this.imageData):{}},getCanvasData:function(){var y=this.canvasData,S={};return this.ready&&dt(["left","top","width","height","naturalWidth","naturalHeight"],function(_){S[_]=y[_]}),S},setCanvasData:function(y){var S=this.canvasData,_=S.aspectRatio;return this.ready&&!this.disabled&&Nu(y)&&(Pe(y.left)&&(S.left=y.left),Pe(y.top)&&(S.top=y.top),Pe(y.width)?(S.width=y.width,S.height=y.width/_):Pe(y.height)&&(S.height=y.height,S.width=y.height*_),this.renderCanvas(!0)),this},getCropBoxData:function(){var y=this.cropBoxData,S;return this.ready&&this.cropped&&(S={left:y.left,top:y.top,width:y.width,height:y.height}),S||{}},setCropBoxData:function(y){var S=this.cropBoxData,_=this.options.aspectRatio,I,E;return this.ready&&this.cropped&&!this.disabled&&Nu(y)&&(Pe(y.left)&&(S.left=y.left),Pe(y.top)&&(S.top=y.top),Pe(y.width)&&y.width!==S.width&&(I=!0,S.width=y.width),Pe(y.height)&&y.height!==S.height&&(E=!0,S.height=y.height),_&&(I?S.height=S.width/_:E&&(S.width=S.height*_)),this.renderCropBox()),this},getCroppedCanvas:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var S=this.canvasData,_=jte(this.image,this.imageData,S,y);if(!this.cropped)return _;var I=this.getData(),E=I.x,F=I.y,M=I.width,Y=I.height,W=_.width/Math.floor(S.naturalWidth);W!==1&&(E*=W,F*=W,M*=W,Y*=W);var $=M/Y,B=ha({aspectRatio:$,width:y.maxWidth||1/0,height:y.maxHeight||1/0}),K=ha({aspectRatio:$,width:y.minWidth||0,height:y.minHeight||0},"cover"),Ie=ha({aspectRatio:$,width:y.width||(W!==1?_.width:M),height:y.height||(W!==1?_.height:Y)}),qe=Ie.width,et=Ie.height;qe=Math.min(B.width,Math.max(K.width,qe)),et=Math.min(B.height,Math.max(K.height,et));var Ue=document.createElement("canvas"),_t=Ue.getContext("2d");Ue.width=Bu(qe),Ue.height=Bu(et),_t.fillStyle=y.fillColor||"transparent",_t.fillRect(0,0,qe,et);var Et=y.imageSmoothingEnabled,ht=Et===void 0?!0:Et,di=y.imageSmoothingQuality;_t.imageSmoothingEnabled=ht,di&&(_t.imageSmoothingQuality=di);var Tr=_.width,Z=_.height,Me=E,wt=F,Vr,hi,fo,po,va,Wn;Me<=-M||Me>Tr?(Me=0,Vr=0,fo=0,va=0):Me<=0?(fo=-Me,Me=0,Vr=Math.min(Tr,M+Me),va=Vr):Me<=Tr&&(fo=0,Vr=Math.min(M,Tr-Me),va=Vr),Vr<=0||wt<=-Y||wt>Z?(wt=0,hi=0,po=0,Wn=0):wt<=0?(po=-wt,wt=0,hi=Math.min(Z,Y+wt),Wn=hi):wt<=Z&&(po=0,hi=Math.min(Y,Z-wt),Wn=hi);var vr=[Me,wt,Vr,hi];if(va>0&&Wn>0){var ho=qe/M;vr.push(fo*ho,po*ho,va*ho,Wn*ho)}return _t.drawImage.apply(_t,[_].concat(u(vr.map(function(Ad){return Math.floor(Bu(Ad))})))),Ue},setAspectRatio:function(y){var S=this.options;return!this.disabled&&!B0(y)&&(S.aspectRatio=Math.max(0,y)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(y){var S=this.options,_=this.dragBox,I=this.face;if(this.ready&&!this.disabled){var E=y===He,F=S.movable&&y===st;y=E||F?y:lt,S.dragMode=y,Bl(_,ue,y),Lu(_,k,E),Lu(_,ce,F),S.cropBoxMovable||(Bl(I,ue,y),Lu(I,k,E),Lu(I,ce,F))}return this}},Yte=v.Cropper,Hk=function(){function R(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t(this,R),!y||!Ste.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=Ze({},Ck,Nu(S)&&S),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return n(R,[{key:"init",value:function(){var S=this.element,_=S.tagName.toLowerCase(),I;if(!S[w]){if(S[w]=this,_==="img"){if(this.isImg=!0,I=S.getAttribute("src")||"",this.originalUrl=I,!I)return;I=S.src}else _==="canvas"&&window.HTMLCanvasElement&&(I=S.toDataURL());this.load(I)}}},{key:"load",value:function(S){var _=this;if(!!S){this.url=S,this.imageData={};var I=this.element,E=this.options;if(!E.rotatable&&!E.scalable&&(E.checkOrientation=!1),!E.checkOrientation||!window.ArrayBuffer){this.clone();return}if(_te.test(S)){wte.test(S)?this.read(Nte(S)):this.clone();return}var F=new XMLHttpRequest,M=this.clone.bind(this);this.reloading=!0,this.xhr=F,F.onabort=M,F.onerror=M,F.ontimeout=M,F.onprogress=function(){F.getResponseHeader("content-type")!==xk&&F.abort()},F.onload=function(){_.read(F.response)},F.onloadend=function(){_.reloading=!1,_.xhr=null},E.checkCrossOrigin&&Bk(S)&&I.crossOrigin&&(S=Lk(S)),F.open("GET",S),F.responseType="arraybuffer",F.withCredentials=I.crossOrigin==="use-credentials",F.send()}}},{key:"read",value:function(S){var _=this.options,I=this.imageData,E=Lte(S),F=0,M=1,Y=1;if(E>1){this.url=Bte(S,xk);var W=zte(E);F=W.rotate,M=W.scaleX,Y=W.scaleY}_.rotatable&&(I.rotate=F),_.scalable&&(I.scaleX=M,I.scaleY=Y),this.clone()}},{key:"clone",value:function(){var S=this.element,_=this.url,I=S.crossOrigin,E=_;this.options.checkCrossOrigin&&Bk(_)&&(I||(I="anonymous"),E=Lk(_)),this.crossOrigin=I,this.crossOriginUrl=E;var F=document.createElement("img");I&&(F.crossOrigin=I),F.src=E||_,F.alt=S.alt||"The image to crop",this.image=F,F.onload=this.start.bind(this),F.onerror=this.stop.bind(this),qt(F,j),S.parentNode.insertBefore(F,S.nextSibling)}},{key:"start",value:function(){var S=this,_=this.image;_.onload=null,_.onerror=null,this.sizing=!0;var I=v.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(v.navigator.userAgent),E=function(W,$){Ze(S.imageData,{naturalWidth:W,naturalHeight:$,aspectRatio:W/$}),S.sizing=!1,S.sized=!0,S.build()};if(_.naturalWidth&&!I){E(_.naturalWidth,_.naturalHeight);return}var F=document.createElement("img"),M=document.body||document.documentElement;this.sizingImage=F,F.onload=function(){E(F.width,F.height),I||M.removeChild(F)},F.src=_.src,I||(F.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",M.appendChild(F))}},{key:"stop",value:function(){var S=this.image;S.onload=null,S.onerror=null,S.parentNode.removeChild(S),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var S=this.element,_=this.options,I=this.image,E=S.parentNode,F=document.createElement("div");F.innerHTML=Ote;var M=F.querySelector(".".concat(w,"-container")),Y=M.querySelector(".".concat(w,"-canvas")),W=M.querySelector(".".concat(w,"-drag-box")),$=M.querySelector(".".concat(w,"-crop-box")),B=$.querySelector(".".concat(w,"-face"));this.container=E,this.cropper=M,this.canvas=Y,this.dragBox=W,this.cropBox=$,this.viewBox=M.querySelector(".".concat(w,"-view-box")),this.face=B,Y.appendChild(I),qt(S,C),E.insertBefore(M,S.nextSibling),this.isImg||$n(I,j),this.initPreview(),this.bind(),_.initialAspectRatio=Math.max(0,_.initialAspectRatio)||NaN,_.aspectRatio=Math.max(0,_.aspectRatio)||NaN,_.viewMode=Math.max(0,Math.min(3,Math.round(_.viewMode)))||0,qt($,C),_.guides||qt($.getElementsByClassName("".concat(w,"-dashed")),C),_.center||qt($.getElementsByClassName("".concat(w,"-center")),C),_.background&&qt(M,"".concat(w,"-bg")),_.highlight||qt(B,L),_.cropBoxMovable&&(qt(B,ce),Bl(B,ue,b)),_.cropBoxResizable||(qt($.getElementsByClassName("".concat(w,"-line")),C),qt($.getElementsByClassName("".concat(w,"-point")),C)),this.render(),this.ready=!0,this.setDragMode(_.dragMode),_.autoCrop&&this.crop(),this.setData(_.data),hr(_.ready)&&Wr(S,kk,_.ready,{once:!0}),zu(S,kk)}}},{key:"unbuild",value:function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),$n(this.element,C))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Yte,R}},{key:"setDefaults",value:function(S){Ze(Ck,Nu(S)&&S)}}]),R}();return Ze(Hk.prototype,Hte,$te,Wte,Vte,Gte,Kte),Hk})});var $W=h(function(jvt,HW){"use strict";function rg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rg=function(r){return typeof r}:rg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rg(e)}function gVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bVe(e,t,r){return t&&zW(e.prototype,t),r&&zW(e,r),e}function _Ve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kq(e,t)}function Kq(e,t){return Kq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Kq(e,t)}function wVe(e){var t=PVe();return function(){var n=ng(e),a;if(t){var i=ng(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return SVe(this,a)}}function SVe(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OVe(e)}function OVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ng(e){return ng=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(e)}var be=(te(),re(ne)),RVe=Gq().default||Gq(),qVe=function(e){_Ve(r,e);var t=wVe(r);function r(n){var a;return gVe(this,r),a=t.call(this,n),a.granularRotateOnChange=function(i){var o=a.state,u=o.rotationAngle,s=o.rotationDelta,l=Number(i.target.value)-s;if(cancelAnimationFrame(a.granularRotateOnInputNextFrame),l!==0){var c=u+l;a.granularRotateOnInputNextFrame=requestAnimationFrame(function(){a.cropper.rotateTo(c)})}},a.state={rotationAngle:0,rotationDelta:0},a}return bVe(r,[{key:"componentDidMount",value:function(){var a=this,i=this.props,o=i.opts,u=i.storeCropperInstance;this.cropper=new RVe(this.imgElement,o.cropperOptions),u(this.cropper),o.actions.granularRotate&&this.imgElement.addEventListener("crop",function(s){var l=s.detail.rotate;a.setState({rotationAngle:l,rotationDelta:(l+405)%90-45})})}},{key:"componentWillUnmount",value:function(){this.cropper.destroy()}},{key:"renderGranularRotate",value:function(){var a=this.props.i18n,i=this.state,o=i.rotationDelta,u=i.rotationAngle;return(0,be.h)("label",{"data-microtip-position":"top",role:"tooltip","aria-label":"".concat(u,"\xBA"),className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},(0,be.h)("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:o,min:"-45",max:"44","aria-label":a("rotate")}))}},{key:"renderRevert",value:function(){var a=this,i=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":i("revert"),"data-microtip-position":"top",onClick:function(){a.cropper.reset(),a.cropper.setAspectRatio(0)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,be.h)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}},{key:"renderRotate",value:function(){var a=this,i=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return a.cropper.rotate(-90)},"aria-label":i("rotate"),"data-microtip-position":"top"},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),(0,be.h)("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}},{key:"renderFlip",value:function(){var a=this,i=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":i("flipHorizontal"),"data-microtip-position":"top",onClick:function(){return a.cropper.scaleX(-a.cropper.getData().scaleX||-1)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,be.h)("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}},{key:"renderZoomIn",value:function(){var a=this,i=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":i("zoomIn"),"data-microtip-position":"top",onClick:function(){return a.cropper.zoom(.1)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},(0,be.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,be.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),(0,be.h)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}},{key:"renderZoomOut",value:function(){var a=this,i=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":i("zoomOut"),"data-microtip-position":"top",onClick:function(){return a.cropper.zoom(-.1)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,be.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}},{key:"renderCropSquare",value:function(){var a=this,i=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":i("aspectRatioSquare"),"data-microtip-position":"top",onClick:function(){return a.cropper.setAspectRatio(1)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,be.h)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}},{key:"renderCropWidescreen",value:function(){var a=this,i=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":i("aspectRatioLandscape"),"data-microtip-position":"top",onClick:function(){return a.cropper.setAspectRatio(16/9)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),(0,be.h)("path",{fill:"none",d:"M0 0h24v24H0z"})))}},{key:"renderCropWidescreenVertical",value:function(){var a=this,i=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":i("aspectRatioPortrait"),"data-microtip-position":"top",onClick:function(){return a.cropper.setAspectRatio(9/16)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),(0,be.h)("path",{d:"M0 0h24v24H0z",fill:"none"})))}},{key:"render",value:function(){var a=this,i=this.props,o=i.currentImage,u=i.opts,s=u.actions,l=URL.createObjectURL(o.data);return(0,be.h)("div",{className:"uppy-ImageCropper"},(0,be.h)("div",{className:"uppy-ImageCropper-container"},(0,be.h)("img",{className:"uppy-ImageCropper-image",alt:o.name,src:l,ref:function(f){a.imgElement=f}})),(0,be.h)("div",{className:"uppy-ImageCropper-controls"},s.revert&&this.renderRevert(),s.rotate&&this.renderRotate(),s.granularRotate&&this.renderGranularRotate(),s.flip&&this.renderFlip(),s.zoomIn&&this.renderZoomIn(),s.zoomOut&&this.renderZoomOut(),s.cropSquare&&this.renderCropSquare(),s.cropWidescreen&&this.renderCropWidescreen(),s.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}}]),r}(be.Component);HW.exports=qVe});var VW=h(function(Uvt,WW){"use strict";WW.exports={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}}});var JW=h(function(Mvt,XW){"use strict";function ig(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ig=function(r){return typeof r}:ig=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ig(e)}function GW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GW(Object(r),!0).forEach(function(n){EVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AVe(e,t,r){return t&&KW(e.prototype,t),r&&KW(e,r),e}function kVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yq(e,t)}function Yq(e,t){return Yq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Yq(e,t)}function IVe(e){var t=CVe();return function(){var n=ag(e),a;if(t){var i=ag(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return FVe(this,a)}}function FVe(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xVe(e)}function xVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ag(e)}var DVe=Xe(),jVe=(te(),re(ne)),UVe=$W(),MVe={version:"1.3.0"},NVe=VW(),YW=function(e){kVe(r,e);var t=IVe(r);function r(n,a){var i;TVe(this,r),i=t.call(this,n,a),i.save=function(){var l=function(d){var v=i.getPluginState(),m=v.currentImage;i.uppy.setFileState(m.id,{data:d,size:d.size,preview:null});var g=i.uppy.getFile(m.id);i.uppy.emit("thumbnail:request",g),i.setPluginState({currentImage:g}),i.uppy.emit("file-editor:complete",g)},c=i.getPluginState(),f=c.currentImage;i.cropper.getCroppedCanvas(i.opts.cropperOptions.croppedCanvasOptions).toBlob(l,f.type,i.opts.quality)},i.storeCropperInstance=function(l){i.cropper=l},i.selectFile=function(l){i.uppy.emit("file-editor:start",l),i.setPluginState({currentImage:l})},i.id=i.opts.id||"ImageEditor",i.title="Image Editor",i.type="editor",i.defaultLocale=NVe;var o={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},u={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},s={quality:.8};return i.opts=ou(ou(ou({},s),a),{},{actions:ou(ou({},u),a.actions),cropperOptions:ou(ou({},o),a.cropperOptions)}),i.i18nInit(),i}return AVe(r,[{key:"canEditFile",value:function(a){if(!a.type||a.isRemote)return!1;var i=a.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(i)}},{key:"install",value:function(){this.setPluginState({currentImage:null});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.unmount()}},{key:"render",value:function(){var a=this.getPluginState(),i=a.currentImage;return i===null||i.isRemote?null:(0,jVe.h)(UVe,{currentImage:i,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}]),r}(DVe.UIPlugin);YW.VERSION=MVe.version;XW.exports=YW});var ZW=h(function(Nvt,QW){"use strict";QW.exports=JW()});var oV=h(function(Bvt,aV){"use strict";function og(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?og=function(r){return typeof r}:og=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},og(e)}function eV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eV(Object(r),!0).forEach(function(n){BVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zVe(e,t,r){return t&&rV(e.prototype,t),r&&rV(e,r),e}function HVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xq(e,t)}function Xq(e,t){return Xq=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Xq(e,t)}function $Ve(e){var t=VVe();return function(){var n=ug(e),a;if(t){var i=ug(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return WVe(this,a)}}function WVe(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nV(e)}function nV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ug(e){return ug=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(e)}var Jq=(te(),re(ne)),GVe=Xe(),KVe={version:"2.1.1"},iV=function(e){HVe(r,e);var t=$Ve(r);function r(n,a){var i;LVe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"ProgressBar",i.title="Progress Bar",i.type="progressindicator";var o={target:"body",fixed:!1,hideAfterFinish:!0};return i.opts=tV(tV({},o),a),i.render=i.render.bind(nV(i)),i}return zVe(r,[{key:"render",value:function(a){var i=a.totalProgress||0,o=(i===0||i===100)&&this.opts.hideAfterFinish;return(0,Jq.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":o},(0,Jq.h)("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(i,"%")}}),(0,Jq.h)("div",{className:"uppy-ProgressBar-percentage"},i))}},{key:"install",value:function(){var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(GVe.UIPlugin);iV.VERSION=KVe.version;aV.exports=iV});var sV=h(function(Lvt,uV){"use strict";uV.exports=oV()});var sg=h(function(zvt,cV){"use strict";function YVe(e,t){return ZVe(e)||QVe(e,t)||JVe(e,t)||XVe()}function XVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function JVe(e,t){if(!!e){if(typeof e=="string")return lV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lV(e,t)}}function lV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QVe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function ZVe(e){if(Array.isArray(e))return e}var eGe={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function tGe(e){var t=e.split(";",1),r=YVe(t,1);return e=r[0],eGe[e]||null}cV.exports=tGe});var pV=h(function(Hvt,fV){"use strict";function rGe(){var e;return typeof MediaRecorder=="function"&&typeof((e=MediaRecorder.prototype)==null?void 0:e.start)=="function"}fV.exports=rGe});var PV={};Xk(PV,{useCallback:function(){return oGe},useContext:function(){return uGe},useDebugValue:function(){return sGe},useEffect:function(){return nGe},useErrorBoundary:function(){return lGe},useImperativeHandle:function(){return aGe},useLayoutEffect:function(){return wV},useMemo:function(){return Zq},useReducer:function(){return _V},useRef:function(){return iGe},useState:function(){return bV}});function tl(e,t){ve.__h&&ve.__h(Bt,e,el||t),el=0;var r=Bt.__H||(Bt.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function bV(e){return el=1,_V(OV,e)}function _V(e,t,r){var n=tl(uu++,2);return n.t=e,n.__c||(n.__=[r?r(t):OV(void 0,t),function(a){var i=n.t(n.__[0],a);n.__[0]!==i&&(n.__=[i,n.__[1]],n.__c.setState({}))}],n.__c=Bt),n.__}function nGe(e,t){var r=tl(uu++,3);!ve.__s&&tE(r.__H,t)&&(r.__=e,r.__H=t,Bt.__H.__h.push(r))}function wV(e,t){var r=tl(uu++,4);!ve.__s&&tE(r.__H,t)&&(r.__=e,r.__H=t,Bt.__h.push(r))}function iGe(e){return el=5,Zq(function(){return{current:e}},[])}function aGe(e,t,r){el=6,wV(function(){typeof e=="function"?e(t()):e&&(e.current=t())},r==null?r:r.concat(e))}function Zq(e,t){var r=tl(uu++,7);return tE(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function oGe(e,t){return el=8,Zq(function(){return e},t)}function uGe(e){var t=Bt.context[e.__c],r=tl(uu++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(Bt)),t.props.value):e.__}function sGe(e,t){ve.useDebugValue&&ve.useDebugValue(t?t(e):e)}function lGe(e){var t=tl(uu++,10),r=bV();return t.__=e,Bt.componentDidCatch||(Bt.componentDidCatch=function(n){t.__&&t.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function cGe(){var e;for(Qq.sort(function(t,r){return t.__v.__b-r.__v.__b});e=Qq.pop();)if(e.__P)try{e.__H.__h.forEach(lg),e.__H.__h.forEach(eE),e.__H.__h=[]}catch(t){e.__H.__h=[],ve.__e(t,e.__v)}}function fGe(e){var t,r=function(){clearTimeout(n),SV&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);SV&&(t=requestAnimationFrame(r))}function lg(e){var t=Bt,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),Bt=t}function eE(e){var t=Bt;e.__c=e.__(),Bt=t}function tE(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function OV(e,t){return typeof t=="function"?t(e):t}var uu,Bt,dV,el,Qq,hV,vV,yV,mV,gV,SV,RV=Yk(function(){te();el=0,Qq=[],hV=ve.__b,vV=ve.__r,yV=ve.diffed,mV=ve.__c,gV=ve.unmount;ve.__b=function(e){Bt=null,hV&&hV(e)},ve.__r=function(e){vV&&vV(e),uu=0;var t=(Bt=e.__c).__H;t&&(t.__h.forEach(lg),t.__h.forEach(eE),t.__h=[])},ve.diffed=function(e){yV&&yV(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(Qq.push(t)!==1&&dV===ve.requestAnimationFrame||((dV=ve.requestAnimationFrame)||fGe)(cGe)),Bt=null},ve.__c=function(e,t){t.some(function(r){try{r.__h.forEach(lg),r.__h=r.__h.filter(function(n){return!n.__||eE(n)})}catch(n){t.some(function(a){a.__h&&(a.__h=[])}),t=[],ve.__e(n,r.__v)}}),mV&&mV(e,t)},ve.unmount=function(e){gV&&gV(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{lg(n)}catch(a){t=a}}),t&&ve.__e(t,r.__v))};SV=typeof requestAnimationFrame=="function"});var EV=h(function(Wvt,qV){"use strict";var rl=(te(),re(ne));function pGe(e){var t=e.recording,r=e.onStartRecording,n=e.onStopRecording,a=e.i18n;return t?(0,rl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:a("stopAudioRecording"),"aria-label":a("stopAudioRecording"),onClick:n,"data-uppy-super-focusable":!0},(0,rl.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,rl.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,rl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:a("startAudioRecording"),"aria-label":a("startAudioRecording"),onClick:r,"data-uppy-super-focusable":!0},(0,rl.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},(0,rl.h)("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}qV.exports=pGe});var AV=h(function(Vvt,TV){"use strict";function dGe(e){return"".concat(Math.floor(e/60),":").concat(String(e%60).padStart(2,0))}TV.exports=dGe});var IV=h(function(Gvt,kV){"use strict";var hGe=(te(),re(ne)),vGe=AV();function yGe(e){var t=e.recordingLengthSeconds,r=e.i18n,n=vGe(t);return(0,hGe.h)("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}kV.exports=yGe});var xV=h(function(Kvt,FV){"use strict";var rE=(te(),re(ne));FV.exports=function(e){var t=e.currentDeviceId,r=e.audioSources,n=e.onChangeSource;return(0,rE.h)("div",{className:"uppy-Audio-videoSource"},(0,rE.h)("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:function(i){n(i.target.value)}},r.map(function(a){return(0,rE.h)("option",{key:a.deviceId,value:a.deviceId,selected:a.deviceId===t},a.label)})))}});var UV=h(function(Yvt,jV){"use strict";function mGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gGe(e,t,r){return t&&CV(e.prototype,t),r&&CV(e,r),e}function bGe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var _Ge=0;function wGe(e){return"__private_"+_Ge+++"_"+e}function DV(e){return typeof e=="function"}function yp(e){return DV(e)?e():e}var nE=wGe("draw"),SGe=function(){function e(t,r){var n=this;mGe(this,e),r===void 0&&(r={}),Object.defineProperty(this,nE,{writable:!0,value:function(){return n.draw()}});var a=r.canvas||{},i=r.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=t,this.width=yp(a.width)||this.canvas.width,this.height=yp(a.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=yp(i.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=yp(i.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=yp(i.lineWidth)||1,this.onDrawFrame=DV(r.onDrawFrame)?r.onDrawFrame:function(){}}return gGe(e,[{key:"addSource",value:function(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}},{key:"draw",value:function(){var r=this.analyser,n=this.dataArray,a=this.bufferLength,i=this.canvasContext,o=this.width,u=this.height;r&&r.getByteTimeDomainData(n),i.fillRect(0,0,o,u),i.beginPath();var s=o*1/a,l=0;a||i.moveTo(0,this.height/2);for(var c=0;c<a;c++){var f=n[c]/128,p=f*(u/2);c===0?i.moveTo(l,p):i.lineTo(l,p),l+=s}i.lineTo(o,u/2),i.stroke(),this.onDrawFrame(this),requestAnimationFrame(bGe(this,nE)[nE])}}]),e}();jV.exports=SGe});var NV=h(function(Xvt,MV){"use strict";var iE=(te(),re(ne));function OGe(e){var t=e.onSubmit,r=e.i18n;return(0,iE.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},(0,iE.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,iE.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}MV.exports=OGe});var LV=h(function(Jvt,BV){"use strict";var mp=(te(),re(ne));function PGe(e){var t=e.onDiscard,r=e.i18n;return(0,mp.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},(0,mp.h)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},(0,mp.h)("g",{fill:"#FFF",fillRule:"evenodd"},(0,mp.h)("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),(0,mp.h)("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}BV.exports=PGe});var HV=h(function(Qvt,zV){"use strict";var on=(te(),re(ne)),cg=(RV(),re(PV)),RGe=EV(),qGe=IV(),EGe=xV(),TGe=UV(),AGe=NV(),kGe=LV();function IGe(e){var t=e.stream,r=e.recordedAudio,n=e.onStop,a=e.recording,i=e.supportsRecording,o=e.audioSources,u=e.showAudioSourceDropdown,s=e.onSubmit,l=e.i18n,c=e.onStartRecording,f=e.onStopRecording,p=e.onDiscardRecordedAudio,d=e.recordingLengthSeconds,v=(0,cg.useRef)(null),m=(0,cg.useRef)(null);(0,cg.useEffect)(function(){return function(){m.current=null,n()}},[n]),(0,cg.useEffect)(function(){if(!r&&(m.current=new TGe(v.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),m.current.draw(),t)){var O=new AudioContext,T=O.createMediaStreamSource(t);m.current.addSource(T)}},[r,t]);var g=r!=null,w=!g&&i,b=u&&!g&&o&&o.length>1;return(0,on.h)("div",{className:"uppy-Audio-container"},(0,on.h)("div",{className:"uppy-Audio-audioContainer"},g?(0,on.h)("audio",{className:"uppy-Audio-player",controls:!0,src:r}):(0,on.h)("canvas",{ref:v,className:"uppy-Audio-canvas"})),(0,on.h)("div",{className:"uppy-Audio-footer"},(0,on.h)("div",{className:"uppy-Audio-audioSourceContainer"},b?EGe(e):null),(0,on.h)("div",{className:"uppy-Audio-buttonContainer"},w&&(0,on.h)(RGe,{recording:a,onStartRecording:c,onStopRecording:f,i18n:l}),g&&(0,on.h)(AGe,{onSubmit:s,i18n:l}),g&&(0,on.h)(kGe,{onDiscard:p,i18n:l})),(0,on.h)("div",{className:"uppy-Audio-recordingLength"},!g&&(0,on.h)(qGe,{recordingLengthSeconds:d,i18n:l}))))}zV.exports=IGe});var WV=h(function(Zvt,$V){"use strict";var fg=(te(),re(ne));$V.exports=function(e){var t=e.icon,r=e.hasAudio,n=e.i18n;return(0,fg.h)("div",{className:"uppy-Audio-permissons"},(0,fg.h)("div",{className:"uppy-Audio-permissonsIcon"},t()),(0,fg.h)("h1",{className:"uppy-Audio-title"},n(r?"allowAudioAccessTitle":"noAudioTitle")),(0,fg.h)("p",null,n(r?"allowAudioAccessDescription":"noAudioDescription")))}});var GV=h(function(eyt,VV){"use strict";VV.exports={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}}});var ZV=h(function(tyt,QV){"use strict";function pg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pg=function(r){return typeof r}:pg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pg(e)}function KV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KV(Object(r),!0).forEach(function(n){xGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xGe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function CGe(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){YV(i,n,a,o,u,"next",s)}function u(s){YV(i,n,a,o,u,"throw",s)}o(void 0)})}}function DGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jGe(e,t,r){return t&&XV(e.prototype,t),r&&XV(e,r),e}function UGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},aE(e,t)}function MGe(e){var t=BGe();return function(){var n=dg(e),a;if(t){var i=dg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return NGe(this,a)}}function NGe(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}function fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function dg(e){return dg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(e)}var nl=(te(),re(ne)),LGe=Xe();function oE(){return oE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oE.apply(this,arguments)}function oe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var zGe=0;function Lt(e){return"__private_"+zGe+++"_"+e}var HGe=sg(),$Ge=pV(),WGe=HV(),VGe=WV(),GGe=GV(),KGe={version:"0.3.2"},zt=Lt("stream"),Ji=Lt("audioActive"),nt=Lt("recordingChunks"),it=Lt("recorder"),Qi=Lt("capturedMediaFile"),Ht=Lt("mediaDevices"),gp=Lt("supportsUserMedia"),uE=Lt("hasAudioCheck"),su=Lt("start"),sE=Lt("startRecording"),bp=Lt("stopRecording"),lE=Lt("discardRecordedAudio"),cE=Lt("submit"),Zi=Lt("stop"),fE=Lt("getAudio"),pE=Lt("changeSource"),lu=Lt("updateSources"),JV=function(e){UGe(r,e);var t=MGe(r);function r(n,a){var i;DGe(this,r);var o;return i=t.call(this,n,a),o=fe(i),Object.defineProperty(fe(i),fE,{value:XGe}),Object.defineProperty(fe(i),uE,{value:YGe}),Object.defineProperty(fe(i),zt,{writable:!0,value:null}),Object.defineProperty(fe(i),Ji,{writable:!0,value:!1}),Object.defineProperty(fe(i),nt,{writable:!0,value:null}),Object.defineProperty(fe(i),it,{writable:!0,value:null}),Object.defineProperty(fe(i),Qi,{writable:!0,value:null}),Object.defineProperty(fe(i),Ht,{writable:!0,value:null}),Object.defineProperty(fe(i),gp,{writable:!0,value:null}),Object.defineProperty(fe(i),su,{writable:!0,value:function(s){if(s===void 0&&(s=null),!oe(o,gp)[gp])return Promise.reject(new Error("Microphone access not supported"));oe(o,Ji)[Ji]=!0,oe(o,uE)[uE]().then(function(l){return o.setPluginState({hasAudio:l}),oe(o,Ht)[Ht].getUserMedia({audio:!0}).then(function(c){oe(o,zt)[zt]=c;var f=null,p=c.getAudioTracks();!s||!s.deviceId?f=p[0].getSettings().deviceId:p.forEach(function(d){d.getSettings().deviceId===s.deviceId&&(f=d.getSettings().deviceId)}),oe(o,lu)[lu](),o.setPluginState({currentDeviceId:f,audioReady:!0})}).catch(function(c){o.setPluginState({audioReady:!1,cameraError:c}),o.uppy.info(c.message,"error")})})}}),Object.defineProperty(fe(i),sE,{writable:!0,value:function(){oe(fe(i),it)[it]=new MediaRecorder(oe(fe(i),zt)[zt]),oe(fe(i),nt)[nt]=[];var s=!1;oe(fe(i),it)[it].addEventListener("dataavailable",function(l){oe(fe(i),nt)[nt].push(l.data);var c=i.uppy.opts.restrictions;if(oe(fe(i),nt)[nt].length>1&&c.maxFileSize!=null&&!s){var f=oe(fe(i),nt)[nt].reduce(function(m,g){return m+g.size},0),p=(f-oe(fe(i),nt)[nt][0].size)/(oe(fe(i),nt)[nt].length-1),d=p*3,v=Math.max(0,c.maxFileSize-d);f>v&&(s=!0,i.uppy.info(i.i18n("recordingStoppedMaxSize"),"warning",4e3),oe(fe(i),bp)[bp]())}}),oe(fe(i),it)[it].start(500),i.recordingLengthTimer=setInterval(function(){var l=i.getPluginState().recordingLengthSeconds;i.setPluginState({recordingLengthSeconds:l+1})},1e3),i.setPluginState({isRecording:!0})}}),Object.defineProperty(fe(i),bp,{writable:!0,value:function(){var s=new Promise(function(l){oe(fe(i),it)[it].addEventListener("stop",function(){l()}),oe(fe(i),it)[it].stop(),clearInterval(i.recordingLengthTimer),i.setPluginState({recordingLengthSeconds:0})});return s.then(function(){return i.setPluginState({isRecording:!1}),oe(fe(i),fE)[fE]()}).then(function(l){try{oe(fe(i),Qi)[Qi]=l,i.setPluginState({recordedAudio:URL.createObjectURL(l.data)})}catch(c){c.isRestriction||i.uppy.log(c)}}).then(function(){oe(fe(i),nt)[nt]=null,oe(fe(i),it)[it]=null},function(l){throw oe(fe(i),nt)[nt]=null,oe(fe(i),it)[it]=null,l})}}),Object.defineProperty(fe(i),lE,{writable:!0,value:function(){i.setPluginState({recordedAudio:null}),oe(fe(i),Qi)[Qi]=null}}),Object.defineProperty(fe(i),cE,{writable:!0,value:function(){try{oe(fe(i),Qi)[Qi]&&i.uppy.addFile(oe(fe(i),Qi)[Qi])}catch(s){s.isRestriction||i.uppy.log(s,"error")}}}),Object.defineProperty(fe(i),Zi,{writable:!0,value:function(){var u=CGe(regeneratorRuntime.mark(function l(){var c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(oe(fe(i),zt)[zt]&&(c=oe(fe(i),zt)[zt].getAudioTracks(),c.forEach(function(d){return d.stop()})),!oe(fe(i),it)[it]){p.next=4;break}return p.next=4,new Promise(function(d){oe(fe(i),it)[it].addEventListener("stop",d,{once:!0}),oe(fe(i),it)[it].stop(),clearInterval(i.recordingLengthTimer)});case 4:oe(fe(i),nt)[nt]=null,oe(fe(i),it)[it]=null,oe(fe(i),Ji)[Ji]=!1,oe(fe(i),zt)[zt]=null,i.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return p.stop()}},l)}));function s(){return u.apply(this,arguments)}return s}()}),Object.defineProperty(fe(i),pE,{writable:!0,value:function(s){oe(fe(i),Zi)[Zi](),oe(fe(i),su)[su]({deviceId:s})}}),Object.defineProperty(fe(i),lu,{writable:!0,value:function(){oe(fe(i),Ht)[Ht].enumerateDevices().then(function(s){i.setPluginState({audioSources:s.filter(function(l){return l.kind==="audioinput"})})})}}),oe(fe(i),Ht)[Ht]=navigator.mediaDevices,oe(fe(i),gp)[gp]=oe(fe(i),Ht)[Ht]!=null,i.id=i.opts.id||"Audio",i.type="acquirer",i.icon=function(){return(0,nl.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},(0,nl.h)("g",{fill:"none","fill-rule":"evenodd"},(0,nl.h)("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),(0,nl.h)("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))},i.defaultLocale=GGe,i.opts=FGe({},a),i.i18nInit(),i.title=i.i18n("pluginNameAudio"),i.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null}),i}return jGe(r,[{key:"render",value:function(){oe(this,Ji)[Ji]||oe(this,su)[su]();var a=this.getPluginState();return!a.audioReady||!a.hasAudio?(0,nl.h)(VGe,{icon:this.icon,i18n:this.i18n,hasAudio:a.hasAudio}):(0,nl.h)(WGe,oE({},a,{audioActive:oe(this,Ji)[Ji],onChangeSource:oe(this,pE)[pE],onStartRecording:oe(this,sE)[sE],onStopRecording:oe(this,bp)[bp],onDiscardRecordedAudio:oe(this,lE)[lE],onSubmit:oe(this,cE)[cE],onStop:oe(this,Zi)[Zi],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:$Ge(),recording:a.isRecording,stream:oe(this,zt)[zt]}))}},{key:"install",value:function(){var a=this;this.setPluginState({audioReady:!1,recordingLengthSeconds:0});var i=this.opts.target;i&&this.mount(i,this),oe(this,Ht)[Ht]&&(oe(this,lu)[lu](),oe(this,Ht)[Ht].ondevicechange=function(){if(oe(a,lu)[lu](),oe(a,zt)[zt]){var o=!0,u=a.getPluginState(),s=u.audioSources,l=u.currentDeviceId;s.forEach(function(c){l===c.deviceId&&(o=!1)}),o&&(oe(a,Zi)[Zi](),oe(a,su)[su]())}})}},{key:"uninstall",value:function(){oe(this,zt)[zt]&&oe(this,Zi)[Zi](),this.unmount()}}]),r}(LGe.UIPlugin);function YGe(){return oe(this,Ht)[Ht]?oe(this,Ht)[Ht].enumerateDevices().then(function(e){return e.some(function(t){return t.kind==="audioinput"})}):Promise.resolve(!1)}function XGe(){var e=oe(this,nt)[nt].find(function(i){var o;return((o=i.type)==null?void 0:o.length)>0}).type,t=HGe(e);if(!t)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(e,'"')));var r="audio-".concat(Date.now(),".").concat(t),n=new Blob(oe(this,nt)[nt],{type:e}),a={source:this.id,name:r,data:new Blob([n],{type:e}),type:e};return Promise.resolve(a)}JV.VERSION=KGe.version;QV.exports=JV});var tG=h(function(ryt,eG){"use strict";eG.exports=ZV()});var nG=h(function(nyt,rG){"use strict";rG.exports={strings:{pluginNameBox:"Box"}}});var sG=h(function(iyt,uG){"use strict";function hg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hg=function(r){return typeof r}:hg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hg(e)}function JGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QGe(e,t,r){return t&&iG(e.prototype,t),r&&iG(e,r),e}function ZGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},dE(e,t)}function eKe(e){var t=rKe();return function(){var n=yg(e),a;if(t){var i=yg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return tKe(this,a)}}function tKe(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vg(e)}function vg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(e)}var nKe=Xe(),aG=Xt(),iKe=ti(),il=(te(),re(ne)),aKe=nG(),oKe={version:"1.0.7"},oG=function(e){ZGe(r,e);var t=eKe(r);function r(n,a){var i;return JGe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"Box",aG.Provider.initPlugin(vg(i),a),i.title=i.opts.title||"Box",i.icon=function(){return(0,il.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,il.h)("g",{fill:"none",fillRule:"evenodd"},(0,il.h)("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),(0,il.h)("g",{fill:"#fff",fillRule:"nonzero"},(0,il.h)("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),(0,il.h)("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"}))))},i.provider=new aG.Provider(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionKeysParams:i.opts.companionKeysParams,companionCookiesRule:i.opts.companionCookiesRule,provider:"box",pluginId:i.id}),i.defaultLocale=aKe,i.i18nInit(),i.title=i.i18n("pluginNameBox"),i.onFirstRender=i.onFirstRender.bind(vg(i)),i.render=i.render.bind(vg(i)),i}return QGe(r,[{key:"install",value:function(){this.view=new iKe.ProviderViews(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return this.view.getFolder()}},{key:"render",value:function(a){return this.view.render(a)}}]),r}(nKe.UIPlugin);oG.VERSION=oKe.version;uG.exports=oG});var hE=h(function(ayt,lG){"use strict";lG.exports=sG()});var fG=h(function(oyt,cG){"use strict";cG.exports={strings:{pluginNameDropbox:"Dropbox"}}});var yG=h(function(uyt,vG){"use strict";function mg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mg=function(r){return typeof r}:mg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mg(e)}function uKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sKe(e,t,r){return t&&pG(e.prototype,t),r&&pG(e,r),e}function lKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vE(e,t)}function vE(e,t){return vE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},vE(e,t)}function cKe(e){var t=pKe();return function(){var n=bg(e),a;if(t){var i=bg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return fKe(this,a)}}function fKe(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gg(e)}function gg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}var dKe=Xe(),dG=Xt(),hKe=ti(),_g=(te(),re(ne)),vKe={version:"2.0.7"},yKe=fG(),hG=function(e){lKe(r,e);var t=cKe(r);function r(n,a){var i;return uKe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"Dropbox",dG.Provider.initPlugin(gg(i),a),i.title=i.opts.title||"Dropbox",i.icon=function(){return(0,_g.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,_g.h)("g",{fill:"none",fillRule:"evenodd"},(0,_g.h)("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),(0,_g.h)("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"})))},i.provider=new dG.Provider(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionKeysParams:i.opts.companionKeysParams,companionCookiesRule:i.opts.companionCookiesRule,provider:"dropbox",pluginId:i.id}),i.defaultLocale=yKe,i.i18nInit(),i.title=i.i18n("pluginNameDropbox"),i.onFirstRender=i.onFirstRender.bind(gg(i)),i.render=i.render.bind(gg(i)),i}return sKe(r,[{key:"install",value:function(){this.view=new hKe.ProviderViews(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(a){return this.view.render(a)}}]),r}(dKe.UIPlugin);hG.VERSION=vKe.version;vG.exports=hG});var yE=h(function(syt,mG){"use strict";mG.exports=yG()});var bG=h(function(lyt,gG){"use strict";gG.exports={strings:{pluginNameFacebook:"Facebook"}}});var PG=h(function(cyt,OG){"use strict";function wg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wg=function(r){return typeof r}:wg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wg(e)}function mKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gKe(e,t,r){return t&&_G(e.prototype,t),r&&_G(e,r),e}function bKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},mE(e,t)}function _Ke(e){var t=SKe();return function(){var n=Og(e),a;if(t){var i=Og(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return wKe(this,a)}}function wKe(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sg(e)}function Sg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}var OKe=Xe(),wG=Xt(),PKe=ti(),Pg=(te(),re(ne)),RKe={version:"2.0.7"},qKe=bG(),SG=function(e){bKe(r,e);var t=_Ke(r);function r(n,a){var i;return mKe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"Facebook",wG.Provider.initPlugin(Sg(i),a),i.title=i.opts.title||"Facebook",i.icon=function(){return(0,Pg.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Pg.h)("g",{fill:"none",fillRule:"evenodd"},(0,Pg.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),(0,Pg.h)("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"})))},i.provider=new wG.Provider(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionKeysParams:i.opts.companionKeysParams,companionCookiesRule:i.opts.companionCookiesRule,provider:"facebook",pluginId:i.id}),i.defaultLocale=qKe,i.i18nInit(),i.title=i.i18n("pluginNameFacebook"),i.onFirstRender=i.onFirstRender.bind(Sg(i)),i.render=i.render.bind(Sg(i)),i}return gKe(r,[{key:"install",value:function(){this.view=new PKe.ProviderViews(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(a){var i={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(i.viewType="grid",i.showFilter=!1,i.showTitles=!1),this.view.render(a,i)}}]),r}(OKe.UIPlugin);SG.VERSION=RKe.version;OG.exports=SG});var gE=h(function(fyt,RG){"use strict";RG.exports=PG()});var TG=h(function(pyt,EG){"use strict";function Rg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rg=function(r){return typeof r}:Rg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rg(e)}function EKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TKe(e,t,r){return t&&qG(e.prototype,t),r&&qG(e,r),e}function qg(){return typeof Reflect!="undefined"&&Reflect.get?qg=Reflect.get:qg=function(t,r,n){var a=AKe(t,r);if(!!a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},qg.apply(this,arguments)}function AKe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=al(e),e!==null););return e}function kKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bE(e,t)}function bE(e,t){return bE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},bE(e,t)}function IKe(e){var t=CKe();return function(){var n=al(e),a;if(t){var i=al(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return FKe(this,a)}}function FKe(e,t){if(t&&(Rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xKe(e)}function xKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function al(e){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},al(e)}var DKe=ti(),jKe=function(e){kKe(r,e);var t=IKe(r);function r(){return EKe(this,r),t.apply(this,arguments)}return TKe(r,[{key:"toggleCheckbox",value:function(a,i){a.stopPropagation(),a.preventDefault(),i.custom.isSharedDrive||qg(al(r.prototype),"toggleCheckbox",this).call(this,a,i)}}]),r}(DKe.ProviderViews);EG.exports=jKe});var kG=h(function(dyt,AG){"use strict";AG.exports={strings:{pluginNameGoogleDrive:"Google Drive"}}});var DG=h(function(hyt,CG){"use strict";function Eg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eg=function(r){return typeof r}:Eg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Eg(e)}function UKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MKe(e,t,r){return t&&IG(e.prototype,t),r&&IG(e,r),e}function NKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_E(e,t)}function _E(e,t){return _E=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},_E(e,t)}function BKe(e){var t=zKe();return function(){var n=Ag(e),a;if(t){var i=Ag(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return LKe(this,a)}}function LKe(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tg(e)}function Tg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ag(e){return Ag=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(e)}var HKe=Xe(),FG=Xt(),kg=(te(),re(ne)),$Ke={version:"2.1.1"},WKe=TG(),VKe=kG(),xG=function(e){NKe(r,e);var t=BKe(r);function r(n,a){var i;return UKe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"GoogleDrive",i.title=i.opts.title||"Google Drive",FG.Provider.initPlugin(Tg(i),a),i.title=i.opts.title||"Google Drive",i.icon=function(){return(0,kg.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,kg.h)("g",{fill:"none",fillRule:"evenodd"},(0,kg.h)("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),(0,kg.h)("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})))},i.provider=new FG.Provider(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionKeysParams:i.opts.companionKeysParams,companionCookiesRule:i.opts.companionCookiesRule,provider:"drive",pluginId:i.id}),i.defaultLocale=VKe,i.i18nInit(),i.title=i.i18n("pluginNameGoogleDrive"),i.onFirstRender=i.onFirstRender.bind(Tg(i)),i.render=i.render.bind(Tg(i)),i}return MKe(r,[{key:"install",value:function(){this.view=new WKe(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}},{key:"render",value:function(a){return this.view.render(a)}}]),r}(HKe.UIPlugin);xG.VERSION=$Ke.version;CG.exports=xG});var wE=h(function(vyt,jG){"use strict";jG.exports=DG()});var MG=h(function(yyt,UG){"use strict";UG.exports={strings:{pluginNameInstagram:"Instagram"}}});var HG=h(function(myt,zG){"use strict";function Ig(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ig=function(r){return typeof r}:Ig=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ig(e)}function GKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KKe(e,t,r){return t&&NG(e.prototype,t),r&&NG(e,r),e}function YKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SE(e,t)}function SE(e,t){return SE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},SE(e,t)}function XKe(e){var t=QKe();return function(){var n=xg(e),a;if(t){var i=xg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return JKe(this,a)}}function JKe(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fg(e)}function Fg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xg(e)}var Cg=(te(),re(ne)),ZKe=Xe(),BG=Xt(),eYe=ti(),tYe={version:"2.1.1"},rYe=MG(),LG=function(e){YKe(r,e);var t=XKe(r);function r(n,a){var i;return GKe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"Instagram",BG.Provider.initPlugin(Fg(i),a),i.icon=function(){return(0,Cg.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Cg.h)("g",{fill:"none",fillRule:"evenodd"},(0,Cg.h)("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),(0,Cg.h)("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},i.defaultLocale=rYe,i.i18nInit(),i.title=i.i18n("pluginNameInstagram"),i.provider=new BG.Provider(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionKeysParams:i.opts.companionKeysParams,companionCookiesRule:i.opts.companionCookiesRule,provider:"instagram",pluginId:i.id}),i.onFirstRender=i.onFirstRender.bind(Fg(i)),i.render=i.render.bind(Fg(i)),i}return KKe(r,[{key:"install",value:function(){this.view=new eYe.ProviderViews(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}},{key:"render",value:function(a){return this.view.render(a)}}]),r}(ZKe.UIPlugin);LG.VERSION=tYe.version;zG.exports=LG});var OE=h(function(gyt,$G){"use strict";$G.exports=HG()});var VG=h(function(byt,WG){"use strict";WG.exports={strings:{pluginNameOneDrive:"OneDrive"}}});var JG=h(function(_yt,XG){"use strict";function Dg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dg=function(r){return typeof r}:Dg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dg(e)}function nYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iYe(e,t,r){return t&&GG(e.prototype,t),r&&GG(e,r),e}function aYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PE(e,t)}function PE(e,t){return PE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},PE(e,t)}function oYe(e){var t=sYe();return function(){var n=Ug(e),a;if(t){var i=Ug(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return uYe(this,a)}}function uYe(e,t){if(t&&(Dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jg(e)}function jg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}var ol=(te(),re(ne)),lYe=Xe(),KG=Xt(),cYe=ti(),fYe={version:"2.1.1"},pYe=VG(),YG=function(e){aYe(r,e);var t=oYe(r);function r(n,a){var i;return nYe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"OneDrive",KG.Provider.initPlugin(jg(i),a),i.title=i.opts.title||"OneDrive",i.icon=function(){return(0,ol.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,ol.h)("g",{fill:"none",fillRule:"evenodd"},(0,ol.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),(0,ol.h)("g",{fill:"#FFF",fillRule:"nonzero"},(0,ol.h)("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),(0,ol.h)("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))))},i.provider=new KG.Provider(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionCookiesRule:i.opts.companionCookiesRule,provider:"onedrive",pluginId:i.id}),i.defaultLocale=pYe,i.i18nInit(),i.title=i.i18n("pluginNameOneDrive"),i.onFirstRender=i.onFirstRender.bind(jg(i)),i.render=i.render.bind(jg(i)),i}return iYe(r,[{key:"install",value:function(){this.view=new cYe.ProviderViews(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(a){return this.view.render(a)}}]),r}(lYe.UIPlugin);YG.VERSION=fYe.version;XG.exports=YG});var RE=h(function(wyt,QG){"use strict";QG.exports=JG()});var iK=h(function(Syt,nK){"use strict";function Mg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mg=function(r){return typeof r}:Mg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mg(e)}function dYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hYe(e,t,r){return t&&ZG(e.prototype,t),r&&ZG(e,r),e}function vYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},qE(e,t)}function yYe(e){var t=gYe();return function(){var n=Ng(e),a;if(t){var i=Ng(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return mYe(this,a)}}function mYe(e,t){if(t&&(Mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eK(e)}function eK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(e)}var Bg=(te(),re(ne)),bYe=Xe(),tK=Xt(),_Ye=ti(),wYe={version:"2.1.0"},rK=function(e){vYe(r,e);var t=yYe(r);function r(n,a){var i;if(dYe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"Unsplash",i.title=i.opts.title||"Unsplash",tK.Provider.initPlugin(eK(i),a,{}),i.icon=function(){return(0,Bg.h)("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},(0,Bg.h)("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),(0,Bg.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),(0,Bg.h)("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"}))},!i.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return i.hostname=i.opts.companionUrl,i.provider=new tK.SearchProvider(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionCookiesRule:i.opts.companionCookiesRule,provider:"unsplash",pluginId:i.id}),i}return hYe(r,[{key:"install",value:function(){this.view=new _Ye.SearchProviderViews(this,{provider:this.provider,viewType:"unsplash"});var a=this.opts.target;a&&this.mount(a,this)}},{key:"onFirstRender",value:function(){}},{key:"render",value:function(a){return this.view.render(a)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(bYe.UIPlugin);rK.VERSION=wYe.version;nK.exports=rK});var EE=h(function(Oyt,aK){"use strict";aK.exports=iK()});var sK=h(function(Pyt,uK){"use strict";function Lg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lg=function(r){return typeof r}:Lg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lg(e)}function SYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OYe(e,t,r){return t&&oK(e.prototype,t),r&&oK(e,r),e}function PYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TE(e,t)}function TE(e,t){return TE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},TE(e,t)}function RYe(e){var t=EYe();return function(){var n=zg(e),a;if(t){var i=zg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return qYe(this,a)}}function qYe(e,t){if(t&&(Lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AE(e)}function AE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(e)}var Hg=(te(),re(ne)),TYe=function(e){PYe(r,e);var t=RYe(r);function r(n){var a;return SYe(this,r),a=t.call(this,n),a.handleKeyPress=a.handleKeyPress.bind(AE(a)),a.handleClick=a.handleClick.bind(AE(a)),a}return OYe(r,[{key:"componentDidMount",value:function(){this.input.value=""}},{key:"handleKeyPress",value:function(a){var i=this.props.addFile;a.keyCode===13&&i(this.input.value)}},{key:"handleClick",value:function(){var a=this.props.addFile;a(this.input.value)}},{key:"render",value:function(){var a=this,i=this.props.i18n;return(0,Hg.h)("div",{className:"uppy-Url"},(0,Hg.h)("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":i("enterUrlToImport"),placeholder:i("enterUrlToImport"),onKeyUp:this.handleKeyPress,ref:function(u){a.input=u},"data-uppy-super-focusable":!0}),(0,Hg.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:this.handleClick},i("import")))}}]),r}(Hg.Component);uK.exports=TYe});var cK=h(function(Ryt,lK){"use strict";var AYe=In();function kYe(e,t,r){var n=AYe(e.items),a;switch(t){case"paste":{var i=n.some(function(o){return o.kind==="file"});if(i)return;a=n.filter(function(o){return o.kind==="string"&&o.type==="text/plain"});break}case"drop":{a=n.filter(function(o){return o.kind==="string"&&o.type==="text/uri-list"});break}default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(t))}a.forEach(function(o){o.getAsString(function(u){return r(u)})})}lK.exports=kYe});var pK=h(function(qyt,fK){"use strict";fK.exports={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}}});var bK=h(function(Eyt,gK){"use strict";function $g(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$g=function(r){return typeof r}:$g=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$g(e)}function dK(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function IYe(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){dK(i,n,a,o,u,"next",s)}function u(s){dK(i,n,a,o,u,"throw",s)}o(void 0)})}}function hK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hK(Object(r),!0).forEach(function(n){FYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FYe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CYe(e,t,r){return t&&yK(e.prototype,t),r&&yK(e,r),e}function DYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kE(e,t)}function kE(e,t){return kE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},kE(e,t)}function jYe(e){var t=MYe();return function(){var n=Wg(e),a;if(t){var i=Wg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return UYe(this,a)}}function UYe(e,t){if(t&&($g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _p(e)}function _p(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}var ul=(te(),re(ne)),NYe=Xe(),BYe=Xt(),LYe=In(),zYe=sK(),mK=cK(),HYe={version:"2.2.0"},$Ye=pK();function WYe(){return(0,ul.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,ul.h)("g",{fill:"none",fillRule:"evenodd"},(0,ul.h)("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),(0,ul.h)("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}function VYe(e){var t=/^[a-z0-9]+:\/\//,r="http://";return t.test(e)?e:r+e}function GYe(e){var t=LYe(e.dataTransfer.items),r=t.filter(function(n){return n.kind==="string"&&n.type==="text/uri-list"});return r.length>0}function KYe(e){if(!e)return!1;var t=e.match(/^([a-z0-9]+):\/\//)[1];return!(t!=="http"&&t!=="https")}function YYe(e){var t=new URL(e),r=t.pathname;return r.substring(r.lastIndexOf("/")+1)}var sl=function(e){DYe(r,e);var t=jYe(r);function r(n,a){var i;xYe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"Url",i.title=i.opts.title||"Link",i.type="acquirer",i.icon=function(){return(0,ul.h)(WYe,null)},i.defaultLocale=$Ye;var o={};if(i.opts=vK(vK({},o),a),i.i18nInit(),i.hostname=i.opts.companionUrl,!i.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return i.getMeta=i.getMeta.bind(_p(i)),i.addFile=i.addFile.bind(_p(i)),i.handleRootDrop=i.handleRootDrop.bind(_p(i)),i.handleRootPaste=i.handleRootPaste.bind(_p(i)),i.client=new BYe.RequestClient(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionCookiesRule:i.opts.companionCookiesRule}),i}return CYe(r,[{key:"getMeta",value:function(a){var i=this;return this.client.post("url/meta",{url:a}).then(function(o){if(o.error)throw i.uppy.log("[URL] Error:"),i.uppy.log(o.error),new Error("Failed to fetch the file");return o})}},{key:"addFile",value:function(){var n=IYe(regeneratorRuntime.mark(function i(o,u){var s,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(u===void 0&&(u=void 0),s=this.addProtocolToURL(o),this.checkIfCorrectURL(s)){p.next=6;break}return this.uppy.log("[URL] Incorrect URL entered: ".concat(s)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3),p.abrupt("return",void 0);case 6:return p.prev=6,p.next=9,this.getMeta(s);case 9:return l=p.sent,c={meta:u,source:this.id,name:this.getFileNameFromUrl(s),type:l.type,data:{size:l.size},isRemote:!0,body:{url:s},remote:{companionUrl:this.opts.companionUrl,url:"".concat(this.hostname,"/url/get"),body:{fileId:s,url:s},providerOptions:this.client.opts}},this.uppy.log("[Url] Adding remote file"),p.prev=12,p.abrupt("return",this.uppy.addFile(c));case 16:return p.prev=16,p.t0=p.catch(12),p.t0.isRestriction||this.uppy.log(p.t0),p.abrupt("return",p.t0);case 20:p.next=27;break;case 22:return p.prev=22,p.t1=p.catch(6),this.uppy.log(p.t1),this.uppy.info({message:this.i18n("failedToFetch"),details:p.t1},"error",4e3),p.abrupt("return",p.t1);case 27:case"end":return p.stop()}},i,this,[[6,22],[12,16]])}));function a(i,o){return n.apply(this,arguments)}return a}()},{key:"handleRootDrop",value:function(a){var i=this;mK(a.dataTransfer,"drop",function(o){i.uppy.log("[URL] Adding file from dropped url: ".concat(o)),i.addFile(o)})}},{key:"handleRootPaste",value:function(a){var i=this;mK(a.clipboardData,"paste",function(o){i.uppy.log("[URL] Adding file from pasted url: ".concat(o)),i.addFile(o)})}},{key:"render",value:function(){return(0,ul.h)(zYe,{i18n:this.i18n,addFile:this.addFile})}},{key:"install",value:function(){var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(NYe.UIPlugin);sl.VERSION=HYe.version;gK.exports=sl;sl.prototype.addProtocolToURL=VYe;sl.prototype.canHandleRootDrop=GYe;sl.prototype.checkIfCorrectURL=KYe;sl.prototype.getFileNameFromUrl=YYe});var IE=h(function(Tyt,_K){"use strict";_K.exports=bK()});var SK=h(function(Ayt,wK){"use strict";wK.exports={strings:{pluginNameZoom:"Zoom"}}});var EK=h(function(kyt,qK){"use strict";function Vg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vg=function(r){return typeof r}:Vg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vg(e)}function XYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JYe(e,t,r){return t&&OK(e.prototype,t),r&&OK(e,r),e}function QYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FE(e,t)}function FE(e,t){return FE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},FE(e,t)}function ZYe(e){var t=tXe();return function(){var n=Kg(e),a;if(t){var i=Kg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return eXe(this,a)}}function eXe(e,t){if(t&&(Vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gg(e)}function Gg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}var wp=(te(),re(ne)),rXe=Xe(),PK=Xt(),nXe=ti(),iXe={version:"1.1.1"},aXe=SK(),RK=function(e){QYe(r,e);var t=ZYe(r);function r(n,a){var i;return XYe(this,r),i=t.call(this,n,a),i.id=i.opts.id||"Zoom",PK.Provider.initPlugin(Gg(i),a),i.title=i.opts.title||"Zoom",i.icon=function(){return(0,wp.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,wp.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),(0,wp.h)("g",{fill:"none",fillRule:"evenodd"},(0,wp.h)("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),(0,wp.h)("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}})))},i.provider=new PK.Provider(n,{companionUrl:i.opts.companionUrl,companionHeaders:i.opts.companionHeaders,companionKeysParams:i.opts.companionKeysParams,companionCookiesRule:i.opts.companionCookiesRule,provider:"zoom",pluginId:i.id}),i.defaultLocale=aXe,i.i18nInit(),i.title=i.i18n("pluginNameZoom"),i.onFirstRender=i.onFirstRender.bind(Gg(i)),i.render=i.render.bind(Gg(i)),i}return JYe(r,[{key:"install",value:function(){this.view=new nXe.ProviderViews(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(a){return this.view.render(a)}}]),r}(rXe.UIPlugin);RK.VERSION=iXe.version;qK.exports=RK});var xE=h(function(Iyt,TK){"use strict";TK.exports=EK()});var jK=h(function(Fyt,DK){"use strict";function Yg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yg=function(r){return typeof r}:Yg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yg(e)}function oXe(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=uXe(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function uXe(e,t){if(!!e){if(typeof e=="string")return AK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AK(e,t)}}function AK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kK(Object(r),!0).forEach(function(n){sXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sXe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cXe(e,t,r){return t&&IK(e.prototype,t),r&&IK(e,r),e}function Jg(){return typeof Reflect!="undefined"&&Reflect.get?Jg=Reflect.get:Jg=function(t,r,n){var a=fXe(t,r);if(!!a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Jg.apply(this,arguments)}function fXe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ll(e),e!==null););return e}function pXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CE(e,t)}function CE(e,t){return CE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},CE(e,t)}function dXe(e){var t=vXe();return function(){var n=ll(e),a;if(t){var i=ll(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return hXe(this,a)}}function hXe(e,t){if(t&&(Yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FK(e)}function FK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ll(e){return ll=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ll(e)}var yXe=Xe();function DE(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var mXe=0;function gXe(e){return"__private_"+mXe+++"_"+e}var bXe=Lq(),_Xe=yE(),wXe=wE(),SXe=OE(),OXe=gE(),PXe=RE(),RXe=hE(),qXe=EE(),EXe=IE(),TXe=xE(),AXe={version:"0.1.0"},xK=[RXe,_Xe,OXe,wXe,SXe,PXe,qXe,EXe,TXe],cu=gXe("installedPlugins"),CK=function(e){pXe(r,e);var t=dXe(r);function r(n,a){var i;lXe(this,r),i=t.call(this,n,a),Object.defineProperty(FK(i),cu,{writable:!0,value:new Set}),i.id=i.opts.id||"RemoteSources",i.type="acquirer";var o={sources:["Box","Dropbox","Facebook","GoogleDrive","Instagram","OneDrive","Unsplash","Url"],target:bXe};if(i.opts=Xg(Xg({},o),a),i.opts.companionUrl==null)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl");return i}return cXe(r,[{key:"setOptions",value:function(a){this.uninstall(),Jg(ll(r.prototype),"setOptions",this).call(this,a),this.install()}},{key:"install",value:function(){var a=this;this.opts.sources.forEach(function(i){var o=Xg(Xg({},a.opts),{},{sources:void 0}),u=xK.find(function(c){return c.name===i});if(u==null){var s=xK.map(function(c){return c.name}),l=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error('Invalid plugin: "'.concat(i,'" is not one of: ').concat(l.format(s),"."))}a.uppy.use(u,o),DE(a,cu)[cu].add(u)})}},{key:"uninstall",value:function(){var a=oXe(DE(this,cu)[cu]),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;this.uppy.removePlugin(o)}}catch(u){a.e(u)}finally{a.f()}DE(this,cu)[cu].clear()}}]),r}(yXe.BasePlugin);CK.VERSION=AXe.version;DK.exports=CK});var MK=h(function(xyt,UK){"use strict";var Sp=(te(),re(ne));UK.exports=function(){return(0,Sp.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Sp.h)("g",{fill:"none",fillRule:"evenodd"},(0,Sp.h)("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),(0,Sp.h)("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),(0,Sp.h)("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))}});var BK=h(function(Cyt,NK){"use strict";var cl=(te(),re(ne));function kXe(e){var t=e.recording,r=e.onStartRecording,n=e.onStopRecording,a=e.i18n;return t?(0,cl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:a("stopCapturing"),"aria-label":a("stopCapturing"),onClick:n,"data-uppy-super-focusable":!0},(0,cl.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,cl.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,cl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:a("startCapturing"),"aria-label":a("startCapturing"),onClick:r,"data-uppy-super-focusable":!0},(0,cl.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,cl.h)("circle",{cx:"50",cy:"50",r:"40"})))}NK.exports=kXe});var zK=h(function(Dyt,LK){"use strict";var jE=(te(),re(ne));function IXe(e){var t=e.recording,r=e.recordedVideo,n=e.onSubmit,a=e.i18n;return r&&!t?(0,jE.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:a("submitRecordedFile"),"aria-label":a("submitRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},(0,jE.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,jE.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}LK.exports=IXe});var VK=h(function(jyt,WK){"use strict";function Qg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qg=function(r){return typeof r}:Qg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qg(e)}function HK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FXe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HK(Object(r),!0).forEach(function(n){xXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xXe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DXe(e,t,r){return t&&$K(e.prototype,t),r&&$K(e,r),e}function jXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},UE(e,t)}function UXe(e){var t=BXe();return function(){var n=Zg(e),a;if(t){var i=Zg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return MXe(this,a)}}function MXe(e,t){if(t&&(Qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NXe(e)}function NXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zg(e){return Zg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(e)}var fl=(te(),re(ne)),LXe=function(e){jXe(r,e);var t=UXe(r);function r(n){var a;return CXe(this,r),a=t.call(this,n),a.state={elapsedTime:0},a.wrapperStyle={width:"100%",height:"100%",display:"flex"},a.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},a.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},a.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},a.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"},a}return DXe(r,[{key:"startTimer",value:function(){this.timerTick(),this.timerRunning=!0}},{key:"resetTimer",value:function(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}},{key:"timerTick",value:function(){var a=this;this.timer=setTimeout(function(){a.setState(function(i){return{elapsedTime:i.elapsedTime+1}}),a.timerTick()},1e3)}},{key:"fmtMSS",value:function(a){return(a-(a%=60))/60+(a>9?":":":0")+a}},{key:"render",value:function(){var a=FXe({},this.props),i=a.recording,o=a.i18n,u=this.state.elapsedTime,s=this.fmtMSS(u);return i&&!this.timerRunning&&this.startTimer(),!i&&this.timerRunning&&this.resetTimer(),i?(0,fl.h)("div",{style:this.wrapperStyle},(0,fl.h)("div",{style:this.overlayStyle}),(0,fl.h)("div",{style:this.infoContainerStyle},(0,fl.h)("div",{style:this.infotextStyle},o("recording")),(0,fl.h)("div",{style:this.timeStyle},s))):null}}]),r}(fl.Component);WK.exports=LXe});var KK=h(function(Uyt,GK){"use strict";var ui=(te(),re(ne));GK.exports=function(e){var t=e.streamActive,r=e.i18n;return t?(0,ui.h)("div",{title:r("streamActive"),"aria-label":r("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},(0,ui.h)("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},(0,ui.h)("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),(0,ui.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,ui.h)("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):(0,ui.h)("div",{title:r("streamPassive"),"aria-label":r("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},(0,ui.h)("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},(0,ui.h)("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),(0,ui.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,ui.h)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))}});var JK=h(function(Myt,XK){"use strict";function eb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eb=function(r){return typeof r}:eb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eb(e)}function zXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HXe(e,t,r){return t&&YK(e.prototype,t),r&&YK(e,r),e}function $Xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ME(e,t)}function ME(e,t){return ME=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ME(e,t)}function WXe(e){var t=KXe();return function(){var n=tb(e),a;if(t){var i=tb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return VXe(this,a)}}function VXe(e,t){if(t&&(eb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GXe(e)}function GXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function tb(e){return tb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(e)}var ea=(te(),re(ne));function NE(){return NE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NE.apply(this,arguments)}var YXe=BK(),XXe=zK(),JXe=VK(),QXe=KK(),ZXe=function(e){$Xe(r,e);var t=WXe(r);function r(){return zXe(this,r),t.apply(this,arguments)}return HXe(r,[{key:"componentWillUnmount",value:function(){var a=this.props.onStop;a()}},{key:"render",value:function(){var a=this,i=this.props,o=i.recording,u=i.stream,s=i.recordedVideo,l={playsinline:!0};return(o||!s&&!o)&&(l.muted=!0,l.autoplay=!0,l.srcObject=u),s&&!o&&(l.muted=!1,l.controls=!0,l.src=s,this.videoElement&&(this.videoElement.srcObject=void 0)),(0,ea.h)("div",{className:"uppy uppy-ScreenCapture-container"},(0,ea.h)("div",{className:"uppy-ScreenCapture-videoContainer"},(0,ea.h)(QXe,this.props),(0,ea.h)("video",NE({ref:function(f){a.videoElement=f},className:"uppy-ScreenCapture-video"},l)),(0,ea.h)(JXe,this.props)),(0,ea.h)("div",{className:"uppy-ScreenCapture-buttonContainer"},(0,ea.h)(YXe,this.props),(0,ea.h)(XXe,this.props)))}}]),r}(ea.Component);XK.exports=ZXe});var ZK=h(function(Nyt,QK){"use strict";QK.exports={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}}});var aY=h(function(Byt,iY){"use strict";function rb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rb=function(r){return typeof r}:rb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rb(e)}function eY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eY(Object(r),!0).forEach(function(n){eJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rJe(e,t,r){return t&&tY(e.prototype,t),r&&tY(e,r),e}function nJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LE(e,t)}function LE(e,t){return LE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},LE(e,t)}function iJe(e){var t=oJe();return function(){var n=nb(e),a;if(t){var i=nb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return aJe(this,a)}}function aJe(e,t){if(t&&(rb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return si(e)}function si(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(e)}var uJe=(te(),re(ne)),sJe=Xe();function zE(){return zE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zE.apply(this,arguments)}var rY=sg(),lJe=MK(),cJe=JK(),fJe={version:"2.1.1"},pJe=ZK();function dJe(){var e;return window.MediaRecorder&&((e=navigator.mediaDevices)==null?void 0:e.getDisplayMedia)}function hJe(){return window.MediaRecorder&&navigator.mediaDevices}var nY=function(e){nJe(r,e);var t=iJe(r);function r(n,a){var i;tJe(this,r),i=t.call(this,n,a),i.mediaDevices=hJe(),i.protocol=location.protocol==="https:"?"https":"http",i.id=i.opts.id||"ScreenCapture",i.title=i.opts.title||"Screencast",i.type="acquirer",i.icon=lJe,i.defaultLocale=pJe;var o={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};return i.opts=BE(BE({},o),a),i.i18nInit(),i.install=i.install.bind(si(i)),i.setPluginState=i.setPluginState.bind(si(i)),i.render=i.render.bind(si(i)),i.start=i.start.bind(si(i)),i.stop=i.stop.bind(si(i)),i.startRecording=i.startRecording.bind(si(i)),i.stopRecording=i.stopRecording.bind(si(i)),i.submit=i.submit.bind(si(i)),i.streamInterrupted=i.streamInactivated.bind(si(i)),i.captureActive=!1,i.capturedMediaFile=null,i}return rJe(r,[{key:"install",value:function(){if(!dJe())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var a=this.opts.target;a&&this.mount(a,this)}},{key:"uninstall",value:function(){this.videoStream&&this.stop(),this.unmount()}},{key:"start",value:function(){var a=this;return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(i){i===!1&&a.parent&&a.parent.hideAllPanels&&(a.parent.hideAllPanels(),a.captureActive=!1)})):Promise.reject(new Error("Screen recorder access not supported"))}},{key:"selectVideoStreamSource",value:function(){var a=this;return this.videoStream?new Promise(function(i){return i(a.videoStream)}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(i){return a.videoStream=i,a.videoStream.addEventListener("inactive",function(){a.streamInactivated()}),a.setPluginState({streamActive:!0}),i}).catch(function(i){return a.setPluginState({screenRecError:i}),a.userDenied=!0,setTimeout(function(){a.userDenied=!1},1e3),!1})}},{key:"selectAudioStreamSource",value:function(){var a=this;return this.audioStream?new Promise(function(i){return i(a.audioStream)}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(i){return a.audioStream=i,a.setPluginState({audioStreamActive:!0}),i}).catch(function(i){return i.name==="NotAllowedError"&&a.uppy.info(a.i18n("micDisabled"),"error",5e3),!1})}},{key:"startRecording",value:function(){var a=this,i={};this.capturedMediaFile=null,this.recordingChunks=[];var o=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(u){o&&MediaRecorder.isTypeSupported(o)&&rY(o)&&(i.mimeType=o);var s=[u.getVideoTracks()[0]];a.audioStream&&s.push(a.audioStream.getAudioTracks()[0]),a.outputStream=new MediaStream(s),a.recorder=new MediaRecorder(a.outputStream,i),a.recorder.addEventListener("dataavailable",function(l){a.recordingChunks.push(l.data)}),a.recorder.start(),a.setPluginState({recording:!0})}).catch(function(u){a.uppy.log(u,"error")})}},{key:"streamInactivated",value:function(){var a=BE({},this.getPluginState()),i=a.recordedVideo,o=a.recording;!i&&!o?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():o&&(this.uppy.log("Capture stream inactive \u2014 stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}},{key:"stopRecording",value:function(){var a=this,i=new Promise(function(o){a.recorder.addEventListener("stop",function(){o()}),a.recorder.stop()});return i.then(function(){return a.setPluginState({recording:!1}),a.getVideo()}).then(function(o){a.capturedMediaFile=o,a.setPluginState({recordedVideo:URL.createObjectURL(o.data)})}).then(function(){a.recordingChunks=null,a.recorder=null},function(o){throw a.recordingChunks=null,a.recorder=null,o})}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(a){a.isRestriction||this.uppy.log(a,"error")}}},{key:"stop",value:function(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(a){a.stop()}),this.videoStream.getAudioTracks().forEach(function(a){a.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(a){a.stop()}),this.audioStream.getVideoTracks().forEach(function(a){a.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(a){a.stop()}),this.outputStream.getVideoTracks().forEach(function(a){a.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}},{key:"getVideo",value:function(){var a=this.recordingChunks[0].type,i=rY(a);if(!i)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(a,'"')));var o="screencap-".concat(Date.now(),".").concat(i),u=new Blob(this.recordingChunks,{type:a}),s={source:this.id,name:o,data:new Blob([u],{type:a}),type:a};return Promise.resolve(s)}},{key:"render",value:function(){var a=this.getPluginState();return!a.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),(0,uJe.h)(cJe,zE({},a,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}}]),r}(sJe.UIPlugin);nY.VERSION=fJe.version;iY.exports=nY});var uY=h(function(Lyt,oY){"use strict";oY.exports=aY()});var lY=h(function(zyt,sY){"use strict";function vJe(e,t,r){return new Promise(function(n){e.toBlob(n,t,r)})}sY.exports=vJe});var fY=h(function(Hyt,cY){"use strict";function yJe(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}cY.exports=yJe});var HE=h(function($yt,dY){"use strict";var pY=(te(),re(ne));dY.exports=function(){return(0,pY.h)("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},(0,pY.h)("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))}});var vY=h(function(Wyt,hY){"use strict";var mJe=(te(),re(ne)),gJe=HE();hY.exports=function(e){var t=e.onSnapshot,r=e.i18n;return(0,mJe.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:r("takePicture"),"aria-label":r("takePicture"),onClick:t,"data-uppy-super-focusable":!0},gJe())}});var mY=h(function(Vyt,yY){"use strict";var pl=(te(),re(ne));function bJe(e){var t=e.recording,r=e.onStartRecording,n=e.onStopRecording,a=e.i18n;return t?(0,pl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("stopRecording"),"aria-label":a("stopRecording"),onClick:n,"data-uppy-super-focusable":!0},(0,pl.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,pl.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,pl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("startRecording"),"aria-label":a("startRecording"),onClick:r,"data-uppy-super-focusable":!0},(0,pl.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,pl.h)("circle",{cx:"50",cy:"50",r:"40"})))}yY.exports=bJe});var bY=h(function(Gyt,gY){"use strict";function _Je(e){return"".concat(Math.floor(e/60),":").concat(String(e%60).padStart(2,0))}gY.exports=_Je});var wY=h(function(Kyt,_Y){"use strict";var wJe=(te(),re(ne)),SJe=bY();function OJe(e){var t=e.recordingLengthSeconds,r=e.i18n,n=SJe(t);return(0,wJe.h)("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}_Y.exports=OJe});var OY=h(function(Yyt,SY){"use strict";var $E=(te(),re(ne));SY.exports=function(e){var t=e.currentDeviceId,r=e.videoSources,n=e.onChangeVideoSource;return(0,$E.h)("div",{className:"uppy-Webcam-videoSource"},(0,$E.h)("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:function(i){n(i.target.value)}},r.map(function(a){return(0,$E.h)("option",{key:a.deviceId,value:a.deviceId,selected:a.deviceId===t},a.label)})))}});var RY=h(function(Xyt,PY){"use strict";var WE=(te(),re(ne));function PJe(e){var t=e.onSubmit,r=e.i18n;return(0,WE.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},(0,WE.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,WE.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}PY.exports=PJe});var EY=h(function(Jyt,qY){"use strict";var Op=(te(),re(ne));function RJe(e){var t=e.onDiscard,r=e.i18n;return(0,Op.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},(0,Op.h)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,Op.h)("g",{fill:"#FFF",fillRule:"evenodd"},(0,Op.h)("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),(0,Op.h)("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}qY.exports=RJe});var kY=h(function(Qyt,AY){"use strict";function ib(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ib=function(r){return typeof r}:ib=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ib(e)}function qJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EJe(e,t,r){return t&&TY(e.prototype,t),r&&TY(e,r),e}function TJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},VE(e,t)}function AJe(e){var t=FJe();return function(){var n=ab(e),a;if(t){var i=ab(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return kJe(this,a)}}function kJe(e,t){if(t&&(ib(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IJe(e)}function IJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}var jr=(te(),re(ne));function GE(){return GE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}var xJe=vY(),CJe=mY(),DJe=wY(),jJe=OY(),UJe=RY(),MJe=EY();function ob(e,t){return e.indexOf(t)!==-1}var NJe=function(e){TJe(r,e);var t=AJe(r);function r(){return qJe(this,r),t.apply(this,arguments)}return EJe(r,[{key:"componentDidMount",value:function(){var a=this.props.onFocus;a()}},{key:"componentWillUnmount",value:function(){var a=this.props.onStop;a()}},{key:"render",value:function(){var a=this,i=this.props,o=i.src,u=i.recordedVideo,s=i.recording,l=i.modes,c=i.supportsRecording,f=i.videoSources,p=i.showVideoSourceDropdown,d=i.showRecordingLength,v=i.onSubmit,m=i.i18n,g=i.mirror,w=i.onSnapshot,b=i.onStartRecording,O=i.onStopRecording,T=i.onDiscardRecordedVideo,x=i.recordingLengthSeconds,D=!!u,N=!D&&c&&(ob(l,"video-only")||ob(l,"audio-only")||ob(l,"video-audio")),G=!D&&ob(l,"picture"),q=c&&d&&!D,U=p&&f&&f.length>1,Q={playsinline:!0};return u?(Q.muted=!1,Q.controls=!0,Q.src=u,this.videoElement&&(this.videoElement.srcObject=void 0)):(Q.muted=!0,Q.autoplay=!0,Q.srcObject=o),(0,jr.h)("div",{className:"uppy uppy-Webcam-container"},(0,jr.h)("div",{className:"uppy-Webcam-videoContainer"},(0,jr.h)("video",GE({ref:function(A){return a.videoElement=A},className:"uppy-Webcam-video  ".concat(g?"uppy-Webcam-video--mirrored":"")},Q))),(0,jr.h)("div",{className:"uppy-Webcam-footer"},(0,jr.h)("div",{className:"uppy-Webcam-videoSourceContainer"},U?jJe(this.props):null),(0,jr.h)("div",{className:"uppy-Webcam-buttonContainer"},G&&(0,jr.h)(xJe,{onSnapshot:w,i18n:m}),N&&(0,jr.h)(CJe,{recording:s,onStartRecording:b,onStopRecording:O,i18n:m}),D&&(0,jr.h)(UJe,{onSubmit:v,i18n:m}),D&&(0,jr.h)(MJe,{onDiscard:T,i18n:m})),(0,jr.h)("div",{className:"uppy-Webcam-recordingLength"},q&&(0,jr.h)(DJe,{recordingLengthSeconds:x,i18n:m}))))}}]),r}(jr.Component);AY.exports=NJe});var FY=h(function(Zyt,IY){"use strict";var ub=(te(),re(ne));IY.exports=function(e){var t=e.icon,r=e.i18n,n=e.hasCamera;return(0,ub.h)("div",{className:"uppy-Webcam-permissons"},(0,ub.h)("div",{className:"uppy-Webcam-permissonsIcon"},t()),(0,ub.h)("h1",{className:"uppy-Webcam-title"},r(n?"allowAccessTitle":"noCameraTitle")),(0,ub.h)("p",null,r(n?"allowAccessDescription":"noCameraDescription")))}});var CY=h(function(emt,xY){"use strict";xY.exports={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}}});var LY=h(function(tmt,BY){"use strict";function Pp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pp=function(r){return typeof r}:Pp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pp(e)}function DY(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function BJe(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){DY(i,n,a,o,u,"next",s)}function u(s){DY(i,n,a,o,u,"throw",s)}o(void 0)})}}function jY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jY(Object(r),!0).forEach(function(n){LJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LJe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HJe(e,t,r){return t&&UY(e.prototype,t),r&&UY(e,r),e}function sb(){return typeof Reflect!="undefined"&&Reflect.get?sb=Reflect.get:sb=function(t,r,n){var a=$Je(t,r);if(!!a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},sb.apply(this,arguments)}function $Je(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=dl(e),e!==null););return e}function WJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},KE(e,t)}function VJe(e){var t=KJe();return function(){var n=dl(e),a;if(t){var i=dl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return GJe(this,a)}}function GJe(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qt(e)}function Qt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function dl(e){return dl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},dl(e)}var hl=(te(),re(ne)),YJe=Xe();function YE(){return YE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YE.apply(this,arguments)}function Rp(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var XJe=0;function JJe(e){return"__private_"+XJe+++"_"+e}var XE=sg(),QJe=$P(),ZJe=lY(),eQe=fY(),tQe=HE(),rQe=kY(),nQe=FY(),iQe={version:"2.2.1"},aQe=CY();function MY(e){return e[0]==="."?QJe[e.slice(1)]:e}function oQe(e){return/^video\/[^*]+$/.test(e)}function uQe(e){return/^image\/[^*]+$/.test(e)}function sQe(){return navigator.mediaDevices}var Un=JJe("enableMirror"),NY=function(e){WJe(r,e);var t=VJe(r);function r(n,a){var i;zJe(this,r),i=t.call(this,n,a),Object.defineProperty(Qt(i),Un,{writable:!0,value:void 0}),i.mediaDevices=sQe(),i.supportsUserMedia=!!i.mediaDevices,i.protocol=location.protocol.match(/https/i)?"https":"http",i.id=i.opts.id||"Webcam",i.type="acquirer",i.capturedMediaFile=null,i.icon=function(){return(0,hl.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,hl.h)("g",{fill:"none",fillRule:"evenodd"},(0,hl.h)("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),(0,hl.h)("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})))},i.defaultLocale=aQe;var o={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};return i.opts=Za(Za({},o),a),i.i18nInit(),i.title=i.i18n("pluginNameCamera"),Rp(Qt(i),Un)[Un]=i.opts.mirror,i.install=i.install.bind(Qt(i)),i.setPluginState=i.setPluginState.bind(Qt(i)),i.render=i.render.bind(Qt(i)),i.start=i.start.bind(Qt(i)),i.stop=i.stop.bind(Qt(i)),i.takeSnapshot=i.takeSnapshot.bind(Qt(i)),i.startRecording=i.startRecording.bind(Qt(i)),i.stopRecording=i.stopRecording.bind(Qt(i)),i.discardRecordedVideo=i.discardRecordedVideo.bind(Qt(i)),i.submit=i.submit.bind(Qt(i)),i.oneTwoThreeSmile=i.oneTwoThreeSmile.bind(Qt(i)),i.focus=i.focus.bind(Qt(i)),i.changeVideoSource=i.changeVideoSource.bind(Qt(i)),i.webcamActive=!1,i.opts.countdown&&(i.opts.onBeforeSnapshot=i.oneTwoThreeSmile),i.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),i}return HJe(r,[{key:"setOptions",value:function(a){sb(dl(r.prototype),"setOptions",this).call(this,Za(Za({},a),{},{videoConstraints:Za(Za({},this.opts.videoConstraints),a==null?void 0:a.videoConstraints)}))}},{key:"hasCameraCheck",value:function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(a){return a.some(function(i){return i.kind==="videoinput"})}):Promise.resolve(!1)}},{key:"isAudioOnly",value:function(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"}},{key:"getConstraints",value:function(a){a===void 0&&(a=null);var i=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,o=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),u=Za(Za({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),a?{deviceId:a,facingMode:null}:{});return{audio:i,video:o?u:!1}}},{key:"start",value:function(a){var i=this;if(a===void 0&&(a=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(Rp(this,Un)[Un]=!0);var o=this.getConstraints(a&&a.deviceId?a.deviceId:null);this.hasCameraCheck().then(function(u){return i.setPluginState({hasCamera:u}),i.mediaDevices.getUserMedia(o).then(function(s){i.stream=s;var l=null,c=i.isAudioOnly()?s.getAudioTracks():s.getVideoTracks();!a||!a.deviceId?l=c[0].getSettings().deviceId:c.forEach(function(f){f.getSettings().deviceId===a.deviceId&&(l=f.getSettings().deviceId)}),i.updateVideoSources(),i.setPluginState({currentDeviceId:l,cameraReady:!0})}).catch(function(s){i.setPluginState({cameraReady:!1,cameraError:s}),i.uppy.info(s.message,"error")})})}},{key:"getMediaRecorderOptions",value:function(){var a={};if(MediaRecorder.isTypeSupported){var i=this.uppy.opts.restrictions,o=[];this.opts.preferredVideoMimeType?o=[this.opts.preferredVideoMimeType]:i.allowedFileTypes&&(o=i.allowedFileTypes.map(MY).filter(oQe));var u=function(c){return MediaRecorder.isTypeSupported(c)&&XE(c)},s=o.filter(u);s.length>0&&(a.mimeType=s[0])}return a}},{key:"startRecording",value:function(){var a=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var i=!1;this.recorder.addEventListener("dataavailable",function(o){a.recordingChunks.push(o.data);var u=a.uppy.opts.restrictions;if(a.recordingChunks.length>1&&u.maxFileSize!=null&&!i){var s=a.recordingChunks.reduce(function(p,d){return p+d.size},0),l=(s-a.recordingChunks[0].size)/(a.recordingChunks.length-1),c=l*3,f=Math.max(0,u.maxFileSize-c);s>f&&(i=!0,a.uppy.info(a.i18n("recordingStoppedMaxSize"),"warning",4e3),a.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var o=a.getPluginState().recordingLengthSeconds;a.setPluginState({recordingLengthSeconds:o+1})},1e3)),this.setPluginState({isRecording:!0})}},{key:"stopRecording",value:function(){var a=this,i=new Promise(function(o){a.recorder.addEventListener("stop",function(){o()}),a.recorder.stop(),a.opts.showRecordingLength&&(clearInterval(a.recordingLengthTimer),a.setPluginState({recordingLengthSeconds:0}))});return i.then(function(){return a.setPluginState({isRecording:!1}),a.getVideo()}).then(function(o){try{a.capturedMediaFile=o,a.setPluginState({recordedVideo:URL.createObjectURL(o.data)}),Rp(a,Un)[Un]=!1}catch(u){u.isRestriction||a.uppy.log(u)}}).then(function(){a.recordingChunks=null,a.recorder=null},function(o){throw a.recordingChunks=null,a.recorder=null,o})}},{key:"discardRecordedVideo",value:function(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(Rp(this,Un)[Un]=!0),this.capturedMediaFile=null}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(a){a.isRestriction||this.uppy.log(a,"error")}}},{key:"stop",value:function(){var n=BJe(regeneratorRuntime.mark(function i(){var o=this,u,s;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.stream&&(u=this.stream.getAudioTracks(),s=this.stream.getVideoTracks(),u.concat(s).forEach(function(f){return f.stop()})),!this.recorder){c.next=4;break}return c.next=4,new Promise(function(f){o.recorder.addEventListener("stop",f,{once:!0}),o.recorder.stop(),o.opts.showRecordingLength&&clearInterval(o.recordingLengthTimer)});case 4:this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return c.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"getVideoElement",value:function(){return this.el.querySelector(".uppy-Webcam-video")}},{key:"oneTwoThreeSmile",value:function(){var a=this;return new Promise(function(i,o){var u=a.opts.countdown,s=setInterval(function(){if(!a.webcamActive)return clearInterval(s),a.captureInProgress=!1,o(new Error("Webcam is not active"));u>0?(a.uppy.info("".concat(u,"..."),"warning",800),u--):(clearInterval(s),a.uppy.info(a.i18n("smile"),"success",1500),setTimeout(function(){return i()},1500))},1e3)})}},{key:"takeSnapshot",value:function(){var a=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(i){var o=Pp(i)==="object"?i.message:i;return a.uppy.info(o,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(o)))}).then(function(){return a.getImage()}).then(function(i){a.captureInProgress=!1;try{a.uppy.addFile(i)}catch(o){o.isRestriction||a.uppy.log(o)}},function(i){throw a.captureInProgress=!1,i}))}},{key:"getImage",value:function(){var a=this,i=this.getVideoElement();if(!i)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var o=i.videoWidth,u=i.videoHeight,s=document.createElement("canvas");s.width=o,s.height=u;var l=s.getContext("2d");l.drawImage(i,0,0);var c=this.uppy.opts.restrictions,f=[];this.opts.preferredImageMimeType?f=[this.opts.preferredImageMimeType]:c.allowedFileTypes&&(f=c.allowedFileTypes.map(MY).filter(uQe));var p=f[0]||"image/jpeg",d=XE(p)||"jpg",v="cam-".concat(Date.now(),".").concat(d);return ZJe(s,p).then(function(m){return{source:a.id,name:v,data:new Blob([m],{type:p}),type:p}})}},{key:"getVideo",value:function(){var a=this.recordingChunks.find(function(l){var c;return((c=l.type)==null?void 0:c.length)>0}).type,i=XE(a);if(!i)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(a,'"')));var o="webcam-".concat(Date.now(),".").concat(i),u=new Blob(this.recordingChunks,{type:a}),s={source:this.id,name:o,data:new Blob([u],{type:a}),type:a};return Promise.resolve(s)}},{key:"focus",value:function(){var a=this;!this.opts.countdown||setTimeout(function(){a.uppy.info(a.i18n("smile"),"success",1500)},1e3)}},{key:"changeVideoSource",value:function(a){this.stop(),this.start({deviceId:a})}},{key:"updateVideoSources",value:function(){var a=this;this.mediaDevices.enumerateDevices().then(function(i){a.setPluginState({videoSources:i.filter(function(o){return o.kind==="videoinput"})})})}},{key:"render",value:function(){this.webcamActive||this.start();var a=this.getPluginState();return!a.cameraReady||!a.hasCamera?(0,hl.h)(nQe,{icon:tQe,i18n:this.i18n,hasCamera:a.hasCamera}):(0,hl.h)(rQe,YE({},a,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:eQe(),recording:a.isRecording,mirror:Rp(this,Un)[Un],src:this.stream}))}},{key:"install",value:function(){var a=this;this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var i=this.opts.target;i&&this.mount(i,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(a.updateVideoSources(),a.stream){var o=!0,u=a.getPluginState(),s=u.videoSources,l=u.currentDeviceId;s.forEach(function(c){l===c.deviceId&&(o=!1)}),o&&(a.stop(),a.start())}})}},{key:"uninstall",value:function(){this.stop(),this.unmount()}},{key:"onUnmount",value:function(){this.stop()}}]),r}(YJe.UIPlugin);NY.VERSION=iQe.version;BY.exports=NY});var HY=h(function(rmt,zY){"use strict";zY.exports=LY()});var eo=h(function(vl){"use strict";function lQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cQe(e,t,r){return t&&$Y(e.prototype,t),r&&$Y(e,r),e}Object.defineProperty(vl,"__esModule",{value:!0});vl.internalRateLimitedQueue=vl.RateLimitedQueue=void 0;function he(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var fQe=0;function Or(e){return"__private_"+fQe+++"_"+e}function pQe(){return new Error("Cancelled")}var Ur=Or("activeRequests"),or=Or("queuedHandlers"),Mr=Or("paused"),fu=Or("pauseTimer"),ur=Or("downLimit"),pu=Or("upperLimit"),ta=Or("rateLimitingTimer"),qp=Or("call"),ra=Or("queueNext"),JE=Or("next"),QE=Or("queue"),ZE=Or("dequeue"),eT=Or("resume"),du=Or("increaseLimit"),dQe=function(){function e(t){var r=this;lQe(this,e),Object.defineProperty(this,ZE,{value:gQe}),Object.defineProperty(this,QE,{value:mQe}),Object.defineProperty(this,JE,{value:yQe}),Object.defineProperty(this,ra,{value:vQe}),Object.defineProperty(this,qp,{value:hQe}),Object.defineProperty(this,Ur,{writable:!0,value:0}),Object.defineProperty(this,or,{writable:!0,value:[]}),Object.defineProperty(this,Mr,{writable:!0,value:!1}),Object.defineProperty(this,fu,{writable:!0,value:void 0}),Object.defineProperty(this,ur,{writable:!0,value:1}),Object.defineProperty(this,pu,{writable:!0,value:void 0}),Object.defineProperty(this,ta,{writable:!0,value:void 0}),Object.defineProperty(this,eT,{writable:!0,value:function(){return r.resume()}}),Object.defineProperty(this,du,{writable:!0,value:function(){if(he(r,Mr)[Mr]){he(r,ta)[ta]=setTimeout(he(r,du)[du],0);return}he(r,ur)[ur]=r.limit,r.limit=Math.ceil((he(r,pu)[pu]+he(r,ur)[ur])/2);for(var a=he(r,ur)[ur];a<=r.limit;a++)he(r,ra)[ra]();he(r,pu)[pu]-he(r,ur)[ur]>3?he(r,ta)[ta]=setTimeout(he(r,du)[du],2e3):he(r,ur)[ur]=Math.floor(he(r,ur)[ur]/2)}}),typeof t!="number"||t===0?this.limit=1/0:this.limit=t}return cQe(e,[{key:"run",value:function(r,n){return!he(this,Mr)[Mr]&&he(this,Ur)[Ur]<this.limit?he(this,qp)[qp](r):he(this,QE)[QE](r,n)}},{key:"wrapPromiseFunction",value:function(r,n){var a=this;return function(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];var s,l=new Promise(function(c,f){s=a.run(function(){var p,d;try{d=Promise.resolve(r.apply(void 0,o))}catch(v){d=Promise.reject(v)}return d.then(function(v){p?f(p):(s.done(),c(v))},function(v){p?f(p):(s.done(),f(v))}),function(){p=pQe()}},n)});return l.abort=function(){s.abort()},l}}},{key:"resume",value:function(){he(this,Mr)[Mr]=!1,clearTimeout(he(this,fu)[fu]);for(var r=0;r<this.limit;r++)he(this,ra)[ra]()}},{key:"pause",value:function(r){r===void 0&&(r=null),he(this,Mr)[Mr]=!0,clearTimeout(he(this,fu)[fu]),r!=null&&(he(this,fu)[fu]=setTimeout(he(this,eT)[eT],r))}},{key:"rateLimit",value:function(r){clearTimeout(he(this,ta)[ta]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(he(this,pu)[pu]=this.limit-1,this.limit=he(this,ur)[ur],he(this,ta)[ta]=setTimeout(he(this,du)[du],r))}},{key:"isPaused",get:function(){return he(this,Mr)[Mr]}}]),e}();vl.RateLimitedQueue=dQe;function hQe(e){var t=this;he(this,Ur)[Ur]+=1;var r=!1,n;try{n=e()}catch(a){throw he(this,Ur)[Ur]-=1,a}return{abort:function(){r||(r=!0,he(t,Ur)[Ur]-=1,n(),he(t,ra)[ra]())},done:function(){r||(r=!0,he(t,Ur)[Ur]-=1,he(t,ra)[ra]())}}}function vQe(){var e=this;queueMicrotask(function(){return he(e,JE)[JE]()})}function yQe(){if(!(he(this,Mr)[Mr]||he(this,Ur)[Ur]>=this.limit)&&he(this,or)[or].length!==0){var e=he(this,or)[or].shift(),t=he(this,qp)[qp](e.fn);e.abort=t.abort,e.done=t.done}}function mQe(e,t){var r=this;t===void 0&&(t={});var n={fn:e,priority:t.priority||0,abort:function(){he(r,ZE)[ZE](n)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},a=he(this,or)[or].findIndex(function(i){return n.priority>i.priority});return a===-1?he(this,or)[or].push(n):he(this,or)[or].splice(a,0,n),n}function gQe(e){var t=he(this,or)[or].indexOf(e);t!==-1&&he(this,or)[or].splice(t,1)}var bQe=Symbol("__queue");vl.internalRateLimitedQueue=bQe});var Ep=h(function(imt,WY){"use strict";var _Qe=Tf();function wQe(e,t,r){var n=t.progress,a=t.bytesUploaded,i=t.bytesTotal;n&&(e.uppy.log("Upload progress: ".concat(n)),e.uppy.emit("upload-progress",r,{uploader:e,bytesUploaded:a,bytesTotal:i}))}WY.exports=_Qe(wQe,300,{leading:!0,trailing:!0})});var Tp=h(function(amt,VY){"use strict";function SQe(e){var t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i,r=t.exec(e)[1],n=/^http:\/\//i.test(e)?"ws":"wss";return"".concat(n,"://").concat(r)}VY.exports=SQe});var Ip=h(function(omt,JY){"use strict";function OQe(e,t){return qQe(e)||RQe(e,t)||GY(e,t)||PQe()}function PQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function RQe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function qQe(e){if(Array.isArray(e))return e}function EQe(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=GY(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function GY(e,t){if(!!e){if(typeof e=="string")return KY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KY(e,t)}}function KY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AQe(e,t,r){return t&&YY(e.prototype,t),r&&YY(e,r),e}function Ap(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var kQe=0;function XY(e){return"__private_"+kQe+++"_"+e}var hu=XY("emitter"),kp=XY("events"),IQe=function(){function e(t){TQe(this,e),Object.defineProperty(this,hu,{writable:!0,value:void 0}),Object.defineProperty(this,kp,{writable:!0,value:[]}),Ap(this,hu)[hu]=t}return AQe(e,[{key:"on",value:function(r,n){return Ap(this,kp)[kp].push([r,n]),Ap(this,hu)[hu].on(r,n)}},{key:"remove",value:function(){var r=EQe(Ap(this,kp)[kp].splice(0)),n;try{for(r.s();!(n=r.n()).done;){var a=OQe(n.value,2),i=a[0],o=a[1];Ap(this,hu)[hu].off(i,o)}}catch(u){r.e(u)}finally{r.f()}}}]),e}();JY.exports=IQe});var tT=h(function(umt,ZY){"use strict";function FQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xQe(e,t,r){return t&&QY(e.prototype,t),r&&QY(e,r),e}function un(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var CQe=0;function lb(e){return"__private_"+CQe+++"_"+e}var na=lb("aliveTimer"),vu=lb("isDone"),Fp=lb("onTimedOut"),yu=lb("timeout"),DQe=function(){function e(t,r){FQe(this,e),Object.defineProperty(this,na,{writable:!0,value:void 0}),Object.defineProperty(this,vu,{writable:!0,value:!1}),Object.defineProperty(this,Fp,{writable:!0,value:void 0}),Object.defineProperty(this,yu,{writable:!0,value:void 0}),un(this,yu)[yu]=t,un(this,Fp)[Fp]=r}return xQe(e,[{key:"progress",value:function(){un(this,vu)[vu]||un(this,yu)[yu]>0&&(clearTimeout(un(this,na)[na]),un(this,na)[na]=setTimeout(un(this,Fp)[Fp],un(this,yu)[yu]))}},{key:"done",value:function(){un(this,vu)[vu]||(clearTimeout(un(this,na)[na]),un(this,na)[na]=null,un(this,vu)[vu]=!0)}}]),e}();ZY.exports=DQe});var cb=h(function(smt,eX){"use strict";function jQe(e){return e?e.readyState!==0&&e.readyState!==4||e.status===0:!1}eX.exports=jQe});var lX=h(function(lmt,sX){"use strict";function tX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tX(Object(r),!0).forEach(function(n){UQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function nX(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){rX(i,n,a,o,u,"next",s)}function u(s){rX(i,n,a,o,u,"throw",s)}o(void 0)})}}function MQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NQe(e,t,r){return t&&iX(e.prototype,t),r&&iX(e,r),e}var BQe=Vo(),rT=Xt(),LQe=eo();function Pr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var zQe=0;function mu(e){return"__private_"+zQe+++"_"+e}var HQe=Ep(),$Qe=Tp(),aX=Ip(),WQe=tT(),oX=Vf(),VQe=Hs(),GQe=cb();function uX(e,t){if(GQe(e))return new VQe(t,e);var r=new oX("Upload error",{cause:t});return r.request=e,r}function KQe(e){var t=e.data.slice(0,e.data.size,e.meta.type);return t}function YQe(e,t,r){var n=Array.isArray(r.metaFields)?r.metaFields:Object.keys(t);n.forEach(function(a){e.append(a,t[a])})}function XQe(e,t){var r=new FormData;YQe(r,e.meta,t);var n=KQe(e);return e.name?r.append(t.fieldName,n,e.meta.name):r.append(t.fieldName,n),r}var JQe=function(t){return t.data},xp=mu("queueRequestSocketToken"),gu=mu("getOptions"),bu=mu("addEventHandlerForFile"),_u=mu("addEventHandlerIfFileStillExists"),nT=mu("uploadLocalFile"),iT=mu("requestSocketToken"),aT=mu("uploadRemoteFile"),QQe=function(){function e(t,r){var n=this;MQe(this,e),Object.defineProperty(this,aT,{value:nZe}),Object.defineProperty(this,nT,{value:rZe}),Object.defineProperty(this,_u,{value:tZe}),Object.defineProperty(this,bu,{value:eZe}),Object.defineProperty(this,gu,{value:ZQe}),Object.defineProperty(this,xp,{writable:!0,value:void 0}),Object.defineProperty(this,iT,{writable:!0,value:function(){var a=nX(regeneratorRuntime.mark(function o(u){var s,l,c,f,p;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return s=Pr(n,gu)[gu](u),l=u.remote.providerOptions.provider?rT.Provider:rT.RequestClient,c=new l(n.uppy,u.remote.providerOptions),f=Array.isArray(s.metaFields)?s.metaFields:Object.keys(u.meta),u.tus&&Object.assign(s,u.tus),v.next=7,c.post(u.remote.url,li(li({},u.remote.body),{},{endpoint:s.endpoint,size:u.data.size,fieldname:s.fieldName,metadata:Object.fromEntries(f.map(function(m){return[m,u.meta[m]]})),httpMethod:s.method,useFormData:s.formData,headers:s.headers}));case 7:return p=v.sent,v.abrupt("return",p.token);case 9:case"end":return v.stop()}},o)}));function i(o){return a.apply(this,arguments)}return i}()}),this.uppy=t,this.opts=li({validateStatus:function(i){return i>=200&&i<300}},r),this.requests=r[LQe.internalRateLimitedQueue],this.uploaderEvents=Object.create(null),this.i18n=r.i18n,Pr(this,xp)[xp]=this.requests.wrapPromiseFunction(Pr(this,iT)[iT])}return NQe(e,[{key:"uploadFile",value:function(r,n,a){var i=this.uppy.getFile(r);if(i.error)throw new Error(i.error);return i.isRemote?Pr(this,aT)[aT](i,n,a):Pr(this,nT)[nT](i,n,a)}},{key:"connectToServerSocket",value:function(r){var n=this;return new Promise(function(a,i){var o=Pr(n,gu)[gu](r),u=r.serverToken,s=$Qe(r.remote.companionUrl),l=new rT.Socket({target:"".concat(s,"/api/").concat(u)});n.uploaderEvents[r.id]=new aX(n.uppy);var c=n.requests.run(function(){return r.isPaused&&l.send("pause",{}),function(){return l.close()}});Pr(n,bu)[bu]("file-removed",r.id,function(){l.send("cancel",{}),c.abort(),a("upload ".concat(r.id," was removed"))}),Pr(n,_u)[_u]("cancel-all",r.id,function(f){var p=f===void 0?{}:f,d=p.reason;d==="user"&&(l.send("cancel",{}),c.abort()),a("upload ".concat(r.id," was canceled"))}),Pr(n,bu)[bu]("upload-retry",r.id,function(){l.send("pause",{}),l.send("resume",{})}),Pr(n,_u)[_u]("retry-all",r.id,function(){l.send("pause",{}),l.send("resume",{})}),l.on("progress",function(f){return HQe(n,f,r)}),l.on("success",function(f){var p=o.getResponseData(f.response.responseText,f.response),d=p[o.responseUrlFieldName],v={status:f.response.status,body:p,uploadURL:d,bytesUploaded:f.bytesUploaded};return n.uppy.emit("upload-success",r,v),c.done(),n.uploaderEvents[r.id]&&(n.uploaderEvents[r.id].remove(),n.uploaderEvents[r.id]=null),a()}),l.on("error",function(f){var p=f.response,d=p?o.getResponseError(p.responseText,p):new oX(f.error.message,{cause:f.error});n.uppy.emit("upload-error",r,d),c.done(),n.uploaderEvents[r.id]&&(n.uploaderEvents[r.id].remove(),n.uploaderEvents[r.id]=null),i(d)})}).catch(function(a){return n.uppy.emit("upload-error",r,a),Promise.reject(a)})}}]),e}();function ZQe(e){var t,r=this.uppy,n=r.getState().xhrUpload,a=li(li(li(li({},this.opts),n||{}),e.xhrUpload||{}),{},{headers:li(li(li({},this.opts.headers),n==null?void 0:n.headers),(t=e.xhrUpload)==null?void 0:t.headers)});return a}function eZe(e,t,r){this.uploaderEvents[t].on(e,function(n){t===n&&r()})}function tZe(e,t,r){var n=this;this.uploaderEvents[t].on(e,function(){n.uppy.getFile(t)&&r.apply(void 0,arguments)})}function rZe(e,t,r){var n=this,a=Pr(this,gu)[gu](e);return this.uppy.log("uploading ".concat(t," of ").concat(r)),new Promise(function(i,o){var u=a.formData?XQe(e,a):JQe(e,a),s=new XMLHttpRequest;n.uploaderEvents[e.id]=new aX(n.uppy);var l=new WQe(a.timeout,function(){s.abort(),f.done();var p=new Error(n.i18n("timedOut",{seconds:Math.ceil(a.timeout/1e3)}));n.uppy.emit("upload-error",e,p),o(p)}),c=(0,BQe.nanoid)();s.upload.addEventListener("loadstart",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," started"))}),s.upload.addEventListener("progress",function(p){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," progress: ").concat(p.loaded," / ").concat(p.total)),l.progress(),p.lengthComputable&&n.uppy.emit("upload-progress",e,{uploader:n,bytesUploaded:p.loaded,bytesTotal:p.total})}),s.addEventListener("load",function(p){if(n.uppy.log("[AwsS3/XHRUpload] ".concat(c," finished")),l.done(),f.done(),n.uploaderEvents[e.id]&&(n.uploaderEvents[e.id].remove(),n.uploaderEvents[e.id]=null),a.validateStatus(p.target.status,s.responseText,s)){var d=a.getResponseData(s.responseText,s),v=d[a.responseUrlFieldName],m={status:p.target.status,body:d,uploadURL:v};return n.uppy.emit("upload-success",e,m),v&&n.uppy.log("Download ".concat(e.name," from ").concat(v)),i(e)}var g=a.getResponseData(s.responseText,s),w=uX(s,a.getResponseError(s.responseText,s)),b={status:p.target.status,body:g};return n.uppy.emit("upload-error",e,w,b),o(w)}),s.addEventListener("error",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," errored")),l.done(),f.done(),n.uploaderEvents[e.id]&&(n.uploaderEvents[e.id].remove(),n.uploaderEvents[e.id]=null);var p=uX(s,a.getResponseError(s.responseText,s));return n.uppy.emit("upload-error",e,p),o(p)}),s.open(a.method.toUpperCase(),a.endpoint,!0),s.withCredentials=Boolean(a.withCredentials),a.responseType!==""&&(s.responseType=a.responseType),Object.keys(a.headers).forEach(function(p){s.setRequestHeader(p,a.headers[p])});var f=n.requests.run(function(){return s.send(u),function(){l.done(),s.abort()}},{priority:1});Pr(n,bu)[bu]("file-removed",e.id,function(){f.abort(),o(new Error("File removed"))}),Pr(n,_u)[_u]("cancel-all",e.id,function(p){var d=p===void 0?{}:p,v=d.reason;v==="user"&&f.abort(),o(new Error("Upload cancelled"))})})}function nZe(e){return oT.apply(this,arguments)}function oT(){return oT=nX(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t.serverToken){a.next=3;break}return a.abrupt("return",this.connectToServerSocket(t));case 3:return a.next=5,Pr(this,xp)[xp](t);case 5:return r=a.sent,this.uppy.setFileState(t.id,{serverToken:r}),a.abrupt("return",this.connectToServerSocket(this.uppy.getFile(t.id)));case 10:throw a.prev=10,a.t0=a.catch(0),this.uppy.emit("upload-error",t,a.t0),a.t0;case 14:case"end":return a.stop()}},e,this,[[0,10]])})),oT.apply(this,arguments)}sX.exports=QQe});var fX=h(function(cmt,cX){"use strict";function iZe(e){return e.replace(/;.*$/,"")}function aZe(e,t){var r=t.headers?t.headers["content-type"]:t.getResponseHeader("Content-Type");if(typeof r=="string"){var n=iZe(r).toLowerCase();if(n==="application/xml"||n==="text/xml"||n==="text/html"&&/^<\?xml /.test(e))return!0}return!1}cX.exports=aZe});var dX=h(function(fmt,pX){"use strict";pX.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}});var SX=h(function(pmt,wX){"use strict";function hX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(r),!0).forEach(function(n){Dp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uZe(e,t,r){return t&&vX(e.prototype,t),r&&vX(e,r),e}function sZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uT(e,t)}function uT(e,t){return uT=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},uT(e,t)}function lZe(e){var t=fZe();return function(){var n=fb(e),a;if(t){var i=fb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return cZe(this,a)}}function cZe(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sn(e)}function sn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},fb(e)}function jp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jp=function(r){return typeof r}:jp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jp(e)}var yX=eo(),pZe=Xt(),mX;function sr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var dZe=0;function Up(e){return"__private_"+dZe+++"_"+e}var hZe=rn(),vZe={version:"2.2.1"},yZe=lX(),gX=fX(),mZe=dX();function gZe(e,t){return new URL(t,e||void 0).toString()}function Mp(e,t){var r=e.indexOf("<".concat(t,">")),n=e.indexOf("</".concat(t,">"),r);return r!==-1&&n!==-1?e.slice(r+t.length+2,n):""}function bZe(e){if(e&&e.error){var t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function _Ze(e,t){var r=t!=null&&typeof t.url=="string"&&(jp(t.fields)==="object"||t.fields==null);if(!r){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '".concat(e.name,"', expected an object '{ url, method, fields, headers }' but got '").concat(JSON.stringify(t),"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw n}var a=t.method==null||/^p(u|os)t$/i.test(t.method);if(!a){var i=new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '".concat(e.name,"', expected  'put' or 'post' but got '").concat(t.method,"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw i}}function wZe(e,t){if(!!gX(e,t)){var r=Mp(e,"Message");return new Error(r)}}var bX=!1,Nr=Up("client"),wu=Up("requests"),Np=Up("uploader"),Bp=Up("handleUpload"),Lp=Up("setCompanionHeaders");mX=Symbol.for("uppy test: getClient");var _X=function(e,t){sZe(n,e);var r=lZe(n);function n(a,i){var o;oZe(this,n),o=r.call(this,a,i),Object.defineProperty(sn(o),Nr,{writable:!0,value:void 0}),Object.defineProperty(sn(o),wu,{writable:!0,value:void 0}),Object.defineProperty(sn(o),Np,{writable:!0,value:void 0}),Object.defineProperty(sn(o),Bp,{writable:!0,value:function(l){var c=Object.create(null);function f(v){var m,g=v.id;(m=c[g])==null||m.abort()}o.uppy.on("file-removed",f),l.forEach(function(v){var m=o.uppy.getFile(v);o.uppy.emit("upload-started",m)});var p=sr(sn(o),wu)[wu].wrapPromiseFunction(function(v){return o.opts.getUploadParameters(v)}),d=l.length;return Promise.allSettled(l.map(function(v,m){return c[v]=p(o.uppy.getFile(v)),c[v].then(function(g){delete c[v];var w=o.uppy.getFile(v);_Ze(w,g);var b=g.method,O=b===void 0?"post":b,T=g.url,x=g.fields,D=g.headers,N={method:O,formData:O.toLowerCase()==="post",endpoint:T,metaFields:x?Object.keys(x):[]};return D&&(N.headers=D),o.uppy.setFileState(w.id,{meta:Cp(Cp({},w.meta),x),xhrUpload:N}),sr(sn(o),Np)[Np].uploadFile(w.id,m,d)}).catch(function(g){delete c[v];var w=o.uppy.getFile(v);return o.uppy.emit("upload-error",w,g),Promise.reject(g)})})).finally(function(){o.uppy.off("file-removed",f)})}}),Object.defineProperty(sn(o),Lp,{writable:!0,value:function(){return sr(sn(o),Nr)[Nr].setCompanionHeaders(o.opts.companionHeaders),Promise.resolve()}}),o.type="uploader",o.id=o.opts.id||"AwsS3",o.title="AWS S3",o.defaultLocale=mZe;var u={timeout:30*1e3,limit:0,metaFields:[],getUploadParameters:o.getUploadParameters.bind(sn(o)),companionHeaders:{}};return o.opts=Cp(Cp({},u),i),o.i18nInit(),sr(sn(o),Nr)[Nr]=new pZe.RequestClient(a,i),sr(sn(o),wu)[wu]=new yX.RateLimitedQueue(o.opts.limit),o}return uZe(n,[{key:t,value:function(){return sr(this,Nr)[Nr]}},{key:"client",get:function(){return sr(this,Nr)[Nr]}},{key:"client",set:function(i){sr(this,Nr)[Nr]=i}},{key:"getUploadParameters",value:function(i){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var o=i.meta.name,u=i.meta.type,s=Object.fromEntries(this.opts.metaFields.filter(function(c){return i.meta[c]!=null}).map(function(c){return["metadata[".concat(c,"]"),i.meta[c].toString()]})),l=new URLSearchParams(Cp({filename:o,type:u},s));return sr(this,Nr)[Nr].get("s3/params?".concat(l)).then(bZe)}},{key:"install",value:function(){var i,o=this.uppy;o.addPreProcessor(sr(this,Lp)[Lp]),o.addUploader(sr(this,Bp)[Bp]);function u(l,c){var f=this;return gX(l,c)?{location:gZe(c.responseURL,Mp(l,"Location")),bucket:Mp(l,"Bucket"),key:Mp(l,"Key"),etag:Mp(l,"ETag")}:f.method.toUpperCase()==="POST"?(bX||(o.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),bX=!0),{location:null}):c.responseURL?{location:c.responseURL.replace(/\?.*$/,"")}:{location:null}}var s=(i={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout},Dp(i,yX.internalRateLimitedQueue,sr(this,wu)[wu]),Dp(i,"responseType","text"),Dp(i,"getResponseData",this.opts.getResponseData||u),Dp(i,"getResponseError",wZe),i);s.i18n=this.i18n,sr(this,Np)[Np]=new yZe(o,s)}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(sr(this,Lp)[Lp]),this.uppy.removeUploader(sr(this,Bp)[Bp])}}]),n}(hZe,mX);_X.VERSION=vZe.version;wX.exports=_X});var sT=h(function(to){"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.createAbortError=to.AbortSignal=to.AbortController=void 0;var SZe=globalThis.AbortController;to.AbortController=SZe;var OZe=globalThis.AbortSignal;to.AbortSignal=OZe;var PZe=function(t){return t===void 0&&(t="Aborted"),new DOMException(t,"AbortError")};to.createAbortError=PZe});var RX=h(function(hmt,PX){"use strict";var OX=sT();function RZe(e,t){return new Promise(function(r,n){var a,i;if(t!=null&&(a=t.signal)!=null&&a.aborted)return n((0,OX.createAbortError)());var o=setTimeout(function(){s(),r()},e);function u(){clearTimeout(o),s(),n((0,OX.createAbortError)())}t==null||(i=t.signal)==null||i.addEventListener("abort",u);function s(){var l;t==null||(l=t.signal)==null||l.removeEventListener("abort",u)}})}PX.exports=RZe});var xX=h(function(vmt,FX){"use strict";function qX(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function lT(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){qX(i,n,a,o,u,"next",s)}function u(s){qX(i,n,a,o,u,"throw",s)}o(void 0)})}}function zp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zp=function(r){return typeof r}:zp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zp(e)}function EX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EX(Object(r),!0).forEach(function(n){TX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TX(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EZe(e,t,r){return t&&AX(e.prototype,t),r&&AX(e,r),e}var Su=sT();function Je(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var TZe=0;function lr(e){return"__private_"+TZe+++"_"+e}var AZe=RX(),kZe=1024*1024,kX={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:function(t){return Math.ceil(t.size/1e4)},onStart:function(){},onProgress:function(){},onPartComplete:function(){},onSuccess:function(){},onError:function(t){throw t}};function IX(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}var ia=lr("aborted"),cT=lr("initChunks"),fT=lr("createUpload"),pT=lr("resumeUpload"),Ou=lr("uploadParts"),Hp=lr("retryable"),dT=lr("prepareUploadParts"),hT=lr("uploadPartRetryable"),vT=lr("uploadPart"),$p=lr("onPartProgress"),yT=lr("onPartComplete"),mT=lr("uploadPartBytes"),gT=lr("completeUpload"),bT=lr("abortUpload"),aa=lr("onError"),IZe=function(){function e(t,r){qZe(this,e),Object.defineProperty(this,aa,{value:VZe}),Object.defineProperty(this,bT,{value:WZe}),Object.defineProperty(this,gT,{value:$Ze}),Object.defineProperty(this,mT,{value:HZe}),Object.defineProperty(this,yT,{value:zZe}),Object.defineProperty(this,$p,{value:LZe}),Object.defineProperty(this,vT,{value:BZe}),Object.defineProperty(this,hT,{value:NZe}),Object.defineProperty(this,dT,{value:MZe}),Object.defineProperty(this,Hp,{value:UZe}),Object.defineProperty(this,Ou,{value:jZe}),Object.defineProperty(this,pT,{value:DZe}),Object.defineProperty(this,fT,{value:CZe}),Object.defineProperty(this,cT,{value:xZe}),Object.defineProperty(this,ia,{value:FZe}),this.options=pb(pb({},kX),r),this.options.getChunkSize||(this.options.getChunkSize=kX.getChunkSize),this.file=t,this.abortController=new Su.AbortController,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,Je(this,cT)[cT](),this.createdPromise.catch(function(){})}return EZe(e,[{key:"start",value:function(){this.isPaused=!1,this.uploadId?Je(this,pT)[pT]():Je(this,fT)[fT]()}},{key:"pause",value:function(){this.abortController.abort(),this.abortController=new Su.AbortController,this.isPaused=!0}},{key:"abort",value:function(r){var n;r===void 0&&(r=void 0),(n=r)!=null&&n.really?Je(this,bT)[bT]():this.pause()}}]),e}();function FZe(){return this.abortController.signal.aborted}function xZe(){var e=[],t=this.options.getChunkSize(this.file),r=Math.max(5*kZe,Math.ceil(this.file.size/1e4)),n=Math.max(t,r);if(this.file.size===0)e.push(this.file);else for(var a=0;a<this.file.size;a+=n){var i=Math.min(this.file.size,a+n);e.push(this.file.slice(a,i))}this.chunks=e,this.chunkState=e.map(function(){return{uploaded:0,busy:!1,done:!1}})}function CZe(){var e=this;return this.createdPromise=Promise.resolve().then(function(){return e.options.createMultipartUpload()}),this.createdPromise.then(function(t){if(Je(e,ia)[ia]())throw(0,Su.createAbortError)();var r=zp(t)==="object"&&t&&typeof t.uploadId=="string"&&typeof t.key=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");e.key=t.key,e.uploadId=t.uploadId,e.options.onStart(t),Je(e,Ou)[Ou]()}).catch(function(t){Je(e,aa)[aa](t)})}function DZe(){return _T.apply(this,arguments)}function _T(){return _T=lT(regeneratorRuntime.mark(function e(){var t=this,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.options.listParts({uploadId:this.uploadId,key:this.key});case 3:if(r=a.sent,!Je(this,ia)[ia]()){a.next=6;break}throw(0,Su.createAbortError)();case 6:r.forEach(function(i){var o=i.PartNumber-1;t.chunkState[o]={uploaded:IX(i.Size),etag:i.ETag,done:!0},t.parts.some(function(u){return u.PartNumber===i.PartNumber})||t.parts.push({PartNumber:i.PartNumber,ETag:i.ETag})}),Je(this,Ou)[Ou](),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Je(this,aa)[aa](a.t0);case 13:case"end":return a.stop()}},e,this,[[0,10]])})),_T.apply(this,arguments)}function jZe(){var e=this;if(!this.isPaused){if(this.chunkState.every(function(s){return s.done})){Je(this,gT)[gT]();return}var t=this.options.limit-this.partsInProgress,r=this.chunkState.filter(function(s){return s.done}).length,n=this.chunks.length-r,a=Math.ceil(this.options.limit/2);if(a>n&&(a=n),!(t<a)){for(var i=[],o=0;o<this.chunkState.length;o++){var u=this.chunkState[o];if(!(u.done||u.busy)&&(i.push(o),i.length>=t))break}i.length!==0&&Je(this,dT)[dT](i).then(function(s){i.forEach(function(l){var c=l+1,f={url:s.presignedUrls[c],headers:s.headers};Je(e,hT)[hT](l,f).then(function(){Je(e,Ou)[Ou]()},function(p){Je(e,aa)[aa](p)})})})}}}function UZe(e){var t=this,r=e.before,n=e.attempt,a=e.after,i=this.options.retryDelays,o=this.abortController.signal;r&&r();function u(l){if(l.source&&typeof l.source.status=="number"){var c=l.source.status;return c===0||c===409||c===423||c>=500&&c<600}return!1}var s=function l(c){return n().catch(function(f){if(Je(t,ia)[ia]())throw(0,Su.createAbortError)();if(u(f)&&c<i.length)return AZe(i[c],{signal:o}).then(function(){return l(c+1)});throw f})};return s(0).then(function(l){return a&&a(),l},function(l){throw a&&a(),l})}function MZe(e){return wT.apply(this,arguments)}function wT(){return wT=lT(regeneratorRuntime.mark(function e(t){var r=this,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.forEach(function(o){r.chunkState[o].busy=!0}),i.next=3,Je(this,Hp)[Hp]({attempt:function(){return r.options.prepareUploadParts({key:r.key,uploadId:r.uploadId,partNumbers:t.map(function(u){return u+1}),chunks:t.reduce(function(u,s){return pb(pb({},u),{},TX({},s+1,r.chunks[s]))},{})})}});case 3:if(n=i.sent,zp(n==null?void 0:n.presignedUrls)==="object"){i.next=6;break}throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");case 6:return i.abrupt("return",n);case 7:case"end":return i.stop()}},e,this)})),wT.apply(this,arguments)}function NZe(e,t){var r=this;return Je(this,Hp)[Hp]({before:function(){r.partsInProgress+=1},attempt:function(){return Je(r,vT)[vT](e,t)},after:function(){r.partsInProgress-=1}})}function BZe(e,t){this.chunkState[e].busy=!0;var r=typeof(t==null?void 0:t.url)=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");var n=t.url,a=t.headers;if(Je(this,ia)[ia]())throw this.chunkState[e].busy=!1,(0,Su.createAbortError)();return Je(this,mT)[mT](e,n,a)}function LZe(e,t){this.chunkState[e].uploaded=IX(t);var r=this.chunkState.reduce(function(n,a){return n+a.uploaded},0);this.options.onProgress(r,this.file.size)}function zZe(e,t){this.chunkState[e].etag=t,this.chunkState[e].done=!0;var r={PartNumber:e+1,ETag:t};this.parts.push(r),this.options.onPartComplete(r)}function HZe(e,t,r){var n=this,a=this.chunks[e],i=this.abortController.signal,o,u=new Promise(function(f,p){o={resolve:f,reject:p}}),s=new XMLHttpRequest;s.open("PUT",t,!0),r&&Object.keys(r).forEach(function(f){s.setRequestHeader(f,r[f])}),s.responseType="text";function l(){i.removeEventListener("abort",c)}function c(){s.abort()}return i.addEventListener("abort",c),s.upload.addEventListener("progress",function(f){!f.lengthComputable||Je(n,$p)[$p](e,f.loaded,f.total)}),s.addEventListener("abort",function(){l(),n.chunkState[e].busy=!1,o.reject((0,Su.createAbortError)())}),s.addEventListener("load",function(f){if(l(),n.chunkState[e].busy=!1,f.target.status<200||f.target.status>=300){var p=new Error("Non 2xx");p.source=f.target,o.reject(p);return}n.chunks[e]=null,Je(n,$p)[$p](e,a.size,a.size);var d=f.target.getResponseHeader("ETag");if(d===null){o.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}Je(n,yT)[yT](e,d),o.resolve()}),s.addEventListener("error",function(f){l(),n.chunkState[e].busy=!1;var p=new Error("Unknown error");p.source=f.target,o.reject(p)}),s.send(a),u}function $Ze(){return ST.apply(this,arguments)}function ST(){return ST=lT(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.parts.sort(function(a,i){return a.PartNumber-i.PartNumber}),n.prev=1,n.next=4,this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});case 4:t=n.sent,this.options.onSuccess(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Je(this,aa)[aa](n.t0);case 11:case"end":return n.stop()}},e,this,[[1,8]])})),ST.apply(this,arguments)}function WZe(){var e=this;this.abortController.abort(),this.createdPromise.then(function(){e.options.abortMultipartUpload({key:e.key,uploadId:e.uploadId})},function(){})}function VZe(e){e&&e.name==="AbortError"||this.options.onError(e)}FX.exports=IZe});var zX=h(function(ymt,LX){"use strict";function db(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?db=function(r){return typeof r}:db=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},db(e)}function CX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CX(Object(r),!0).forEach(function(n){GZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GZe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function jX(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){DX(i,n,a,o,u,"next",s)}function u(s){DX(i,n,a,o,u,"throw",s)}o(void 0)})}}function KZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YZe(e,t,r){return t&&UX(e.prototype,t),r&&UX(e,r),e}function XZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OT(e,t)}function OT(e,t){return OT=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},OT(e,t)}function JZe(e){var t=ZZe();return function(){var n=hb(e),a;if(t){var i=hb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return QZe(this,a)}}function QZe(e,t){if(t&&(db(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cr(e)}function cr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hb(e)}var vb=Xt(),eet=eo(),MX;function fr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var tet=0;function yb(e){return"__private_"+tet+++"_"+e}var ret=rn(),NX=Ip(),net=Ep(),iet=Tp(),aet={version:"2.4.1"},oet=xX();function Wp(e){if(e&&e.error){var t=new Error(e.message);throw Object.assign(t,e.error),t}return e}var Vp=yb("queueRequestSocketToken"),ft=yb("client"),PT=yb("requestSocketToken"),Gp=yb("setCompanionHeaders");MX=Symbol.for("uppy test: getClient");var BX=function(e,t){XZe(n,e);var r=JZe(n);function n(a,i){var o;KZe(this,n),o=r.call(this,a,i),Object.defineProperty(cr(o),Vp,{writable:!0,value:void 0}),Object.defineProperty(cr(o),ft,{writable:!0,value:void 0}),Object.defineProperty(cr(o),PT,{writable:!0,value:function(){var s=jX(regeneratorRuntime.mark(function c(f){var p,d,v,m;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return p=f.remote.providerOptions.provider?vb.Provider:vb.RequestClient,d=new p(o.uppy,f.remote.providerOptions),v=Br({},o.opts),f.tus&&Object.assign(v,f.tus),w.next=6,d.post(f.remote.url,Br(Br({},f.remote.body),{},{protocol:"s3-multipart",size:f.data.size,metadata:f.meta}));case 6:return m=w.sent,w.abrupt("return",m.token);case 8:case"end":return w.stop()}},c)}));function l(c){return s.apply(this,arguments)}return l}()}),Object.defineProperty(cr(o),Gp,{writable:!0,value:function(){return fr(cr(o),ft)[ft].setCompanionHeaders(o.opts.companionHeaders),Promise.resolve()}}),o.type="uploader",o.id=o.opts.id||"AwsS3Multipart",o.title="AWS S3 Multipart",fr(cr(o),ft)[ft]=new vb.RequestClient(a,i);var u={timeout:30*1e3,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:o.createMultipartUpload.bind(cr(o)),listParts:o.listParts.bind(cr(o)),prepareUploadParts:o.prepareUploadParts.bind(cr(o)),abortMultipartUpload:o.abortMultipartUpload.bind(cr(o)),completeMultipartUpload:o.completeMultipartUpload.bind(cr(o)),companionHeaders:{}};return o.opts=Br(Br({},u),i),o.upload=o.upload.bind(cr(o)),o.requests=new eet.RateLimitedQueue(o.opts.limit),o.uploaders=Object.create(null),o.uploaderEvents=Object.create(null),o.uploaderSockets=Object.create(null),fr(cr(o),Vp)[Vp]=o.requests.wrapPromiseFunction(fr(cr(o),PT)[PT]),o}return YZe(n,[{key:t,value:function(){return fr(this,ft)[ft]}},{key:"client",get:function(){return fr(this,ft)[ft]}},{key:"client",set:function(i){fr(this,ft)[ft]=i}},{key:"resetUploaderReferences",value:function(i,o){o===void 0&&(o={}),this.uploaders[i]&&(this.uploaders[i].abort({really:o.abort||!1}),this.uploaders[i]=null),this.uploaderEvents[i]&&(this.uploaderEvents[i].remove(),this.uploaderEvents[i]=null),this.uploaderSockets[i]&&(this.uploaderSockets[i].close(),this.uploaderSockets[i]=null)}},{key:"assertHost",value:function(i){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `".concat(i,"` implementation."))}},{key:"createMultipartUpload",value:function(i){this.assertHost("createMultipartUpload");var o={};return Object.keys(i.meta).forEach(function(u){i.meta[u]!=null&&(o[u]=i.meta[u].toString())}),fr(this,ft)[ft].post("s3/multipart",{filename:i.name,type:i.type,metadata:o}).then(Wp)}},{key:"listParts",value:function(i,o){var u=o.key,s=o.uploadId;this.assertHost("listParts");var l=encodeURIComponent(u);return fr(this,ft)[ft].get("s3/multipart/".concat(s,"?key=").concat(l)).then(Wp)}},{key:"prepareUploadParts",value:function(i,o){var u=o.key,s=o.uploadId,l=o.partNumbers;this.assertHost("prepareUploadParts");var c=encodeURIComponent(u);return fr(this,ft)[ft].get("s3/multipart/".concat(s,"/batch?key=").concat(c,"&partNumbers=").concat(l.join(","))).then(Wp)}},{key:"completeMultipartUpload",value:function(i,o){var u=o.key,s=o.uploadId,l=o.parts;this.assertHost("completeMultipartUpload");var c=encodeURIComponent(u),f=encodeURIComponent(s);return fr(this,ft)[ft].post("s3/multipart/".concat(f,"/complete?key=").concat(c),{parts:l}).then(Wp)}},{key:"abortMultipartUpload",value:function(i,o){var u=o.key,s=o.uploadId;this.assertHost("abortMultipartUpload");var l=encodeURIComponent(u),c=encodeURIComponent(s);return fr(this,ft)[ft].delete("s3/multipart/".concat(c,"?key=").concat(l)).then(Wp)}},{key:"uploadFile",value:function(i){var o=this,u=this;return new Promise(function(s,l){var c,f=function(b){var O=o.uppy.getFile(i.id);o.uppy.setFileState(i.id,{s3Multipart:Br(Br({},O.s3Multipart),{},{key:b.key,uploadId:b.uploadId})})},p=function(b,O){o.uppy.emit("upload-progress",i,{uploader:o,bytesUploaded:b,bytesTotal:O})},d=function(b){o.uppy.log(b),o.uppy.emit("upload-error",i,b),c.done(),o.resetUploaderReferences(i.id),l(b)},v=function(b){var O=g,T={body:Br({},b),uploadURL:b.location};c.done(),o.resetUploaderReferences(i.id);var x=o.uppy.getFile(i.id);o.uppy.emit("upload-success",x||i,T),b.location&&o.uppy.log("Download ".concat(O.file.name," from ").concat(b.location)),s(O)},m=function(b){var O=o.uppy.getFile(i.id);!O||o.uppy.emit("s3-multipart:part-uploaded",O,b)},g=new oet(i.data,Br({createMultipartUpload:o.opts.createMultipartUpload.bind(o,i),listParts:o.opts.listParts.bind(o,i),prepareUploadParts:o.opts.prepareUploadParts.bind(o,i),completeMultipartUpload:o.opts.completeMultipartUpload.bind(o,i),abortMultipartUpload:o.opts.abortMultipartUpload.bind(o,i),getChunkSize:o.opts.getChunkSize?o.opts.getChunkSize.bind(o):null,onStart:f,onProgress:p,onError:d,onSuccess:v,onPartComplete:m,limit:o.opts.limit||5,retryDelays:o.opts.retryDelays||[]},i.s3Multipart));o.uploaders[i.id]=g,o.uploaderEvents[i.id]=new NX(o.uppy),c=o.requests.run(function(){return i.isPaused||g.start(),function(){}}),o.onFileRemove(i.id,function(w){c.abort(),o.resetUploaderReferences(i.id,{abort:!0}),s("upload ".concat(w.id," was removed"))}),o.onCancelAll(i.id,function(w){var b=w===void 0?{}:w,O=b.reason;O==="user"&&(c.abort(),u.resetUploaderReferences(i.id,{abort:!0})),s("upload ".concat(i.id," was canceled"))}),o.onFilePause(i.id,function(w){w?(c.abort(),g.pause()):(c.abort(),c=o.requests.run(function(){return g.start(),function(){}}))}),o.onPauseAll(i.id,function(){c.abort(),g.pause()}),o.onResumeAll(i.id,function(){c.abort(),i.error&&g.abort(),c=o.requests.run(function(){return g.start(),function(){}})}),(!i.progress.uploadStarted||!i.isRestored)&&o.uppy.emit("upload-started",i)})}},{key:"uploadRemote",value:function(){var a=jX(regeneratorRuntime.mark(function o(u){var s;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.resetUploaderReferences(u.id),(!u.progress.uploadStarted||!u.isRestored)&&this.uppy.emit("upload-started",u),c.prev=2,!u.serverToken){c.next=5;break}return c.abrupt("return",this.connectToServerSocket(u));case 5:return c.next=7,fr(this,Vp)[Vp](u);case 7:return s=c.sent,this.uppy.setFileState(u.id,{serverToken:s}),c.abrupt("return",this.connectToServerSocket(this.uppy.getFile(u.id)));case 12:throw c.prev=12,c.t0=c.catch(2),this.uppy.emit("upload-error",u,c.t0),c.t0;case 16:case"end":return c.stop()}},o,this,[[2,12]])}));function i(o){return a.apply(this,arguments)}return i}()},{key:"connectToServerSocket",value:function(i){var o=this,u=this;return new Promise(function(s,l){var c,f=i.serverToken,p=iet(i.remote.companionUrl),d=new vb.Socket({target:"".concat(p,"/api/").concat(f)});o.uploaderSockets[i.id]=d,o.uploaderEvents[i.id]=new NX(o.uppy),o.onFileRemove(i.id,function(){c.abort(),d.send("cancel",{}),o.resetUploaderReferences(i.id,{abort:!0}),s("upload ".concat(i.id," was removed"))}),o.onFilePause(i.id,function(v){v?(c.abort(),d.send("pause",{})):(c.abort(),c=o.requests.run(function(){return d.send("resume",{}),function(){}}))}),o.onPauseAll(i.id,function(){c.abort(),d.send("pause",{})}),o.onCancelAll(i.id,function(v){var m=v===void 0?{}:v,g=m.reason;g==="user"&&(c.abort(),d.send("cancel",{}),u.resetUploaderReferences(i.id)),s("upload ".concat(i.id," was canceled"))}),o.onResumeAll(i.id,function(){c.abort(),i.error&&d.send("pause",{}),c=o.requests.run(function(){d.send("resume",{})})}),o.onRetry(i.id,function(){d.isOpen&&(d.send("pause",{}),d.send("resume",{}))}),o.onRetryAll(i.id,function(){d.isOpen&&(d.send("pause",{}),d.send("resume",{}))}),d.on("progress",function(v){return net(o,v,i)}),d.on("error",function(v){o.uppy.emit("upload-error",i,new Error(v.error)),o.resetUploaderReferences(i.id),c.done(),l(new Error(v.error))}),d.on("success",function(v){var m={uploadURL:v.url};o.uppy.emit("upload-success",i,m),o.resetUploaderReferences(i.id),c.done(),s()}),c=o.requests.run(function(){return i.isPaused&&d.send("pause",{}),function(){}})})}},{key:"upload",value:function(i){var o=this;if(i.length===0)return Promise.resolve();var u=i.map(function(s){var l=o.uppy.getFile(s);return l.isRemote?o.uploadRemote(l):o.uploadFile(l)});return Promise.all(u)}},{key:"onFileRemove",value:function(i,o){this.uploaderEvents[i].on("file-removed",function(u){i===u.id&&o(u.id)})}},{key:"onFilePause",value:function(i,o){this.uploaderEvents[i].on("upload-pause",function(u,s){i===u&&o(s)})}},{key:"onRetry",value:function(i,o){this.uploaderEvents[i].on("upload-retry",function(u){i===u&&o()})}},{key:"onRetryAll",value:function(i,o){var u=this;this.uploaderEvents[i].on("retry-all",function(){!u.uppy.getFile(i)||o()})}},{key:"onPauseAll",value:function(i,o){var u=this;this.uploaderEvents[i].on("pause-all",function(){!u.uppy.getFile(i)||o()})}},{key:"onCancelAll",value:function(i,o){var u=this;this.uploaderEvents[i].on("cancel-all",function(){!u.uppy.getFile(i)||o.apply(void 0,arguments)})}},{key:"onResumeAll",value:function(i,o){var u=this;this.uploaderEvents[i].on("resume-all",function(){!u.uppy.getFile(i)||o()})}},{key:"install",value:function(){var i=this.uppy.getState(),o=i.capabilities;this.uppy.setState({capabilities:Br(Br({},o),{},{resumableUploads:!0})}),this.uppy.addPreProcessor(fr(this,Gp)[Gp]),this.uppy.addUploader(this.upload)}},{key:"uninstall",value:function(){var i=this.uppy.getState(),o=i.capabilities;this.uppy.setState({capabilities:Br(Br({},o),{},{resumableUploads:!1})}),this.uppy.removePreProcessor(fr(this,Gp)[Gp]),this.uppy.removeUploader(this.upload)}}]),n}(ret,MX);BX.VERSION=aet.version;LX.exports=BX});var HX=h(function(gb,yl){function mb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mb=function(r){return typeof r}:mb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mb(e)}(function(e,t){(typeof gb=="undefined"?"undefined":mb(gb))==="object"&&typeof yl!="undefined"?yl.exports=t(e):typeof define=="function"&&define.amd?define(t):t(e)})(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:gb,function(e){"use strict";e=e||{};var t=e.Base64,r="2.6.4",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(X){for(var A={},k=0,z=X.length;k<z;k++)A[X.charAt(k)]=k;return A}(n),i=String.fromCharCode,o=function(A){if(A.length<2){var k=A.charCodeAt(0);return k<128?A:k<2048?i(192|k>>>6)+i(128|k&63):i(224|k>>>12&15)+i(128|k>>>6&63)+i(128|k&63)}else{var k=65536+(A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320);return i(240|k>>>18&7)+i(128|k>>>12&63)+i(128|k>>>6&63)+i(128|k&63)}},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(A){return A.replace(u,o)},l=function(A){var k=[0,2,1][A.length%3],z=A.charCodeAt(0)<<16|(A.length>1?A.charCodeAt(1):0)<<8|(A.length>2?A.charCodeAt(2):0),C=[n.charAt(z>>>18),n.charAt(z>>>12&63),k>=2?"=":n.charAt(z>>>6&63),k>=1?"=":n.charAt(z&63)];return C.join("")},c=e.btoa&&typeof e.btoa=="function"?function(X){return e.btoa(X)}:function(X){if(X.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return X.replace(/[\s\S]{1,3}/g,l)},f=function(A){return c(s(String(A)))},p=function(A){return A.replace(/[+\/]/g,function(k){return k=="+"?"-":"_"}).replace(/=/g,"")},d=function(A,k){return k?p(f(A)):f(A)},v=function(A){return d(A,!0)},m;e.Uint8Array&&(m=function(A,k){for(var z="",C=0,j=A.length;C<j;C+=3){var L=A[C],ee=A[C+1],ce=A[C+2],ue=L<<16|ee<<8|ce;z+=n.charAt(ue>>>18)+n.charAt(ue>>>12&63)+(typeof ee!="undefined"?n.charAt(ue>>>6&63):"=")+(typeof ce!="undefined"?n.charAt(ue&63):"=")}return k?p(z):z});var g=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=function(A){switch(A.length){case 4:var k=(7&A.charCodeAt(0))<<18|(63&A.charCodeAt(1))<<12|(63&A.charCodeAt(2))<<6|63&A.charCodeAt(3),z=k-65536;return i((z>>>10)+55296)+i((z&1023)+56320);case 3:return i((15&A.charCodeAt(0))<<12|(63&A.charCodeAt(1))<<6|63&A.charCodeAt(2));default:return i((31&A.charCodeAt(0))<<6|63&A.charCodeAt(1))}},b=function(A){return A.replace(g,w)},O=function(A){var k=A.length,z=k%4,C=(k>0?a[A.charAt(0)]<<18:0)|(k>1?a[A.charAt(1)]<<12:0)|(k>2?a[A.charAt(2)]<<6:0)|(k>3?a[A.charAt(3)]:0),j=[i(C>>>16),i(C>>>8&255),i(C&255)];return j.length-=[0,0,2,1][z],j.join("")},T=e.atob&&typeof e.atob=="function"?function(X){return e.atob(X)}:function(X){return X.replace(/\S{1,4}/g,O)},x=function(A){return T(String(A).replace(/[^A-Za-z0-9\+\/]/g,""))},D=function(A){return b(T(A))},N=function(A){return String(A).replace(/[-_]/g,function(k){return k=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},G=function(A){return D(N(A))},q;e.Uint8Array&&(q=function(A){return Uint8Array.from(x(N(A)),function(k){return k.charCodeAt(0)})});var U=function(){var A=e.Base64;return e.Base64=t,A};if(e.Base64={VERSION:r,atob:x,btoa:c,fromBase64:G,toBase64:d,utob:s,encode:d,encodeURI:v,btou:b,decode:G,noConflict:U,fromUint8Array:m,toUint8Array:q},typeof Object.defineProperty=="function"){var Q=function(A){return{value:A,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",Q(function(){return G(this)})),Object.defineProperty(String.prototype,"toBase64",Q(function(X){return d(this,X)})),Object.defineProperty(String.prototype,"toBase64URI",Q(function(){return d(this,!0)}))}}return e.Meteor&&(Base64=e.Base64),typeof yl!="undefined"&&yl.exports?yl.exports.Base64=e.Base64:typeof define=="function"&&define.amd&&define([],function(){return e.Base64}),{Base64:e.Base64}})});var WX=h(function(mmt,$X){"use strict";$X.exports=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var KX=h(function(RT){"use strict";var uet=Object.prototype.hasOwnProperty,set;function VX(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function GX(e){try{return encodeURIComponent(e)}catch(t){return null}}function cet(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var a=VX(n[1]),i=VX(n[2]);a===null||i===null||a in r||(r[a]=i)}return r}function fet(e,t){t=t||"";var r=[],n,a;typeof t!="string"&&(t="?");for(a in e)if(uet.call(e,a)){if(n=e[a],!n&&(n===null||n===set||isNaN(n))&&(n=""),a=GX(a),n=GX(n),a===null||n===null)continue;r.push(a+"="+n)}return r.length?t+r.join("&"):""}RT.stringify=fet;RT.parse=cet});var eJ=h(function(bmt,ZX){"use strict";function ml(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ml=function(r){return typeof r}:ml=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ml(e)}var YX=WX(),bb=KX(),pet=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,det=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,het=/^[a-zA-Z]:/,vet="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",yet=new RegExp("^"+vet+"+");function qT(e){return(e||"").toString().replace(yet,"")}var ET=[["#","hash"],["?","query"],function(t,r){return oa(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],XX={hash:1,query:1};function JX(e){var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t={};var r=t.location||{};e=e||r;var n={},a=ml(e),i;if(e.protocol==="blob:")n=new ci(unescape(e.pathname),{});else if(a==="string"){n=new ci(e,{});for(i in XX)delete n[i]}else if(a==="object"){for(i in e)i in XX||(n[i]=e[i]);n.slashes===void 0&&(n.slashes=pet.test(e.href))}return n}function oa(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function QX(e,t){e=qT(e),t=t||{};var r=det.exec(e),n=r[1]?r[1].toLowerCase():"",a=!!r[2],i=!!r[3],o=0,u;return a?i?(u=r[2]+r[3]+r[4],o=r[2].length+r[3].length):(u=r[2]+r[4],o=r[2].length):i?(u=r[3]+r[4],o=r[3].length):u=r[4],n==="file:"?o>=2&&(u=u.slice(2)):oa(n)?u=r[4]:n?a&&(u=u.slice(2)):o>=2&&oa(t.protocol)&&(u=r[4]),{protocol:n,slashes:a||oa(n),slashesCount:o,rest:u}}function met(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,a=r[n-1],i=!1,o=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),o++):o&&(n===0&&(i=!0),r.splice(n,1),o--);return i&&r.unshift(""),(a==="."||a==="..")&&r.push(""),r.join("/")}function ci(e,t,r){if(e=qT(e),!(this instanceof ci))return new ci(e,t,r);var n,a,i,o,u,s,l=ET.slice(),c=ml(t),f=this,p=0;for(c!=="object"&&c!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=bb.parse),t=JX(t),a=QX(e||"",t),n=!a.protocol&&!a.slashes,f.slashes=a.slashes||n&&t.slashes,f.protocol=a.protocol||t.protocol||"",e=a.rest,(a.protocol==="file:"&&(a.slashesCount!==2||het.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!oa(f.protocol)))&&(l[3]=[/(.*)/,"pathname"]);p<l.length;p++){if(o=l[p],typeof o=="function"){e=o(e,f);continue}i=o[0],s=o[1],i!==i?f[s]=e:typeof i=="string"?~(u=e.indexOf(i))&&(typeof o[2]=="number"?(f[s]=e.slice(0,u),e=e.slice(u+o[2])):(f[s]=e.slice(u),e=e.slice(0,u))):(u=i.exec(e))&&(f[s]=u[1],e=e.slice(0,u.index)),f[s]=f[s]||n&&o[3]&&t[s]||"",o[4]&&(f[s]=f[s].toLowerCase())}r&&(f.query=r(f.query)),n&&t.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||t.pathname!=="")&&(f.pathname=met(f.pathname,t.pathname)),f.pathname.charAt(0)!=="/"&&oa(f.protocol)&&(f.pathname="/"+f.pathname),YX(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(o=f.auth.split(":"),f.username=o[0]||"",f.password=o[1]||""),f.origin=f.protocol!=="file:"&&oa(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function get(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||bb.parse)(t)),n[e]=t;break;case"port":n[e]=t,YX(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var a=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==a?a+t:t}else n[e]=t;break;default:n[e]=t}for(var i=0;i<ET.length;i++){var o=ET[i];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.origin=n.protocol!=="file:"&&oa(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function bet(e){(!e||typeof e!="function")&&(e=bb.stringify);var t,r=this,n=r.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var a=n+(r.slashes||oa(r.protocol)?"//":"");return r.username&&(a+=r.username,r.password&&(a+=":"+r.password),a+="@"),a+=r.host+r.pathname,t=ml(r.query)==="object"?e(r.query):r.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(a+=r.hash),a}ci.prototype={set:get,toString:bet};ci.extractProtocol=QX;ci.location=JX;ci.trimLeft=qT;ci.qs=bb;ZX.exports=ci});var rJ=h(function(Sb){"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.default=void 0;function _b(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_b=function(r){return typeof r}:_b=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_b(e)}function _et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kp(e,t)}function Oet(e){return function(){var t=Yp(e),r;if(tJ()){var n=Yp(this).constructor;r=Reflect.construct(t,arguments,n)}else r=t.apply(this,arguments);return Pet(this,r)}}function Pet(e,t){return t&&(_b(t)==="object"||typeof t=="function")?t:Ret(e)}function Ret(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TT(e){var t=typeof Map=="function"?new Map:void 0;return TT=function(n){if(n===null||!qet(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return wb(n,arguments,Yp(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Kp(a,n)},TT(e)}function wb(e,t,r){return tJ()?wb=Reflect.construct:wb=function(a,i,o){var u=[null];u.push.apply(u,i);var s=Function.bind.apply(a,u),l=new s;return o&&Kp(l,o.prototype),l},wb.apply(null,arguments)}function tJ(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function qet(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Kp(e,t){return Kp=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Kp(e,t)}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}var Eet=function(e){wet(r,e);var t=Oet(r);function r(n){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(_et(this,r),a=t.call(this,n),a.originalRequest=o,a.originalResponse=u,a.causingError=i,i!=null&&(n+=", caused by ".concat(i.toString())),o!=null){var s=o.getHeader("X-Request-ID")||"n/a",l=o.getMethod(),c=o.getURL(),f=u?u.getStatus():"n/a",p=u?u.getBody()||"":"n/a";n+=", originated from request (method: ".concat(l,", url: ").concat(c,", response code: ").concat(f,", response text: ").concat(p,", request id: ").concat(s,")")}return a.message=n,a}return r}(TT(Error)),Tet=Eet;Sb.default=Tet});var AT=h(function(Ob){"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.enableDebugLog=Aet;Ob.log=ket;var nJ=!1;function Aet(){nJ=!0}function ket(e){!nJ||console.log(e)}});var iJ=h(function(kT){"use strict";Object.defineProperty(kT,"__esModule",{value:!0});kT.default=Iet;function Iet(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}});var dJ=h(function(Rb){"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.default=void 0;var Fet=HX(),xet=IT(eJ()),Pb=IT(rJ()),Pu=AT(),Cet=IT(iJ());function IT(e){return e&&e.__esModule?e:{default:e}}function aJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aJ(Object(r),!0).forEach(function(n){Det(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Det(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uet(e,t,r){return t&&oJ(e.prototype,t),r&&oJ(e,r),e}var Met={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},uJ=function(){function e(t,r){jet(this,e),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return Uet(e,[{key:"findPreviousUploads",value:function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})}},{key:"resumeFromPreviousUpload",value:function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey}},{key:"start",value:function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var a=this.options.retryDelays;if(a!=null&&Object.prototype.toString.call(a)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach(function(i){r.options[i]&&r._emitError(new Error("tus: cannot use the ".concat(i," option when parallelUploads is enabled")))}),this.options.fingerprint(n,this.options).then(function(i){return i==null?(0,Pu.log)("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):(0,Pu.log)("Calculated fingerprint: ".concat(i)),r._fingerprint=i,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(i){r._source=i,r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(i){r._emitError(i)})}},{key:"_startParallelUpload",value:function(){var r=this,n=this._size=this._source.size,a=0;this._parallelUploads=[];var i=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,o=Bet(this._source.size,i,this._parallelUploadUrls);this._parallelUploadUrls=new Array(o.length);var u=o.map(function(l,c){var f=0;return r._source.slice(l.start,l.end).then(function(p){var d=p.value;return new Promise(function(v,m){var g=FT({},r.options,{uploadUrl:l.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:FT({},r.options.headers,{"Upload-Concat":"partial"}),onSuccess:v,onError:m,onProgress:function(O){a=a-f+O,f=O,r._emitProgress(a,n)},_onUploadUrlAvailable:function(){r._parallelUploadUrls[c]=w.url,r._parallelUploadUrls.filter(function(O){return!!O}).length===o.length&&r._saveUploadInUrlStorage()}}),w=new e(d,g);w.start(),r._parallelUploads.push(w)})})}),s;Promise.all(u).then(function(){s=r._openRequest("POST",r.options.endpoint),s.setHeader("Upload-Concat","final;".concat(r._parallelUploadUrls.join(" ")));var l=sJ(r.options.metadata);return l!==""&&s.setHeader("Upload-Metadata",l),r._sendRequest(s,null)}).then(function(l){if(!gl(l.getStatus(),200)){r._emitHttpError(s,l,"tus: unexpected response while creating upload");return}var c=l.getHeader("Location");if(c==null){r._emitHttpError(s,l,"tus: invalid or missing Location header");return}r.url=pJ(r.options.endpoint,c),(0,Pu.log)("Created upload at ".concat(r.url)),r._emitSuccess()}).catch(function(l){r._emitError(l)})}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(this.options.uploadSize!=null){if(this._size=+this.options.uploadSize,isNaN(this._size)){this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(this._size=this._source.size,this._size==null){this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return}if(this._aborted=!1,this.url!=null){(0,Pu.log)("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){(0,Pu.log)("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,this._resumeUpload();return}(0,Pu.log)("Creating a new upload"),this._createUpload()}},{key:"abort",value:function(r){var n=this;if(arguments.length>1&&typeof arguments[1]=="function")throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return this._parallelUploads!=null&&this._parallelUploads.forEach(function(a){a.abort(r)}),this._req!==null&&(this._req.abort(),this._source.close()),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():e.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(r,n,a,i){this._emitError(new Pb.default(a,i,r,n))}},{key:"_emitError",value:function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var a=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(a&&(this._retryAttempt=0),fJ(r,this._retryAttempt,this.options)){var i=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},i);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)}},{key:"_emitChunkComplete",value:function(r,n,a){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,a)}},{key:"_createUpload",value:function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var a=sJ(this.options.metadata);a!==""&&n.setHeader("Upload-Metadata",a);var i;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,i=this._addChunkToRequest(n)):i=this._sendRequest(n,null),i.then(function(o){if(!gl(o.getStatus(),200)){r._emitHttpError(n,o,"tus: unexpected response while creating upload");return}var u=o.getHeader("Location");if(u==null){r._emitHttpError(n,o,"tus: invalid or missing Location header");return}if(r.url=pJ(r.options.endpoint,u),(0,Pu.log)("Created upload at ".concat(r.url)),typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage(),r.options.uploadDataDuringCreation?r._handleUploadResponse(n,o):(r._offset=0,r._performUpload())}).catch(function(o){r._emitHttpError(n,null,"tus: failed to create upload",o)})}},{key:"_resumeUpload",value:function(){var r=this,n=this._openRequest("HEAD",this.url),a=this._sendRequest(n,null);a.then(function(i){var o=i.getStatus();if(!gl(o,200)){if(gl(o,400)&&r._removeFromUrlStorage(),o===423){r._emitHttpError(n,i,"tus: upload is currently locked; retry later");return}if(!r.options.endpoint){r._emitHttpError(n,i,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var u=parseInt(i.getHeader("Upload-Offset"),10);if(isNaN(u)){r._emitHttpError(n,i,"tus: invalid or missing offset value");return}var s=parseInt(i.getHeader("Upload-Length"),10);if(isNaN(s)&&!r.options.uploadLengthDeferred){r._emitHttpError(n,i,"tus: invalid or missing length value");return}if(typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),u===s){r._emitProgress(s,s),r._emitSuccess();return}r._offset=u,r._performUpload()}).catch(function(i){r._emitHttpError(n,null,"tus: failed to resume upload",i)})}},{key:"_performUpload",value:function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var a=this._addChunkToRequest(n);a.then(function(i){if(!gl(i.getStatus(),200)){r._emitHttpError(n,i,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,i)}).catch(function(i){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),i)})}}},{key:"_addChunkToRequest",value:function(r){var n=this,a=this._offset,i=this._offset+this.options.chunkSize;return r.setProgressHandler(function(o){n._emitProgress(a+o,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(i===1/0||i>this._size)&&!this.options.uploadLengthDeferred&&(i=this._size),this._source.slice(a,i).then(function(o){var u=o.value,s=o.done;return n.options.uploadLengthDeferred&&s&&(n._size=n._offset+(u&&u.size?u.size:0),r.setHeader("Upload-Length",n._size)),u===null?n._sendRequest(r):(n._emitProgress(n._offset,n._size),n._sendRequest(r,u))})}},{key:"_handleUploadResponse",value:function(r,n){var a=parseInt(n.getHeader("Upload-Offset"),10);if(isNaN(a)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(a,this._size),this._emitChunkComplete(a-this._offset,a,this._size),this._offset=a,a==this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(r,n){var a=lJ(r,n,this.options);return this._req=a,a}},{key:"_removeFromUrlStorage",value:function(){var r=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var r=this;if(!(!this.options.storeFingerprintForResuming||!this._fingerprint)){var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(a){return r._urlStorageKey=a}).catch(function(a){r._emitError(a)})}}},{key:"_sendRequest",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return cJ(r,n,this.options)}}],[{key:"terminate",value:function(r,n){if(arguments.length>1&&typeof arguments[arguments.length-1]=="function")throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");n===void 0&&(n={});var a=lJ("DELETE",r,n);return cJ(a,null,n).then(function(i){if(i.getStatus()!==204)throw new Pb.default("tus: unexpected response while terminating upload",null,a,i)}).catch(function(i){if(i instanceof Pb.default||(i=new Pb.default("tus: failed to terminate upload",i,a,null)),!fJ(i,0,n))throw i;var o=n.retryDelays[0],u=n.retryDelays.slice(1),s=FT({},n,{retryDelays:u});return new Promise(function(l){return setTimeout(l,o)}).then(function(){return e.terminate(r,s)})})}}]),e}();function sJ(e){var t=[];for(var r in e)t.push("".concat(r," ").concat(Fet.Base64.encode(e[r])));return t.join(",")}function gl(e,t){return e>=t&&e<t+100}function lJ(e,t,r){var n=r.httpStack.createRequest(e,t);n.setHeader("Tus-Resumable","1.0.0");var a=r.headers||{};for(var i in a)n.setHeader(i,a[i]);if(r.addRequestId){var o=(0,Cet.default)();n.setHeader("X-Request-ID",o)}return n}function cJ(e,t,r){var n=typeof r.onBeforeRequest=="function"?Promise.resolve(r.onBeforeRequest(e)):Promise.resolve();return n.then(function(){return e.send(t).then(function(a){var i=typeof r.onAfterResponse=="function"?Promise.resolve(r.onAfterResponse(e,a)):Promise.resolve();return i.then(function(){return a})})})}function Net(){var e=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(e=!1),e}function fJ(e,t,r){if(r.retryDelays==null||t>=r.retryDelays.length||e.originalRequest==null)return!1;if(r&&typeof r.onShouldRetry=="function")return r.onShouldRetry(e,t,r);var n=e.originalResponse?e.originalResponse.getStatus():0;return(!gl(n,400)||n===409||n===423)&&Net()}function pJ(e,t){return new xet.default(t,e).toString()}function Bet(e,t,r){for(var n=Math.floor(e/t),a=[],i=0;i<t;i++)a.push({start:n*i,end:n*(i+1)});return a[t-1].end=e,r&&a.forEach(function(o,u){o.uploadUrl=r[u]||null}),a}uJ.defaultOptions=Met;var Let=uJ;Rb.default=Let});var vJ=h(function(qb){"use strict";Object.defineProperty(qb,"__esModule",{value:!0});qb.default=void 0;function zet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Het(e,t,r){return t&&hJ(e.prototype,t),r&&hJ(e,r),e}var $et=function(){function e(){zet(this,e)}return Het(e,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(r){return Promise.resolve([])}},{key:"removeUpload",value:function(r){return Promise.resolve()}},{key:"addUpload",value:function(r,n){return Promise.resolve(null)}}]),e}();qb.default=$et});var mJ=h(function(bl){"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.WebStorageUrlStorage=bl.canStoreURLs=void 0;function Wet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vet(e,t,r){return t&&yJ(e.prototype,t),r&&yJ(e,r),e}var xT=!1;try{xT="localStorage"in window,CT="tusSupport",localStorage.setItem(CT,localStorage.getItem(CT))}catch(e){if(e.code===e.SECURITY_ERR||e.code===e.QUOTA_EXCEEDED_ERR)xT=!1;else throw e}var CT,Get=xT;bl.canStoreURLs=Get;var Ket=function(){function e(){Wet(this,e)}return Vet(e,[{key:"findAllUploads",value:function(){var r=this._findEntries("tus::");return Promise.resolve(r)}},{key:"findUploadsByFingerprint",value:function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)}},{key:"removeUpload",value:function(r){return localStorage.removeItem(r),Promise.resolve()}},{key:"addUpload",value:function(r,n){var a=Math.round(Math.random()*1e12),i="tus::".concat(r,"::").concat(a);return localStorage.setItem(i,JSON.stringify(n)),Promise.resolve(i)}},{key:"_findEntries",value:function(r){for(var n=[],a=0;a<localStorage.length;a++){var i=localStorage.key(a);if(i.indexOf(r)===0)try{var o=JSON.parse(localStorage.getItem(i));o.urlStorageKey=i,n.push(o)}catch(u){}}return n}}]),e}();bl.WebStorageUrlStorage=Ket});var bJ=h(function(Eb){"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.default=void 0;function DT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jT(e,t,r){return t&&gJ(e.prototype,t),r&&gJ(e,r),e}var Yet=function(){function e(){DT(this,e)}return jT(e,[{key:"createRequest",value:function(r,n){return new Xet(r,n)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}();Eb.default=Yet;var Xet=function(){function e(t,r){DT(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,r,!0),this._method=t,this._url=r,this._headers={}}return jT(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n}},{key:"getHeader",value:function(r){return this._headers[r]}},{key:"setProgressHandler",value:function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){!n.lengthComputable||r(n.loaded)})}},{key:"send",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(a,i){r._xhr.onload=function(){a(new Jet(r._xhr))},r._xhr.onerror=function(o){i(o)},r._xhr.send(n)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),Jet=function(){function e(t){DT(this,e),this._xhr=t}return jT(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(r){return this._xhr.getResponseHeader(r)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}()});var UT=h(function(Tb){"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.default=void 0;var Qet=function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},Zet=Qet;Tb.default=Zet});var _J=h(function(MT){"use strict";Object.defineProperty(MT,"__esModule",{value:!0});MT.default=ett;function ett(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var a=n.response;t(a)},n.onerror=function(a){r(a)},n.open("GET",e),n.send()})}});var wJ=h(function(Ab){"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});Ab.default=void 0;var ttt=function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")},rtt=ttt;Ab.default=rtt});var SJ=h(function(NT){"use strict";Object.defineProperty(NT,"__esModule",{value:!0});NT.default=ntt;function ntt(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){var a=new Uint8Array(n.result);t({value:a})},n.onerror=function(a){r(a)},n.readAsArrayBuffer(e)})}});var qJ=h(function(Ib){"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.default=void 0;var itt=kb(UT()),att=kb(_J()),ott=kb(wJ()),utt=kb(SJ());function kb(e){return e&&e.__esModule?e:{default:e}}function BT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LT(e,t,r){return t&&OJ(e.prototype,t),r&&OJ(e,r),e}var PJ=function(){function e(t){BT(this,e),this._file=t,this.size=t.size}return LT(e,[{key:"slice",value:function(r,n){if((0,ott.default)())return(0,utt.default)(this._file.slice(r,n));var a=this._file.slice(r,n);return Promise.resolve({value:a})}},{key:"close",value:function(){}}]),e}(),stt=function(){function e(t,r){BT(this,e),this._chunkSize=r,this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return LT(e,[{key:"slice",value:function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)}},{key:"_readUntilEnoughDataOrDone",value:function(r,n){var a=this,i=n<=this._bufferOffset+RJ(this._buffer);if(this._done||i){var o=this._getDataFromBuffer(r,n),u=o==null?this._done:!1;return Promise.resolve({value:o,done:u})}return this._reader.read().then(function(s){var l=s.value,c=s.done;return c?a._done=!0:a._buffer===void 0?a._buffer=l:a._buffer=ltt(a._buffer,l),a._readUntilEnoughDataOrDone(r,n)})}},{key:"_getDataFromBuffer",value:function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var a=RJ(this._buffer)===0;return this._done&&a?null:this._buffer.slice(0,n-r)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),e}();function RJ(e){return e===void 0?0:e.size!==void 0?e.size:e.length}function ltt(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw new Error("Unknown data type")}var ctt=function(){function e(){BT(this,e)}return LT(e,[{key:"openFile",value:function(r,n){return(0,itt.default)()&&r&&typeof r.uri!="undefined"?(0,att.default)(r.uri).then(function(a){return new PJ(a)}).catch(function(a){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(a))}):typeof r.slice=="function"&&typeof r.size!="undefined"?Promise.resolve(new PJ(r)):typeof r.read=="function"?(n=+n,isFinite(n)?Promise.resolve(new stt(r,n)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))}}]),e}();Ib.default=ctt});var EJ=h(function(zT){"use strict";Object.defineProperty(zT,"__esModule",{value:!0});zT.default=dtt;var ftt=ptt(UT());function ptt(e){return e&&e.__esModule?e:{default:e}}function dtt(e,t){return(0,ftt.default)()?Promise.resolve(htt(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}function htt(e,t){var r=e.exif?vtt(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",r,t.endpoint].join("/")}function vtt(e){var t=0;if(e.length===0)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t}});var KT=h(function(Mn){"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Object.defineProperty(Mn,"enableDebugLog",{enumerable:!0,get:function(){return mtt.enableDebugLog}});Object.defineProperty(Mn,"canStoreURLs",{enumerable:!0,get:function(){return $T.canStoreURLs}});Object.defineProperty(Mn,"HttpStack",{enumerable:!0,get:function(){return TJ.default}});Mn.isSupported=Mn.defaultOptions=Mn.Upload=void 0;var HT=Xp(dJ()),ytt=Xp(vJ()),mtt=AT(),$T=mJ(),TJ=Xp(bJ()),gtt=Xp(qJ()),btt=Xp(EJ());function Xp(e){return e&&e.__esModule?e:{default:e}}function Fb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fb=function(r){return typeof r}:Fb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fb(e)}function _tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wtt(e,t,r){return t&&AJ(e.prototype,t),r&&AJ(e,r),e}function Stt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WT(e,t)}function WT(e,t){return WT=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},WT(e,t)}function Ott(e){return function(){var t=xb(e),r;if(qtt()){var n=xb(this).constructor;r=Reflect.construct(t,arguments,n)}else r=t.apply(this,arguments);return Ptt(this,r)}}function Ptt(e,t){return t&&(Fb(t)==="object"||typeof t=="function")?t:Rtt(e)}function Rtt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qtt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(e)}function kJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kJ(Object(r),!0).forEach(function(n){Ett(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ett(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var GT=VT({},HT.default.defaultOptions,{httpStack:new TJ.default,fileReader:new gtt.default,urlStorage:$T.canStoreURLs?new $T.WebStorageUrlStorage:new ytt.default,fingerprint:btt.default});Mn.defaultOptions=GT;var Ttt=function(e){Stt(r,e);var t=Ott(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _tt(this,r),a=VT({},GT,{},a),t.call(this,n,a)}return wtt(r,null,[{key:"terminate",value:function(a,i,o){return i=VT({},GT,{},i),HT.default.terminate(a,i,o)}}]),r}(HT.default);Mn.Upload=Ttt;var IJ=window,Att=IJ.XMLHttpRequest,FJ=IJ.Blob,ktt=Att&&FJ&&typeof FJ.prototype.slice=="function";Mn.isSupported=ktt});var YT=h(function(Cmt,xJ){"use strict";function Itt(e){var t=[],r=[];function n(o){t.push(o)}function a(o){r.push(o)}var i=Promise.all(e.map(function(o){return o.then(n,a)}));return i.then(function(){return{successful:t,failed:r}})}xJ.exports=Itt});var DJ=h(function(Dmt,CJ){"use strict";var Ftt=KT();function xtt(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")}function Ctt(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}function Dtt(e){return function(t,r){if(xtt()||Ctt())return Ftt.defaultOptions.fingerprint(t,r);var n=["tus",e.id,r.endpoint].join("-");return Promise.resolve(n)}}CJ.exports=Dtt});var tA=h(function(jmt,HJ){"use strict";function Cb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cb=function(r){return typeof r}:Cb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cb(e)}function jJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jJ(Object(r),!0).forEach(function(n){jtt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jJ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jtt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function MJ(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){UJ(i,n,a,o,u,"next",s)}function u(s){UJ(i,n,a,o,u,"throw",s)}o(void 0)})}}function Utt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mtt(e,t,r){return t&&NJ(e.prototype,t),r&&NJ(e,r),e}function Ntt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XT(e,t)}function XT(e,t){return XT=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},XT(e,t)}function Btt(e){var t=ztt();return function(){var n=Db(e),a;if(t){var i=Db(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Ltt(this,a)}}function Ltt(e,t){if(t&&(Cb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ua(e)}function ua(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ztt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}var Htt=KT(),JT=Xt(),$tt=eo();function Jp(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Wtt=0;function QT(e){return"__private_"+Wtt+++"_"+e}var Vtt=rn(),Gtt=Ep(),Ktt=Tp(),Ytt=YT(),BJ=Ip(),Xtt=Hs(),Jtt=cb(),ZT=Ms(),Qtt=DJ(),Ztt={version:"2.4.1"},LJ={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},Qp=QT("retryDelayIterator"),Zp=QT("queueRequestSocketToken"),eA=QT("requestSocketToken"),zJ=function(e){Ntt(r,e);var t=Btt(r);function r(n,a){var i;Utt(this,r);var o,u;i=t.call(this,n,a),Object.defineProperty(ua(i),Qp,{writable:!0,value:void 0}),Object.defineProperty(ua(i),Zp,{writable:!0,value:void 0}),Object.defineProperty(ua(i),eA,{writable:!0,value:function(){var l=MJ(regeneratorRuntime.mark(function f(p){var d,v,m,g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=p.remote.providerOptions.provider?JT.Provider:JT.RequestClient,v=new d(i.uppy,p.remote.providerOptions),m=Pt({},i.opts),p.tus&&Object.assign(m,p.tus),b.next=6,v.post(p.remote.url,Pt(Pt({},p.remote.body),{},{endpoint:m.endpoint,uploadUrl:m.uploadUrl,protocol:"tus",size:p.data.size,headers:m.headers,metadata:p.meta}));case 6:return g=b.sent,b.abrupt("return",g.token);case 8:case"end":return b.stop()}},f)}));function c(f){return l.apply(this,arguments)}return c}()}),i.type="uploader",i.id=i.opts.id||"Tus",i.title="Tus";var s={useFastRemoteRetry:!0,limit:20,retryDelays:LJ.retryDelays,withCredentials:!1};if(i.opts=Pt(Pt({},s),a),"autoRetry"in a)throw new Error("The `autoRetry` option was deprecated and has been removed.");return i.requests=(o=i.opts.rateLimitedQueue)!=null?o:new $tt.RateLimitedQueue(i.opts.limit),Jp(ua(i),Qp)[Qp]=(u=i.opts.retryDelays)==null?void 0:u.values(),i.uploaders=Object.create(null),i.uploaderEvents=Object.create(null),i.uploaderSockets=Object.create(null),i.handleResetProgress=i.handleResetProgress.bind(ua(i)),i.handleUpload=i.handleUpload.bind(ua(i)),Jp(ua(i),Zp)[Zp]=i.requests.wrapPromiseFunction(Jp(ua(i),eA)[eA]),i}return Mtt(r,[{key:"handleResetProgress",value:function(){var a=Pt({},this.uppy.getState().files);Object.keys(a).forEach(function(i){if(a[i].tus&&a[i].tus.uploadUrl){var o=Pt({},a[i].tus);delete o.uploadUrl,a[i]=Pt(Pt({},a[i]),{},{tus:o})}}),this.uppy.setState({files:a})}},{key:"resetUploaderReferences",value:function(a,i){if(i===void 0&&(i={}),this.uploaders[a]){var o=this.uploaders[a];o.abort(),i.abort&&o.abort(!0),this.uploaders[a]=null}this.uploaderEvents[a]&&(this.uploaderEvents[a].remove(),this.uploaderEvents[a]=null),this.uploaderSockets[a]&&(this.uploaderSockets[a].close(),this.uploaderSockets[a]=null)}},{key:"upload",value:function(a){var i=this,o=this;return this.resetUploaderReferences(a.id),new Promise(function(u,s){var l,c,f;i.uppy.emit("upload-started",a);var p=Pt(Pt({},i.opts),a.tus||{});typeof p.headers=="function"&&(p.headers=p.headers(a));var d=Pt(Pt({},LJ),p);d.fingerprint=Qtt(a),d.onBeforeRequest=function(b){var O=b.getUnderlyingObject();O.withCredentials=!!p.withCredentials;var T;if(typeof p.onBeforeRequest=="function"&&(T=p.onBeforeRequest(b)),ZT(l,"shouldBeRequeued")){if(!l.shouldBeRequeued)return Promise.reject();var x,D=new Promise(function(N){x=N});return l=i.requests.run(function(){return a.isPaused&&l.abort(),x(),function(){}}),Promise.all([D,T])}return T},d.onError=function(b){i.uppy.log(b);var O=b.originalRequest?b.originalRequest.getUnderlyingObject():null;Jtt(O)&&(b=new Xtt(b,O)),i.resetUploaderReferences(a.id),l.abort(),i.uppy.emit("upload-error",a,b),s(b)},d.onProgress=function(b,O){i.onReceiveUploadUrl(a,f.url),i.uppy.emit("upload-progress",a,{uploader:i,bytesUploaded:b,bytesTotal:O})},d.onSuccess=function(){var b={uploadURL:f.url};i.resetUploaderReferences(a.id),l.done(),i.uppy.emit("upload-success",a,b),f.url&&i.uppy.log("Download ".concat(f.file.name," from ").concat(f.url)),u(f)};var v=function(O){var T,x=O==null||(T=O.originalResponse)==null?void 0:T.getStatus();if(x===429){if(!i.requests.isPaused){var D,N=(D=Jp(i,Qp)[Qp])==null?void 0:D.next();if(N==null||N.done)return!1;i.requests.rateLimit(N.value)}}else{if(x>400&&x<500&&x!==409)return!1;typeof navigator!="undefined"&&navigator.onLine===!1&&(i.requests.isPaused||(i.requests.pause(),window.addEventListener("online",function(){i.requests.resume()},{once:!0})))}return l.abort(),l={shouldBeRequeued:!0,abort:function(){this.shouldBeRequeued=!1},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn:function(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0};p.onShouldRetry!=null?d.onShouldRetry=function(){for(var b=arguments.length,O=new Array(b),T=0;T<b;T++)O[T]=arguments[T];return p.onShouldRetry.apply(p,O.concat([v]))}:d.onShouldRetry=v;var m=function(O,T,x){ZT(O,T)&&!ZT(O,x)&&(O[x]=O[T])},g={},w=Array.isArray(p.metaFields)?p.metaFields:Object.keys(a.meta);w.forEach(function(b){g[b]=a.meta[b]}),m(g,"type","filetype"),m(g,"name","filename"),d.metadata=g,f=new Htt.Upload(a.data,d),i.uploaders[a.id]=f,i.uploaderEvents[a.id]=new BJ(i.uppy),c=function(){return a.isPaused||f.start(),function(){}},f.findPreviousUploads().then(function(b){var O=b[0];O&&(i.uppy.log("[Tus] Resuming upload of ".concat(a.id," started at ").concat(O.creationTime)),f.resumeFromPreviousUpload(O))}),l=i.requests.run(c),i.onFileRemove(a.id,function(b){l.abort(),i.resetUploaderReferences(a.id,{abort:!!f.url}),u("upload ".concat(b," was removed"))}),i.onPause(a.id,function(b){l.abort(),b?f.abort():l=i.requests.run(c)}),i.onPauseAll(a.id,function(){l.abort(),f.abort()}),i.onCancelAll(a.id,function(b){var O=b===void 0?{}:b,T=O.reason;T==="user"&&(l.abort(),o.resetUploaderReferences(a.id,{abort:!!f.url})),u("upload ".concat(a.id," was canceled"))}),i.onResumeAll(a.id,function(){l.abort(),a.error&&f.abort(),l=i.requests.run(c)})}).catch(function(u){throw i.uppy.emit("upload-error",a,u),u})}},{key:"uploadRemote",value:function(){var n=MJ(regeneratorRuntime.mark(function i(o){var u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.resetUploaderReferences(o.id),(!o.progress.uploadStarted||!o.isRestored)&&this.uppy.emit("upload-started",o),l.prev=2,!o.serverToken){l.next=5;break}return l.abrupt("return",this.connectToServerSocket(o));case 5:return l.next=7,Jp(this,Zp)[Zp](o);case 7:return u=l.sent,this.uppy.setFileState(o.id,{serverToken:u}),l.abrupt("return",this.connectToServerSocket(this.uppy.getFile(o.id)));case 12:throw l.prev=12,l.t0=l.catch(2),this.uppy.emit("upload-error",o,l.t0),l.t0;case 16:case"end":return l.stop()}},i,this,[[2,12]])}));function a(i){return n.apply(this,arguments)}return a}()},{key:"connectToServerSocket",value:function(a){var i=this,o=this;return new Promise(function(u,s){var l=a.serverToken,c=Ktt(a.remote.companionUrl),f=new JT.Socket({target:"".concat(c,"/api/").concat(l)});i.uploaderSockets[a.id]=f,i.uploaderEvents[a.id]=new BJ(i.uppy);var p;i.onFileRemove(a.id,function(){p.abort(),f.send("cancel",{}),i.resetUploaderReferences(a.id),u("upload ".concat(a.id," was removed"))}),i.onPause(a.id,function(d){d?(p.abort(),f.send("pause",{})):(p.abort(),p=i.requests.run(function(){return f.send("resume",{}),function(){}}))}),i.onPauseAll(a.id,function(){p.abort(),f.send("pause",{})}),i.onCancelAll(a.id,function(d){var v=d===void 0?{}:d,m=v.reason;m==="user"&&(p.abort(),f.send("cancel",{}),o.resetUploaderReferences(a.id)),u("upload ".concat(a.id," was canceled"))}),i.onResumeAll(a.id,function(){p.abort(),a.error&&f.send("pause",{}),p=i.requests.run(function(){return f.send("resume",{}),function(){}})}),i.onRetry(a.id,function(){f.isOpen&&(f.send("pause",{}),f.send("resume",{}))}),i.onRetryAll(a.id,function(){f.isOpen&&(f.send("pause",{}),f.send("resume",{}))}),f.on("progress",function(d){return Gtt(i,d,a)}),f.on("error",function(d){var v=d.error.message,m=Object.assign(new Error(v),{cause:d.error});i.opts.useFastRemoteRetry?f.close():(i.resetUploaderReferences(a.id),i.uppy.setFileState(a.id,{serverToken:null})),i.uppy.emit("upload-error",a,m),p.done(),s(m)}),f.on("success",function(d){var v={uploadURL:d.url};i.uppy.emit("upload-success",a,v),i.resetUploaderReferences(a.id),p.done(),u()}),p=i.requests.run(function(){return a.isPaused&&f.send("pause",{}),function(){}})})}},{key:"onReceiveUploadUrl",value:function(a,i){var o=this.uppy.getFile(a.id);!o||(!o.tus||o.tus.uploadUrl!==i)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(o.id,{tus:Pt(Pt({},o.tus),{},{uploadUrl:i})}))}},{key:"onFileRemove",value:function(a,i){this.uploaderEvents[a].on("file-removed",function(o){a===o.id&&i(o.id)})}},{key:"onPause",value:function(a,i){this.uploaderEvents[a].on("upload-pause",function(o,u){a===o&&i(u)})}},{key:"onRetry",value:function(a,i){this.uploaderEvents[a].on("upload-retry",function(o){a===o&&i()})}},{key:"onRetryAll",value:function(a,i){var o=this;this.uploaderEvents[a].on("retry-all",function(){!o.uppy.getFile(a)||i()})}},{key:"onPauseAll",value:function(a,i){var o=this;this.uploaderEvents[a].on("pause-all",function(){!o.uppy.getFile(a)||i()})}},{key:"onCancelAll",value:function(a,i){var o=this;this.uploaderEvents[a].on("cancel-all",function(){!o.uppy.getFile(a)||i.apply(void 0,arguments)})}},{key:"onResumeAll",value:function(a,i){var o=this;this.uploaderEvents[a].on("resume-all",function(){!o.uppy.getFile(a)||i()})}},{key:"uploadFiles",value:function(a){var i=this,o=a.map(function(u,s){var l=s+1,c=a.length;return"error"in u&&u.error?Promise.reject(new Error(u.error)):u.isRemote?((!u.progress.uploadStarted||!u.isRestored)&&i.uppy.emit("upload-started",u),i.uploadRemote(u,l,c)):((!u.progress.uploadStarted||!u.isRestored)&&i.uppy.emit("upload-started",u),i.upload(u,l,c))});return Ytt(o)}},{key:"handleUpload",value:function(a){var i=this;if(a.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var o=a.map(function(u){return i.uppy.getFile(u)});return this.uploadFiles(o).then(function(){return null})}},{key:"install",value:function(){this.uppy.setState({capabilities:Pt(Pt({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}},{key:"uninstall",value:function(){this.uppy.setState({capabilities:Pt(Pt({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload)}}]),r}(Vtt);zJ.VERSION=Ztt.version;HJ.exports=zJ});var nA=h(function(Umt,rA){typeof rA!="undefined"&&(rA.exports=Lr);function Lr(e){if(e)return ert(e)}function ert(e){for(var t in Lr.prototype)e[t]=Lr.prototype[t];return e}Lr.prototype.on=Lr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Lr.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Lr.prototype.off=Lr.prototype.removeListener=Lr.prototype.removeAllListeners=Lr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Lr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};Lr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Lr.prototype.hasListeners=function(e){return!!this.listeners(e).length}});var WJ=h(function(Mmt,$J){"use strict";function trt(e){var t=/^\w+:\/\//.exec(e),r=0;t&&(r=t[0].length+1);var n=e.indexOf("/",r);return n===-1?{origin:e,pathname:"/"}:{origin:e.slice(0,n),pathname:e.slice(n)}}$J.exports=trt});var iA=h(function(Nmt,VJ){var rrt=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nrt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];VJ.exports=function(t){var r=t,n=t.indexOf("["),a=t.indexOf("]");n!=-1&&a!=-1&&(t=t.substring(0,n)+t.substring(n,a).replace(/:/g,";")+t.substring(a,t.length));for(var i=rrt.exec(t||""),o={},u=14;u--;)o[nrt[u]]=i[u]||"";return n!=-1&&a!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=irt(o,o.path),o.queryKey=art(o,o.query),o};function irt(e,t){var r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&n.splice(0,1),t.substr(t.length-1,1)=="/"&&n.splice(n.length-1,1),n}function art(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}});var KJ=h(function(Bmt,GJ){function jb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jb=function(r){return typeof r}:jb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jb(e)}var _l=1e3,wl=_l*60,Sl=wl*60,Ru=Sl*24,ort=Ru*7,urt=Ru*365.25;GJ.exports=function(e,t){t=t||{};var r=jb(e);if(r==="string"&&e.length>0)return srt(e);if(r==="number"&&isFinite(e))return t.long?crt(e):lrt(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function srt(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*urt;case"weeks":case"week":case"w":return r*ort;case"days":case"day":case"d":return r*Ru;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Sl;case"minutes":case"minute":case"mins":case"min":case"m":return r*wl;case"seconds":case"second":case"secs":case"sec":case"s":return r*_l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function lrt(e){var t=Math.abs(e);return t>=Ru?Math.round(e/Ru)+"d":t>=Sl?Math.round(e/Sl)+"h":t>=wl?Math.round(e/wl)+"m":t>=_l?Math.round(e/_l)+"s":e+"ms"}function crt(e){var t=Math.abs(e);return t>=Ru?Ub(e,t,Ru,"day"):t>=Sl?Ub(e,t,Sl,"hour"):t>=wl?Ub(e,t,wl,"minute"):t>=_l?Ub(e,t,_l,"second"):e+" ms"}function Ub(e,t,r,n){var a=t>=r*1.5;return Math.round(e/r)+" "+n+(a?"s":"")}});var JJ=h(function(Lmt,XJ){function YJ(e){return hrt(e)||drt(e)||prt(e)||frt()}function frt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function prt(e,t){if(!!e){if(typeof e=="string")return aA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aA(e,t)}}function drt(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hrt(e){if(Array.isArray(e))return aA(e)}function aA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vrt(e){r.debug=r,r.default=r,r.coerce=s,r.disable=i,r.enable=a,r.enabled=o,r.humanize=KJ(),r.destroy=l,Object.keys(e).forEach(function(c){r[c]=e[c]}),r.names=[],r.skips=[],r.formatters={};function t(c){for(var f=0,p=0;p<c.length;p++)f=(f<<5)-f+c.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(c){var f,p=null,d,v;function m(){for(var g=arguments.length,w=new Array(g),b=0;b<g;b++)w[b]=arguments[b];if(!!m.enabled){var O=m,T=Number(new Date),x=T-(f||T);O.diff=x,O.prev=f,O.curr=T,f=T,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var D=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(G,q){if(G==="%%")return"%";D++;var U=r.formatters[q];if(typeof U=="function"){var Q=w[D];G=U.call(O,Q),w.splice(D,1),D--}return G}),r.formatArgs.call(O,w);var N=O.log||r.log;N.apply(O,w)}}return m.namespace=c,m.useColors=r.useColors(),m.color=r.selectColor(c),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:function(){return p!==null?p:(d!==r.namespaces&&(d=r.namespaces,v=r.enabled(c)),v)},set:function(w){p=w}}),typeof r.init=="function"&&r.init(m),m}function n(c,f){var p=r(this.namespace+(typeof f=="undefined"?":":f)+c);return p.log=this.log,p}function a(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];var f,p=(typeof c=="string"?c:"").split(/[\s,]+/),d=p.length;for(f=0;f<d;f++)!p[f]||(c=p[f].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function i(){var c=[].concat(YJ(r.names.map(u)),YJ(r.skips.map(u).map(function(f){return"-"+f}))).join(",");return r.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;var f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(c))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(c))return!0;return!1}function u(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function s(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}XJ.exports=vrt});var Nn=h(function(zr,Mb){zr.formatArgs=mrt;zr.save=grt;zr.load=brt;zr.useColors=yrt;zr.storage=_rt();zr.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}();zr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function yrt(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function mrt(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Mb.exports.humanize(this.diff),!!this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,function(a){a!=="%%"&&(r++,a==="%c"&&(n=r))}),e.splice(n,0,t)}}zr.log=console.debug||console.log||function(){};function grt(e){try{e?zr.storage.setItem("debug",e):zr.storage.removeItem("debug")}catch(t){}}function brt(){var e;try{e=zr.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function _rt(){try{return localStorage}catch(e){}}Mb.exports=JJ()(zr);var wrt=Mb.exports.formatters;wrt.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var eQ=h(function(Ol){"use strict";var QJ=Ol&&Ol.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.url=void 0;var Srt=QJ(iA()),Ort=QJ(Nn()),ZJ=Ort.default("socket.io-client:url");function Prt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||typeof location!="undefined"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(ZJ("protocol-less url %s",e),typeof r!="undefined"?e=r.protocol+"//"+e:e="https://"+e),ZJ("parse %s",e),n=Srt.default(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var a=n.host.indexOf(":")!==-1,i=a?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}Ol.url=Prt});var tQ=h(function(Hmt,oA){try{oA.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(e){oA.exports=!1}});var ed=h(function(uA){"use strict";Object.defineProperty(uA,"__esModule",{value:!0});uA.default=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}()});var nQ=h(function(td){"use strict";var rQ=td&&td.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(td,"__esModule",{value:!0});var Rrt=rQ(tQ()),qrt=rQ(ed());function Ert(e){var t=e.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!t||Rrt.default))return new XMLHttpRequest}catch(r){}if(!t)try{return new qrt.default[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}td.default=Ert});var Pl=h(function(ro){"use strict";var Trt=ro&&ro.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ro,"__esModule",{value:!0});ro.installTimerFunctions=ro.pick=void 0;var Nb=Trt(ed());function Art(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(a,i){return e.hasOwnProperty(i)&&(a[i]=e[i]),a},{})}ro.pick=Art;var krt=setTimeout,Irt=clearTimeout;function Frt(e,t){t.useNativeTimers?(e.setTimeoutFn=krt.bind(Nb.default),e.clearTimeoutFn=Irt.bind(Nb.default)):(e.setTimeoutFn=setTimeout.bind(Nb.default),e.clearTimeoutFn=clearTimeout.bind(Nb.default))}ro.installTimerFunctions=Frt});var qu=h(function(iQ){iQ.Emitter=pr;function pr(e){if(e)return xrt(e)}function xrt(e){for(var t in pr.prototype)e[t]=pr.prototype[t];return e}pr.prototype.on=pr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};pr.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};pr.prototype.off=pr.prototype.removeListener=pr.prototype.removeAllListeners=pr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};pr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};pr.prototype.emitReserved=pr.prototype.emit;pr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};pr.prototype.hasListeners=function(e){return!!this.listeners(e).length}});var sA=h(function(no){"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.ERROR_PACKET=no.PACKET_TYPES_REVERSE=no.PACKET_TYPES=void 0;var fi=Object.create(null);no.PACKET_TYPES=fi;fi.open="0";fi.close="1";fi.ping="2";fi.pong="3";fi.message="4";fi.upgrade="5";fi.noop="6";var aQ=Object.create(null);no.PACKET_TYPES_REVERSE=aQ;Object.keys(fi).forEach(function(e){aQ[fi[e]]=e});var Crt={type:"error",data:"parser error"};no.ERROR_PACKET=Crt});var uQ=h(function(lA){"use strict";Object.defineProperty(lA,"__esModule",{value:!0});var Drt=sA(),jrt=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Urt=typeof ArrayBuffer=="function",Mrt=function(t){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},Nrt=function(t,r,n){var a=t.type,i=t.data;return jrt&&i instanceof Blob?r?n(i):oQ(i,n):Urt&&(i instanceof ArrayBuffer||Mrt(i))?r?n(i):oQ(new Blob([i]),n):n(Drt.PACKET_TYPES[a]+(i||""))},oQ=function(t,r){var n=new FileReader;return n.onload=function(){var a=n.result.split(",")[1];r("b"+a)},n.readAsDataURL(t)};lA.default=Nrt});var lQ=h(function(rd,sQ){function Bb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bb=function(r){return typeof r}:Bb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bb(e)}(function(e,t){(typeof rd=="undefined"?"undefined":Bb(rd))==="object"&&typeof sQ!="undefined"?t(rd):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,t(e["base64-arraybuffer"]={}))})(rd,function(e){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;var a=function(u){var s=new Uint8Array(u),l,c=s.length,f="";for(l=0;l<c;l+=3)f+=t[s[l]>>2],f+=t[(s[l]&3)<<4|s[l+1]>>4],f+=t[(s[l+1]&15)<<2|s[l+2]>>6],f+=t[s[l+2]&63];return c%3==2?f=f.substring(0,f.length-1)+"=":c%3==1&&(f=f.substring(0,f.length-2)+"=="),f},i=function(u){var s=u.length*.75,l=u.length,c,f=0,p,d,v,m;u[u.length-1]==="="&&(s--,u[u.length-2]==="="&&s--);var g=new ArrayBuffer(s),w=new Uint8Array(g);for(c=0;c<l;c+=4)p=r[u.charCodeAt(c)],d=r[u.charCodeAt(c+1)],v=r[u.charCodeAt(c+2)],m=r[u.charCodeAt(c+3)],w[f++]=p<<2|d>>4,w[f++]=(d&15)<<4|v>>2,w[f++]=(v&3)<<6|m&63;return g};e.decode=i,e.encode=a,Object.defineProperty(e,"__esModule",{value:!0})})});var fQ=h(function(cA){"use strict";Object.defineProperty(cA,"__esModule",{value:!0});var Lb=sA(),Brt=lQ(),Lrt=typeof ArrayBuffer=="function",zrt=function(t,r){if(typeof t!="string")return{type:"message",data:cQ(t,r)};var n=t.charAt(0);if(n==="b")return{type:"message",data:Hrt(t.substring(1),r)};var a=Lb.PACKET_TYPES_REVERSE[n];return a?t.length>1?{type:Lb.PACKET_TYPES_REVERSE[n],data:t.substring(1)}:{type:Lb.PACKET_TYPES_REVERSE[n]}:Lb.ERROR_PACKET},Hrt=function(t,r){if(Lrt){var n=(0,Brt.decode)(t);return cQ(n,r)}else return{base64:!0,data:t}},cQ=function(t,r){switch(r){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};cA.default=zrt});var nd=h(function(ln){"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.decodePayload=ln.decodePacket=ln.encodePayload=ln.encodePacket=ln.protocol=void 0;var pQ=uQ();ln.encodePacket=pQ.default;var dQ=fQ();ln.decodePacket=dQ.default;var hQ=String.fromCharCode(30),$rt=function(t,r){var n=t.length,a=new Array(n),i=0;t.forEach(function(o,u){(0,pQ.default)(o,!1,function(s){a[u]=s,++i===n&&r(a.join(hQ))})})};ln.encodePayload=$rt;var Wrt=function(t,r){for(var n=t.split(hQ),a=[],i=0;i<n.length;i++){var o=(0,dQ.default)(n[i],r);if(a.push(o),o.type==="error")break}return a};ln.decodePayload=Wrt;ln.protocol=4});var Hb=h(function(Rl){"use strict";function zb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zb=function(r){return typeof r}:zb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zb(e)}function Vrt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Grt(e,t,r){return t&&vQ(e.prototype,t),r&&vQ(e,r),e}function Eu(){return typeof Reflect!="undefined"&&Reflect.get?Eu=Reflect.get:Eu=function(t,r,n){var a=Krt(t,r);if(!!a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Eu.apply(this,arguments)}function Krt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=sa(e),e!==null););return e}function Yrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fA(e,t)}function fA(e,t){return fA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},fA(e,t)}function Xrt(e){var t=Qrt();return function(){var n=sa(e),a;if(t){var i=sa(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Jrt(this,a)}}function Jrt(e,t){if(t&&(zb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yQ(e)}function yQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function sa(e){return sa=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sa(e)}var Zrt=Rl&&Rl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.Transport=void 0;var ent=nd(),tnt=qu(),rnt=Pl(),nnt=Zrt(Nn()),int=(0,nnt.default)("engine.io-client:transport"),ant=function(e){Yrt(r,e);var t=Xrt(r);function r(n){var a;return Vrt(this,r),a=t.call(this),a.writable=!1,(0,rnt.installTimerFunctions)(yQ(a),n),a.opts=n,a.query=n.query,a.readyState="",a.socket=n.socket,a}return Grt(r,[{key:"onError",value:function(a,i){var o=new Error(a);return o.type="TransportError",o.description=i,Eu(sa(r.prototype),"emit",this).call(this,"error",o),this}},{key:"open",value:function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}},{key:"send",value:function(a){this.readyState==="open"?this.write(a):int("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,Eu(sa(r.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(a){var i=(0,ent.decodePacket)(a,this.socket.binaryType);this.onPacket(i)}},{key:"onPacket",value:function(a){Eu(sa(r.prototype),"emit",this).call(this,"packet",a)}},{key:"onClose",value:function(){this.readyState="closed",Eu(sa(r.prototype),"emit",this).call(this,"close")}}]),r}(tnt.Emitter);Rl.Transport=ant});var hA=h(function(Zmt,wQ){"use strict";var mQ="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),$b=64,gQ={},bQ=0,io=0,_Q;function pA(e){var t="";do t=mQ[e%$b]+t,e=Math.floor(e/$b);while(e>0);return t}function ont(e){var t=0;for(io=0;io<e.length;io++)t=t*$b+gQ[e.charAt(io)];return t}function dA(){var e=pA(+new Date);return e!==_Q?(bQ=0,_Q=e):e+"."+pA(bQ++)}for(;io<$b;io++)gQ[mQ[io]]=io;dA.encode=pA;dA.decode=ont;wQ.exports=dA});var Wb=h(function(vA){vA.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t};vA.decode=function(e){for(var t={},r=e.split("&"),n=0,a=r.length;n<a;n++){var i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}});var PQ=h(function(ql){"use strict";function Vb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vb=function(r){return typeof r}:Vb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vb(e)}function unt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function snt(e,t,r){return t&&SQ(e.prototype,t),r&&SQ(e,r),e}function lnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yA(e,t)}function yA(e,t){return yA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},yA(e,t)}function cnt(e){var t=dnt();return function(){var n=Gb(e),a;if(t){var i=Gb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return fnt(this,a)}}function fnt(e,t){if(t&&(Vb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pnt(e)}function pnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}var mA=ql&&ql.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ql,"__esModule",{value:!0});ql.Polling=void 0;var hnt=Hb(),vnt=mA(Nn()),ynt=mA(hA()),mnt=mA(Wb()),OQ=nd(),Bn=(0,vnt.default)("engine.io-client:polling"),gnt=function(e){lnt(r,e);var t=cnt(r);function r(){var n;return unt(this,r),n=t.apply(this,arguments),n.polling=!1,n}return snt(r,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(a){var i=this;this.readyState="pausing";var o=function(){Bn("paused"),i.readyState="paused",a()};if(this.polling||!this.writable){var u=0;this.polling&&(Bn("we are currently polling - waiting to pause"),u++,this.once("pollComplete",function(){Bn("pre-pause polling complete"),--u||o()})),this.writable||(Bn("we are currently writing - waiting to pause"),u++,this.once("drain",function(){Bn("pre-pause writing complete"),--u||o()}))}else o()}},{key:"poll",value:function(){Bn("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(a){var i=this;Bn("polling got data %s",a);var o=function(s){if(i.readyState==="opening"&&s.type==="open"&&i.onOpen(),s.type==="close")return i.onClose(),!1;i.onPacket(s)};(0,OQ.decodePayload)(a,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Bn('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var a=this,i=function(){Bn("writing close packet"),a.write([{type:"close"}])};this.readyState==="open"?(Bn("transport open - closing"),i()):(Bn("transport not open - deferring close"),this.once("open",i))}},{key:"write",value:function(a){var i=this;this.writable=!1,(0,OQ.encodePayload)(a,function(o){i.doWrite(o,function(){i.writable=!0,i.emit("drain")})})}},{key:"uri",value:function(){var a=this.query||{},i=this.opts.secure?"https":"http",o="";this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=(0,ynt.default)()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.opts.port&&(i==="https"&&Number(this.opts.port)!==443||i==="http"&&Number(this.opts.port)!==80)&&(o=":"+this.opts.port);var u=mnt.default.encode(a),s=this.opts.hostname.indexOf(":")!==-1;return i+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+(u.length?"?"+u:"")}}]),r}(hnt.Transport);ql.Polling=gnt});var DQ=h(function(ao){"use strict";function Kb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kb=function(r){return typeof r}:Kb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kb(e)}function RQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EQ(e,t,r){return t&&qQ(e.prototype,t),r&&qQ(e,r),e}function TQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gA(e,t)}function gA(e,t){return gA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},gA(e,t)}function AQ(e){var t=_nt();return function(){var n=Yb(e),a;if(t){var i=Yb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return bnt(this,a)}}function bnt(e,t){if(t&&(Kb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kQ(e)}function kQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _nt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}var bA=ao&&ao.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ao,"__esModule",{value:!0});ao.Request=ao.XHR=void 0;var IQ=bA(nQ()),wnt=bA(Nn()),Snt=bA(ed()),FQ=Pl(),Ont=qu(),Pnt=PQ(),_A=(0,wnt.default)("engine.io-client:polling-xhr");function Rnt(){}var qnt=function(){var e=new IQ.default({xdomain:!1});return e.responseType!=null}(),Ent=function(e){TQ(r,e);var t=AQ(r);function r(n){var a;if(RQ(this,r),a=t.call(this,n),typeof location!="undefined"){var i=location.protocol==="https:",o=location.port;o||(o=i?"443":"80"),a.xd=typeof location!="undefined"&&n.hostname!==location.hostname||o!==n.port,a.xs=n.secure!==i}var u=n&&n.forceBase64;return a.supportsBinary=qnt&&!u,a}return EQ(r,[{key:"request",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(a,{xd:this.xd,xs:this.xs},this.opts),new Tu(this.uri(),a)}},{key:"doWrite",value:function(a,i){var o=this,u=this.request({method:"POST",data:a});u.on("success",i),u.on("error",function(s){o.onError("xhr post error",s)})}},{key:"doPoll",value:function(){var a=this;_A("xhr poll");var i=this.request();i.on("data",this.onData.bind(this)),i.on("error",function(o){a.onError("xhr poll error",o)}),this.pollXhr=i}}]),r}(Pnt.Polling);ao.XHR=Ent;var Tu=function(e){TQ(r,e);var t=AQ(r);function r(n,a){var i;return RQ(this,r),i=t.call(this),(0,FQ.installTimerFunctions)(kQ(i),a),i.opts=a,i.method=a.method||"GET",i.uri=n,i.async=a.async!==!1,i.data=a.data!==void 0?a.data:null,i.create(),i}return EQ(r,[{key:"create",value:function(){var a=this,i=(0,FQ.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this.opts.xd,i.xscheme=!!this.opts.xs;var o=this.xhr=new IQ.default(i);try{_A("xhr open %s: %s",this.method,this.uri),o.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(var u in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(u)&&o.setRequestHeader(u,this.opts.extraHeaders[u])}}catch(s){}if(this.method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{o.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in o&&(o.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(o.timeout=this.opts.requestTimeout),o.onreadystatechange=function(){o.readyState===4&&(o.status===200||o.status===1223?a.onLoad():a.setTimeoutFn(function(){a.onError(typeof o.status=="number"?o.status:0)},0))},_A("xhr data %s",this.data),o.send(this.data)}catch(s){this.setTimeoutFn(function(){a.onError(s)},0);return}typeof document!="undefined"&&(this.index=r.requestsCount++,r.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(a){this.emit("data",a),this.onSuccess()}},{key:"onError",value:function(a){this.emit("error",a),this.cleanup(!0)}},{key:"cleanup",value:function(a){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=Rnt,a)try{this.xhr.abort()}catch(i){}typeof document!="undefined"&&delete r.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var a=this.xhr.responseText;a!==null&&this.onData(a)}},{key:"abort",value:function(){this.cleanup()}}]),r}(Ont.Emitter);ao.Request=Tu;Tu.requestsCount=0;Tu.requests={};typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",CQ):typeof addEventListener=="function"&&(xQ="onpagehide"in Snt.default?"pagehide":"unload",addEventListener(xQ,CQ,!1)));var xQ;function CQ(){for(var e in Tu.requests)Tu.requests.hasOwnProperty(e)&&Tu.requests[e].abort()}});var UQ=h(function(cn){"use strict";var Tnt=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cn,"__esModule",{value:!0});cn.defaultBinaryType=cn.usingBrowserWebSocket=cn.WebSocket=cn.nextTick=void 0;var jQ=Tnt(ed());cn.nextTick=function(){var e=typeof Promise=="function"&&typeof Promise.resolve=="function";return e?function(t){return Promise.resolve().then(t)}:function(t,r){return r(t,0)}}();cn.WebSocket=jQ.default.WebSocket||jQ.default.MozWebSocket;cn.usingBrowserWebSocket=!0;cn.defaultBinaryType="arraybuffer"});var BQ=h(function(El){"use strict";function Xb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xb=function(r){return typeof r}:Xb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xb(e)}function Ant(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function knt(e,t,r){return t&&MQ(e.prototype,t),r&&MQ(e,r),e}function Int(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wA(e,t)}function wA(e,t){return wA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},wA(e,t)}function Fnt(e){var t=Dnt();return function(){var n=Jb(e),a;if(t){var i=Jb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return xnt(this,a)}}function xnt(e,t){if(t&&(Xb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cnt(e)}function Cnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}var SA=El&&El.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});El.WS=void 0;var jnt=Hb(),Unt=SA(Wb()),Mnt=SA(hA()),Nnt=Pl(),pi=UQ(),Bnt=SA(Nn()),Lnt=nd(),znt=(0,Bnt.default)("engine.io-client:websocket"),NQ=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Hnt=function(e){Int(r,e);var t=Fnt(r);function r(n){var a;return Ant(this,r),a=t.call(this,n),a.supportsBinary=!n.forceBase64,a}return knt(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(!!this.check()){var a=this.uri(),i=this.opts.protocols,o=NQ?{}:(0,Nnt.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=pi.usingBrowserWebSocket&&!NQ?i?new pi.WebSocket(a,i):new pi.WebSocket(a):new pi.WebSocket(a,i,o)}catch(u){return this.emit("error",u)}this.ws.binaryType=this.socket.binaryType||pi.defaultBinaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var a=this;this.ws.onopen=function(){a.opts.autoUnref&&a.ws._socket.unref(),a.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(i){return a.onData(i.data)},this.ws.onerror=function(i){return a.onError("websocket error",i)}}},{key:"write",value:function(a){var i=this;this.writable=!1;for(var o=function(l){var c=a[l],f=l===a.length-1;(0,Lnt.encodePacket)(c,i.supportsBinary,function(p){var d={};if(!pi.usingBrowserWebSocket&&(c.options&&(d.compress=c.options.compress),i.opts.perMessageDeflate)){var v=typeof p=="string"?Buffer.byteLength(p):p.length;v<i.opts.perMessageDeflate.threshold&&(d.compress=!1)}try{pi.usingBrowserWebSocket?i.ws.send(p):i.ws.send(p,d)}catch(m){znt("websocket closed before onclose event")}f&&(0,pi.nextTick)(function(){i.writable=!0,i.emit("drain")},i.setTimeoutFn)})},u=0;u<a.length;u++)o(u)}},{key:"doClose",value:function(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var a=this.query||{},i=this.opts.secure?"wss":"ws",o="";this.opts.port&&(i==="wss"&&Number(this.opts.port)!==443||i==="ws"&&Number(this.opts.port)!==80)&&(o=":"+this.opts.port),this.opts.timestampRequests&&(a[this.opts.timestampParam]=(0,Mnt.default)()),this.supportsBinary||(a.b64=1);var u=Unt.default.encode(a),s=this.opts.hostname.indexOf(":")!==-1;return i+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+(u.length?"?"+u:"")}},{key:"check",value:function(){return!!pi.WebSocket&&!("__initialize"in pi.WebSocket&&this.name===r.prototype.name)}}]),r}(jnt.Transport);El.WS=Hnt});var OA=h(function(Qb){"use strict";Object.defineProperty(Qb,"__esModule",{value:!0});Qb.transports=void 0;var $nt=DQ(),Wnt=BQ();Qb.transports={websocket:Wnt.WS,polling:$nt.XHR}});var VQ=h(function(Tl){"use strict";function id(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?id=function(r){return typeof r}:id=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},id(e)}function Vnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gnt(e,t,r){return t&&LQ(e.prototype,t),r&&LQ(e,r),e}function Knt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PA(e,t)}function PA(e,t){return PA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},PA(e,t)}function Ynt(e){var t=Jnt();return function(){var n=Zb(e),a;if(t){var i=Zb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Xnt(this,a)}}function Xnt(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zQ(e)}function zQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}var RA=Tl&&Tl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.Socket=void 0;var Qnt=OA(),Znt=Pl(),eit=RA(Wb()),HQ=RA(iA()),tit=RA(Nn()),rit=qu(),$Q=nd(),pt=(0,tit.default)("engine.io-client:socket"),WQ=function(e){Knt(r,e);var t=Ynt(r);function r(n){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Vnt(this,r),a=t.call(this),n&&id(n)==="object"&&(i=n,n=null),n?(n=(0,HQ.default)(n),i.hostname=n.host,i.secure=n.protocol==="https"||n.protocol==="wss",i.port=n.port,n.query&&(i.query=n.query)):i.host&&(i.hostname=(0,HQ.default)(i.host).host),(0,Znt.installTimerFunctions)(zQ(a),i),a.secure=i.secure!=null?i.secure:typeof location!="undefined"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=a.secure?"443":"80"),a.hostname=i.hostname||(typeof location!="undefined"?location.hostname:"localhost"),a.port=i.port||(typeof location!="undefined"&&location.port?location.port:a.secure?"443":"80"),a.transports=i.transports||["polling","websocket"],a.readyState="",a.writeBuffer=[],a.prevBufferLen=0,a.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),a.opts.path=a.opts.path.replace(/\/$/,"")+"/",typeof a.opts.query=="string"&&(a.opts.query=eit.default.decode(a.opts.query)),a.id=null,a.upgrades=null,a.pingInterval=null,a.pingTimeout=null,a.pingTimeoutTimer=null,typeof addEventListener=="function"&&(a.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){a.transport&&(a.transport.removeAllListeners(),a.transport.close())},!1),a.hostname!=="localhost"&&(a.offlineEventListener=function(){a.onClose("transport close")},addEventListener("offline",a.offlineEventListener,!1))),a.open(),a}return Gnt(r,[{key:"createTransport",value:function(a){pt('creating transport "%s"',a);var i=nit(this.opts.query);i.EIO=$Q.protocol,i.transport=a,this.id&&(i.sid=this.id);var o=Object.assign({},this.opts.transportOptions[a],this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return pt("options: %j",o),new Qnt.transports[a](o)}},{key:"open",value:function(){var a=this,i;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)i="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){a.emitReserved("error","No transports available")},0);return}else i=this.transports[0];this.readyState="opening";try{i=this.createTransport(i)}catch(o){pt("error while creating transport: %s",o),this.transports.shift(),this.open();return}i.open(),this.setTransport(i)}},{key:"setTransport",value:function(a){var i=this;pt("setting transport %s",a.name),this.transport&&(pt("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(){i.onClose("transport close")})}},{key:"probe",value:function(a){var i=this;pt('probing transport "%s"',a);var o=this.createTransport(a),u=!1;r.priorWebsocketSuccess=!1;var s=function(){u||(pt('probe transport "%s" opened',a),o.send([{type:"ping",data:"probe"}]),o.once("packet",function(g){if(!u)if(g.type==="pong"&&g.data==="probe"){if(pt('probe transport "%s" pong',a),i.upgrading=!0,i.emitReserved("upgrading",o),!o)return;r.priorWebsocketSuccess=o.name==="websocket",pt('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){u||i.readyState!=="closed"&&(pt("changing transport and sending upgrade packet"),v(),i.setTransport(o),o.send([{type:"upgrade"}]),i.emitReserved("upgrade",o),o=null,i.upgrading=!1,i.flush())})}else{pt('probe transport "%s" failed',a);var w=new Error("probe error");w.transport=o.name,i.emitReserved("upgradeError",w)}}))};function l(){u||(u=!0,v(),o.close(),o=null)}var c=function(g){var w=new Error("probe error: "+g);w.transport=o.name,l(),pt('probe transport "%s" failed because of error: %s',a,g),i.emitReserved("upgradeError",w)};function f(){c("transport closed")}function p(){c("socket closed")}function d(m){o&&m.name!==o.name&&(pt('"%s" works - aborting "%s"',m.name,o.name),l())}var v=function(){o.removeListener("open",s),o.removeListener("error",c),o.removeListener("close",f),i.off("close",p),i.off("upgrading",d)};o.once("open",s),o.once("error",c),o.once("close",f),this.once("close",p),this.once("upgrading",d),o.open()}},{key:"onOpen",value:function(){if(pt("socket open"),this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){pt("starting upgrade probes");for(var a=0,i=this.upgrades.length;a<i;a++)this.probe(this.upgrades[a])}}},{key:"onPacket",value:function(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(pt('socket receive: type "%s", data "%s"',a.type,a.data),this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var i=new Error("server error");i.code=a.data,this.onError(i);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}else pt('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var a=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){a.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(pt("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(a,i,o){return this.sendPacket("message",a,i,o),this}},{key:"send",value:function(a,i,o){return this.sendPacket("message",a,i,o),this}},{key:"sendPacket",value:function(a,i,o,u){if(typeof i=="function"&&(u=i,i=void 0),typeof o=="function"&&(u=o,o=null),!(this.readyState==="closing"||this.readyState==="closed")){o=o||{},o.compress=o.compress!==!1;var s={type:a,data:i,options:o};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),u&&this.once("flush",u),this.flush()}}},{key:"close",value:function(){var a=this,i=function(){a.onClose("forced close"),pt("socket closing - telling transport to close"),a.transport.close()},o=function s(){a.off("upgrade",s),a.off("upgradeError",s),i()},u=function(){a.once("upgrade",o),a.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){a.upgrading?u():i()}):this.upgrading?u():i()),this}},{key:"onError",value:function(a){pt("socket error %j",a),r.priorWebsocketSuccess=!1,this.emitReserved("error",a),this.onClose("transport error",a)}},{key:"onClose",value:function(a,i){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(pt('socket close with reason: "%s"',a),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",a,i),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(a){for(var i=[],o=0,u=a.length;o<u;o++)~this.transports.indexOf(a[o])&&i.push(a[o]);return i}}]),r}(rit.Emitter);Tl.Socket=WQ;WQ.protocol=$Q.protocol;function nit(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}});var KQ=h(function(fn){"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.installTimerFunctions=fn.transports=fn.Transport=fn.protocol=fn.Socket=void 0;var GQ=VQ();Object.defineProperty(fn,"Socket",{enumerable:!0,get:function(){return GQ.Socket}});fn.protocol=GQ.Socket.protocol;var iit=Hb();Object.defineProperty(fn,"Transport",{enumerable:!0,get:function(){return iit.Transport}});var ait=OA();Object.defineProperty(fn,"transports",{enumerable:!0,get:function(){return ait.transports}});var oit=Pl();Object.defineProperty(fn,"installTimerFunctions",{enumerable:!0,get:function(){return oit.installTimerFunctions}})});var qA=h(function(Al){"use strict";function e0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e0=function(r){return typeof r}:e0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e0(e)}Object.defineProperty(Al,"__esModule",{value:!0});Al.hasBinary=Al.isBinary=void 0;var uit=typeof ArrayBuffer=="function",sit=function(t){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer},YQ=Object.prototype.toString,lit=typeof Blob=="function"||typeof Blob!="undefined"&&YQ.call(Blob)==="[object BlobConstructor]",cit=typeof File=="function"||typeof File!="undefined"&&YQ.call(File)==="[object FileConstructor]";function XQ(e){return uit&&(e instanceof ArrayBuffer||sit(e))||lit&&e instanceof Blob||cit&&e instanceof File}Al.isBinary=XQ;function t0(e,t){if(!e||e0(e)!=="object")return!1;if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)if(t0(e[r]))return!0;return!1}if(XQ(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return t0(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t0(e[a]))return!0;return!1}Al.hasBinary=t0});var JQ=h(function(kl){"use strict";function ad(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ad=function(r){return typeof r}:ad=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ad(e)}Object.defineProperty(kl,"__esModule",{value:!0});kl.reconstructPacket=kl.deconstructPacket=void 0;var fit=qA();function pit(e){var t=[],r=e.data,n=e;return n.data=EA(r,t),n.attachments=t.length,{packet:n,buffers:t}}kl.deconstructPacket=pit;function EA(e,t){if(!e)return e;if(fit.isBinary(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){for(var n=new Array(e.length),a=0;a<e.length;a++)n[a]=EA(e[a],t);return n}else if(ad(e)==="object"&&!(e instanceof Date)){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=EA(e[o],t));return i}return e}function dit(e,t){return e.data=TA(e.data,t),e.attachments=void 0,e}kl.reconstructPacket=dit;function TA(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=TA(e[r],t);else if(ad(e)==="object")for(var n in e)e.hasOwnProperty(n)&&(e[n]=TA(e[n],t));return e}});var r0=h(function(Ln){"use strict";function Il(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Il=function(r){return typeof r}:Il=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Il(e)}function Fl(){return typeof Reflect!="undefined"&&Reflect.get?Fl=Reflect.get:Fl=function(t,r,n){var a=hit(t,r);if(!!a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Fl.apply(this,arguments)}function hit(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=oo(e),e!==null););return e}function vit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AA(e,t)}function AA(e,t){return AA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},AA(e,t)}function yit(e){var t=bit();return function(){var n=oo(e),a;if(t){var i=oo(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return mit(this,a)}}function mit(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return git(e)}function git(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},oo(e)}function kA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IA(e,t,r){return t&&QQ(e.prototype,t),r&&QQ(e,r),e}Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Decoder=Ln.Encoder=Ln.PacketType=Ln.protocol=void 0;var _it=qu(),ZQ=JQ(),eZ=qA(),wit=Nn(),FA=wit.default("socket.io-parser");Ln.protocol=5;var mt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(mt=Ln.PacketType||(Ln.PacketType={}));var Sit=function(){function e(){kA(this,e)}return IA(e,[{key:"encode",value:function(r){return FA("encoding packet %j",r),(r.type===mt.EVENT||r.type===mt.ACK)&&eZ.hasBinary(r)?(r.type=r.type===mt.EVENT?mt.BINARY_EVENT:mt.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]}},{key:"encodeAsString",value:function(r){var n=""+r.type;return(r.type===mt.BINARY_EVENT||r.type===mt.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data)),FA("encoded %j as %s",r,n),n}},{key:"encodeAsBinary",value:function(r){var n=ZQ.deconstructPacket(r),a=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(a),i}}]),e}();Ln.Encoder=Sit;var Oit=function(e){vit(r,e);var t=yit(r);function r(){return kA(this,r),t.call(this)}return IA(r,[{key:"add",value:function(a){var i;if(typeof a=="string")i=this.decodeString(a),i.type===mt.BINARY_EVENT||i.type===mt.BINARY_ACK?(this.reconstructor=new Rit(i),i.attachments===0&&Fl(oo(r.prototype),"emitReserved",this).call(this,"decoded",i)):Fl(oo(r.prototype),"emitReserved",this).call(this,"decoded",i);else if(eZ.isBinary(a)||a.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(a),i&&(this.reconstructor=null,Fl(oo(r.prototype),"emitReserved",this).call(this,"decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)}},{key:"decodeString",value:function(a){var i=0,o={type:Number(a.charAt(0))};if(mt[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===mt.BINARY_EVENT||o.type===mt.BINARY_ACK){for(var u=i+1;a.charAt(++i)!=="-"&&i!=a.length;);var s=a.substring(u,i);if(s!=Number(s)||a.charAt(i)!=="-")throw new Error("Illegal attachments");o.attachments=Number(s)}if(a.charAt(i+1)==="/"){for(var l=i+1;++i;){var c=a.charAt(i);if(c===","||i===a.length)break}o.nsp=a.substring(l,i)}else o.nsp="/";var f=a.charAt(i+1);if(f!==""&&Number(f)==f){for(var p=i+1;++i;){var d=a.charAt(i);if(d==null||Number(d)!=d){--i;break}if(i===a.length)break}o.id=Number(a.substring(p,i+1))}if(a.charAt(++i)){var v=Pit(a.substr(i));if(r.isPayloadValid(o.type,v))o.data=v;else throw new Error("invalid payload")}return FA("decoded %s as %j",a,o),o}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(a,i){switch(a){case mt.CONNECT:return Il(i)==="object";case mt.DISCONNECT:return i===void 0;case mt.CONNECT_ERROR:return typeof i=="string"||Il(i)==="object";case mt.EVENT:case mt.BINARY_EVENT:return Array.isArray(i)&&i.length>0;case mt.ACK:case mt.BINARY_ACK:return Array.isArray(i)}}}]),r}(_it.Emitter);Ln.Decoder=Oit;function Pit(e){try{return JSON.parse(e)}catch(t){return!1}}var Rit=function(){function e(t){kA(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return IA(e,[{key:"takeBinaryData",value:function(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){var n=ZQ.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()});var xA=h(function(n0){"use strict";Object.defineProperty(n0,"__esModule",{value:!0});n0.on=void 0;function qit(e,t,r){return e.on(t,r),function(){e.off(t,r)}}n0.on=qit});var DA=h(function(Cl){"use strict";function i0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i0=function(r){return typeof r}:i0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},i0(e)}function Eit(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Tit(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function Tit(e,t){if(!!e){if(typeof e=="string")return tZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tZ(e,t)}}function tZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ait(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kit(e,t,r){return t&&rZ(e.prototype,t),r&&rZ(e,r),e}function a0(){return typeof Reflect!="undefined"&&Reflect.get?a0=Reflect.get:a0=function(t,r,n){var a=Iit(t,r);if(!!a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},a0.apply(this,arguments)}function Iit(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=xl(e),e!==null););return e}function Fit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CA(e,t)}function CA(e,t){return CA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},CA(e,t)}function xit(e){var t=jit();return function(){var n=xl(e),a;if(t){var i=xl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Cit(this,a)}}function Cit(e,t){if(t&&(i0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dit(e)}function Dit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function xl(e){return xl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xl(e)}var Uit=Cl&&Cl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.Socket=void 0;var pn=r0(),o0=xA(),Mit=qu(),Nit=Uit(Nn()),Rr=Nit.default("socket.io-client:socket"),Bit=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Lit=function(e){Fit(r,e);var t=xit(r);function r(n,a,i){var o;return Ait(this,r),o=t.call(this),o.connected=!1,o.disconnected=!0,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=n,o.nsp=a,i&&i.auth&&(o.auth=i.auth),o.io._autoConnect&&o.open(),o}return kit(r,[{key:"subEvents",value:function(){if(!this.subs){var a=this.io;this.subs=[o0.on(a,"open",this.onopen.bind(this)),o0.on(a,"packet",this.onpacket.bind(this)),o0.on(a,"error",this.onerror.bind(this)),o0.on(a,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return i.unshift("message"),this.emit.apply(this,i),this}},{key:"emit",value:function(a){if(Bit.hasOwnProperty(a))throw new Error('"'+a+'" is a reserved event name');for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];o.unshift(a);var s={type:pn.PacketType.EVENT,data:o};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){var l=this.ids++;Rr("emitting packet with ack id %d",l);var c=o.pop();this._registerAckCallback(l,c),s.id=l}var f=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,p=this.flags.volatile&&(!f||!this.connected);return p?Rr("discard packet as the transport is not currently writable"):this.connected?this.packet(s):this.sendBuffer.push(s),this.flags={},this}},{key:"_registerAckCallback",value:function(a,i){var o=this,u=this.flags.timeout;if(u===void 0){this.acks[a]=i;return}var s=this.io.setTimeoutFn(function(){delete o.acks[a];for(var l=0;l<o.sendBuffer.length;l++)o.sendBuffer[l].id===a&&(Rr("removing packet with ack id %d from the buffer",a),o.sendBuffer.splice(l,1));Rr("event with ack id %d has timed out after %d ms",a,u),i.call(o,new Error("operation has timed out"))},u);this.acks[a]=function(){o.io.clearTimeoutFn(s);for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];i.apply(o,[null].concat(c))}}},{key:"packet",value:function(a){a.nsp=this.nsp,this.io._packet(a)}},{key:"onopen",value:function(){var a=this;Rr("transport is open - connecting"),typeof this.auth=="function"?this.auth(function(i){a.packet({type:pn.PacketType.CONNECT,data:i})}):this.packet({type:pn.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(a){this.connected||this.emitReserved("connect_error",a)}},{key:"onclose",value:function(a){Rr("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",a)}},{key:"onpacket",value:function(a){var i=a.nsp===this.nsp;if(!!i)switch(a.type){case pn.PacketType.CONNECT:if(a.data&&a.data.sid){var o=a.data.sid;this.onconnect(o)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pn.PacketType.EVENT:this.onevent(a);break;case pn.PacketType.BINARY_EVENT:this.onevent(a);break;case pn.PacketType.ACK:this.onack(a);break;case pn.PacketType.BINARY_ACK:this.onack(a);break;case pn.PacketType.DISCONNECT:this.ondisconnect();break;case pn.PacketType.CONNECT_ERROR:this.destroy();var u=new Error(a.data.message);u.data=a.data.data,this.emitReserved("connect_error",u);break}}},{key:"onevent",value:function(a){var i=a.data||[];Rr("emitting event %j",i),a.id!=null&&(Rr("attaching ack callback to event"),i.push(this.ack(a.id))),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}},{key:"emitEvent",value:function(a){if(this._anyListeners&&this._anyListeners.length){var i=this._anyListeners.slice(),o=Eit(i),u;try{for(o.s();!(u=o.n()).done;){var s=u.value;s.apply(this,a)}}catch(l){o.e(l)}finally{o.f()}}a0(xl(r.prototype),"emit",this).apply(this,a)}},{key:"ack",value:function(a){var i=this,o=!1;return function(){if(!o){o=!0;for(var u=arguments.length,s=new Array(u),l=0;l<u;l++)s[l]=arguments[l];Rr("sending ack %j",s),i.packet({type:pn.PacketType.ACK,id:a,data:s})}}}},{key:"onack",value:function(a){var i=this.acks[a.id];typeof i=="function"?(Rr("calling ack %s with %j",a.id,a.data),i.apply(this,a.data),delete this.acks[a.id]):Rr("bad ack %s",a.id)}},{key:"onconnect",value:function(a){Rr("socket connected with id %s",a),this.id=a,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var a=this;this.receiveBuffer.forEach(function(i){return a.emitEvent(i)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(i){return a.packet(i)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){Rr("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(a){return a()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(Rr("performing disconnect (%s)",this.nsp),this.packet({type:pn.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(a){return this.flags.compress=a,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(a){return this.flags.timeout=a,this}},{key:"onAny",value:function(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}},{key:"prependAny",value:function(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}},{key:"offAny",value:function(a){if(!this._anyListeners)return this;if(a){for(var i=this._anyListeners,o=0;o<i.length;o++)if(a===i[o])return i.splice(o,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),r}(Mit.Emitter);Cl.Socket=Lit});var iZ=h(function(dgt,nZ){nZ.exports=Dl;function Dl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Dl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Dl.prototype.reset=function(){this.attempts=0};Dl.prototype.setMin=function(e){this.ms=e};Dl.prototype.setMax=function(e){this.max=e};Dl.prototype.setJitter=function(e){this.jitter=e}});var lZ=h(function(dn){"use strict";function od(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?od=function(r){return typeof r}:od=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},od(e)}function zit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hit(e,t,r){return t&&aZ(e.prototype,t),r&&aZ(e,r),e}function $it(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jA(e,t)}function jA(e,t){return jA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},jA(e,t)}function Wit(e){var t=Git();return function(){var n=u0(e),a;if(t){var i=u0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Vit(this,a)}}function Vit(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oZ(e)}function oZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Git(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function u0(e){return u0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},u0(e)}var Kit=dn&&dn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yit=dn&&dn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xit=dn&&dn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Kit(t,e,r);return Yit(t,e),t},uZ=dn&&dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dn,"__esModule",{value:!0});dn.Manager=void 0;var sZ=KQ(),Jit=DA(),Qit=Xit(r0()),Au=xA(),Zit=uZ(iZ()),eat=qu(),tat=uZ(Nn()),$t=tat.default("socket.io-client:manager"),rat=function(e){$it(r,e);var t=Wit(r);function r(n,a){var i;zit(this,r);var o;i=t.call(this),i.nsps={},i.subs=[],n&&od(n)==="object"&&(a=n,n=void 0),a=a||{},a.path=a.path||"/socket.io",i.opts=a,sZ.installTimerFunctions(oZ(i),a),i.reconnection(a.reconnection!==!1),i.reconnectionAttempts(a.reconnectionAttempts||1/0),i.reconnectionDelay(a.reconnectionDelay||1e3),i.reconnectionDelayMax(a.reconnectionDelayMax||5e3),i.randomizationFactor((o=a.randomizationFactor)!==null&&o!==void 0?o:.5),i.backoff=new Zit.default({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(a.timeout==null?2e4:a.timeout),i._readyState="closed",i.uri=n;var u=a.parser||Qit;return i.encoder=new u.Encoder,i.decoder=new u.Decoder,i._autoConnect=a.autoConnect!==!1,i._autoConnect&&i.open(),i}return Hit(r,[{key:"reconnection",value:function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection}},{key:"reconnectionAttempts",value:function(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}},{key:"reconnectionDelay",value:function(a){var i;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(i=this.backoff)===null||i===void 0||i.setMin(a),this)}},{key:"randomizationFactor",value:function(a){var i;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(i=this.backoff)===null||i===void 0||i.setJitter(a),this)}},{key:"reconnectionDelayMax",value:function(a){var i;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(i=this.backoff)===null||i===void 0||i.setMax(a),this)}},{key:"timeout",value:function(a){return arguments.length?(this._timeout=a,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}},{key:"open",value:function(a){var i=this;if($t("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;$t("opening %s",this.uri),this.engine=new sZ.Socket(this.uri,this.opts);var o=this.engine,u=this;this._readyState="opening",this.skipReconnect=!1;var s=Au.on(o,"open",function(){u.onopen(),a&&a()}),l=Au.on(o,"error",function(p){$t("error"),u.cleanup(),u._readyState="closed",i.emitReserved("error",p),a?a(p):u.maybeReconnectOnOpen()});if(this._timeout!==!1){var c=this._timeout;$t("connect attempt will timeout after %d",c),c===0&&s();var f=this.setTimeoutFn(function(){$t("connect attempt timed out after %d",c),s(),o.close(),o.emit("error",new Error("timeout"))},c);this.opts.autoUnref&&f.unref(),this.subs.push(function(){clearTimeout(f)})}return this.subs.push(s),this.subs.push(l),this}},{key:"connect",value:function(a){return this.open(a)}},{key:"onopen",value:function(){$t("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var a=this.engine;this.subs.push(Au.on(a,"ping",this.onping.bind(this)),Au.on(a,"data",this.ondata.bind(this)),Au.on(a,"error",this.onerror.bind(this)),Au.on(a,"close",this.onclose.bind(this)),Au.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(a){this.decoder.add(a)}},{key:"ondecoded",value:function(a){this.emitReserved("packet",a)}},{key:"onerror",value:function(a){$t("error",a),this.emitReserved("error",a)}},{key:"socket",value:function(a,i){var o=this.nsps[a];return o||(o=new Jit.Socket(this,a,i),this.nsps[a]=o),o}},{key:"_destroy",value:function(a){for(var i=Object.keys(this.nsps),o=0,u=i;o<u.length;o++){var s=u[o],l=this.nsps[s];if(l.active){$t("socket %s is still active, skipping close",s);return}}this._close()}},{key:"_packet",value:function(a){$t("writing packet %j",a);for(var i=this.encoder.encode(a),o=0;o<i.length;o++)this.engine.write(i[o],a.options)}},{key:"cleanup",value:function(){$t("cleanup"),this.subs.forEach(function(a){return a()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){$t("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(a){$t("closed due to %s",a),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var a=this;if(this._reconnecting||this.skipReconnect)return this;var i=this;if(this.backoff.attempts>=this._reconnectionAttempts)$t("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var o=this.backoff.duration();$t("will wait %dms before reconnect attempt",o),this._reconnecting=!0;var u=this.setTimeoutFn(function(){i.skipReconnect||($t("attempting reconnect"),a.emitReserved("reconnect_attempt",i.backoff.attempts),!i.skipReconnect&&i.open(function(s){s?($t("reconnect attempt error"),i._reconnecting=!1,i.reconnect(),a.emitReserved("reconnect_error",s)):($t("reconnect success"),i.onreconnect())}))},o);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}}},{key:"onreconnect",value:function(){var a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}]),r}(eat.Emitter);dn.Manager=rat});var dZ=h(function(Zt,pZ){"use strict";function s0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s0=function(r){return typeof r}:s0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s0(e)}var nat=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=Zt.connect=Zt.io=Zt.Socket=Zt.Manager=Zt.protocol=void 0;var iat=eQ(),l0=lZ();Object.defineProperty(Zt,"Manager",{enumerable:!0,get:function(){return l0.Manager}});var cZ=DA();Object.defineProperty(Zt,"Socket",{enumerable:!0,get:function(){return cZ.Socket}});var aat=nat(Nn()),fZ=aat.default("socket.io-client"),ud={};function ku(e,t){s0(e)==="object"&&(t=e,e=void 0),t=t||{};var r=iat.url(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,o=ud[a]&&i in ud[a].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||o,s;return u?(fZ("ignoring socket cache for %s",n),s=new l0.Manager(n,t)):(ud[a]||(fZ("new io instance for %s",n),ud[a]=new l0.Manager(n,t)),s=ud[a]),r.query&&!t.query&&(t.query=r.queryKey),s.socket(r.path,t)}Zt.io=ku;Zt.connect=ku;Zt.default=ku;Object.assign(ku,{Manager:l0.Manager,Socket:cZ.Socket,io:ku,connect:ku});var oat=r0();Object.defineProperty(Zt,"protocol",{enumerable:!0,get:function(){return oat.protocol}});pZ.exports=ku});var bZ=h(function(vgt,gZ){"use strict";function c0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c0=function(r){return typeof r}:c0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c0(e)}function hZ(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function uat(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){hZ(i,n,a,o,u,"next",s)}function u(s){hZ(i,n,a,o,u,"throw",s)}o(void 0)})}}function sat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lat(e,t,r){return t&&vZ(e.prototype,t),r&&vZ(e,r),e}function cat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UA(e,t)}function UA(e,t){return UA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},UA(e,t)}function fat(e){var t=dat();return function(){var n=f0(e),a;if(t){var i=f0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return pat(this,a)}}function pat(e,t){if(t&&(c0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hn(e)}function hn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function f0(e){return f0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},f0(e)}function gt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var hat=0;function la(e){return"__private_"+hat+++"_"+e}var vat=nA(),yat=Ms(),mat=Hs(),gat=Ey(),bat=WJ(),yZ;function _at(){var e;return(e=yZ)!=null?e:yZ=dZ()}var wat="ASSEMBLY_UPLOADING",MA="ASSEMBLY_EXECUTING",NA="ASSEMBLY_COMPLETED",mZ=[wat,MA,NA];function p0(e,t){return mZ.indexOf(e)>=mZ.indexOf(t)}var Iu=la("rateLimitedQueue"),sd=la("fetchWithNetworkError"),Fu=la("previousFetchStatusStillPending"),BA=la("onFinished"),LA=la("connectSocket"),ca=la("onError"),zA=la("beginPolling"),fa=la("fetchStatus"),HA=la("diffStatus"),Sat=function(e){cat(r,e);var t=fat(r);function r(n,a){var i;return sat(this,r),i=t.call(this),Object.defineProperty(hn(i),HA,{value:Tat}),Object.defineProperty(hn(i),fa,{value:Eat}),Object.defineProperty(hn(i),zA,{value:qat}),Object.defineProperty(hn(i),ca,{value:Rat}),Object.defineProperty(hn(i),LA,{value:Pat}),Object.defineProperty(hn(i),BA,{value:Oat}),Object.defineProperty(hn(i),Iu,{writable:!0,value:void 0}),Object.defineProperty(hn(i),sd,{writable:!0,value:void 0}),Object.defineProperty(hn(i),Fu,{writable:!0,value:!1}),i.status=n,i.socket=null,i.pollInterval=null,i.closed=!1,gt(hn(i),Iu)[Iu]=a,gt(hn(i),sd)[sd]=a.wrapPromiseFunction(gat),i}return lat(r,[{key:"connect",value:function(){gt(this,LA)[LA](),gt(this,zA)[zA]()}},{key:"update",value:function(){return gt(this,fa)[fa]({diff:!0})}},{key:"updateStatus",value:function(a){gt(this,HA)[HA](this.status,a),this.status=a}},{key:"close",value:function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null}}]),r}(vat);function Oat(){this.emit("finished"),this.close()}function Pat(){var e=this,t=bat(this.status.websocket_url),r=_at().connect(t.origin,{transports:["websocket"],path:t.pathname});r.on("connect",function(){r.emit("assembly_connect",{id:e.status.assembly_id}),e.emit("connect")}),r.on("connect_error",function(){r.disconnect(),e.socket=null}),r.on("assembly_finished",function(){gt(e,BA)[BA]()}),r.on("assembly_upload_finished",function(n){e.emit("upload",n),e.status.uploads.push(n)}),r.on("assembly_uploading_finished",function(){e.emit("executing")}),r.on("assembly_upload_meta_data_extracted",function(){e.emit("metadata"),gt(e,fa)[fa]({diff:!1})}),r.on("assembly_result_finished",function(n,a){e.emit("result",n,a),e.status.results[n]||(e.status.results[n]=[]),e.status.results[n].push(a)}),r.on("assembly_error",function(n){gt(e,ca)[ca](n),gt(e,fa)[fa]({diff:!1})}),this.socket=r}function Rat(e){this.emit("error",Object.assign(new Error(e.message),e)),this.close()}function qat(){var e=this;this.pollInterval=setInterval(function(){(!e.socket||!e.socket.connected)&&gt(e,fa)[fa]()},2e3)}function Eat(e){return $A.apply(this,arguments)}function $A(){return $A=uat(regeneratorRuntime.mark(function e(t){var r,n,a,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r=t===void 0?{}:t,n=r.diff,a=n===void 0?!0:n,!(this.closed||gt(this,Iu)[Iu].isPaused||gt(this,Fu)[Fu])){s.next=3;break}return s.abrupt("return");case 3:return s.prev=3,gt(this,Fu)[Fu]=!0,s.next=7,gt(this,sd)[sd](this.status.assembly_ssl_url);case 7:if(i=s.sent,gt(this,Fu)[Fu]=!1,!this.closed){s.next=11;break}return s.abrupt("return");case 11:if(i.status!==429){s.next=14;break}return gt(this,Iu)[Iu].rateLimit(2e3),s.abrupt("return");case 14:if(i.ok){s.next=17;break}return gt(this,ca)[ca](new mat(i.statusText)),s.abrupt("return");case 17:return s.next=19,i.json();case 19:if(o=s.sent,!this.closed){s.next=22;break}return s.abrupt("return");case 22:this.emit("status",o),a?this.updateStatus(o):this.status=o,s.next=29;break;case 26:s.prev=26,s.t0=s.catch(3),gt(this,ca)[ca](s.t0);case 29:case"end":return s.stop()}},e,this,[[3,26]])})),$A.apply(this,arguments)}function Tat(e,t){var r=this,n=e.ok,a=t.ok;if(t.error&&!e.error)return gt(this,ca)[ca](t);var i=p0(a,MA)&&!p0(n,MA);i&&this.emit("executing"),Object.keys(t.uploads).filter(function(o){return!yat(e.uploads,o)}).forEach(function(o){r.emit("upload",t.uploads[o])}),i&&this.emit("metadata"),Object.keys(t.results).forEach(function(o){var u=t.results[o],s=e.results[o];u.filter(function(l){return!s||!s.some(function(c){return c.id===l.id})}).forEach(function(l){r.emit("result",o,l)})}),p0(a,NA)&&!p0(n,NA)&&this.emit("finished")}gZ.exports=Sat});var OZ=h(function(ygt,SZ){"use strict";function Aat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kat(e,t,r){return t&&_Z(e.prototype,t),r&&_Z(e,r),e}function bt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Iat=0;function d0(e){return"__private_"+Iat+++"_"+e}var Fat=Ey(),wZ="/assemblies",Hr=d0("headers"),ld=d0("fetchWithNetworkError"),dr=d0("fetchJSON"),zn=d0("reportError"),xat=function(){function e(t){var r=this;Aat(this,e),t===void 0&&(t={}),Object.defineProperty(this,dr,{value:Cat}),Object.defineProperty(this,Hr,{writable:!0,value:{}}),Object.defineProperty(this,ld,{writable:!0,value:void 0}),Object.defineProperty(this,zn,{writable:!0,value:function(a,i){if(r.opts.errorReporting===!1)throw a;var o={type:i.type};throw i.assembly&&(o.assembly=i.assembly.assembly_id,o.instance=i.assembly.instance),i.url&&(o.endpoint=i.url),r.submitError(a,o).catch(function(){}),a}}),this.opts=t,this.opts.client!=null&&(bt(this,Hr)[Hr]["Transloadit-Client"]=this.opts.client),bt(this,ld)[ld]=this.opts.rateLimitedQueue.wrapPromiseFunction(Fat)}return kat(e,[{key:"createAssembly",value:function(r){var n=this,a=r.params,i=r.fields,o=r.signature,u=r.expectedFiles,s=new FormData;s.append("params",typeof a=="string"?a:JSON.stringify(a)),o&&s.append("signature",o),Object.keys(i).forEach(function(c){s.append(c,i[c])}),s.append("num_expected_upload_files",u);var l=new URL(wZ,"".concat(this.opts.service)).href;return bt(this,dr)[dr](l,{method:"post",headers:bt(this,Hr)[Hr],body:s}).catch(function(c){return bt(n,zn)[zn](c,{url:l,type:"API_ERROR"})})}},{key:"reserveFile",value:function(r,n){var a=this,i=encodeURIComponent(n.size),o="".concat(r.assembly_ssl_url,"/reserve_file?size=").concat(i);return bt(this,dr)[dr](o,{method:"post",headers:bt(this,Hr)[Hr]}).catch(function(u){return bt(a,zn)[zn](u,{assembly:r,file:n,url:o,type:"API_ERROR"})})}},{key:"addFile",value:function(r,n){var a=this;if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var i=encodeURIComponent(n.size),o=encodeURIComponent(n.uploadURL),u=encodeURIComponent(n.name),s="file",l="size=".concat(i,"&filename=").concat(u,"&fieldname=").concat(s,"&s3Url=").concat(o),c="".concat(r.assembly_ssl_url,"/add_file?").concat(l);return bt(this,dr)[dr](c,{method:"post",headers:bt(this,Hr)[Hr]}).catch(function(f){return bt(a,zn)[zn](f,{assembly:r,file:n,url:c,type:"API_ERROR"})})}},{key:"cancelAssembly",value:function(r){var n=this,a=r.assembly_ssl_url;return bt(this,dr)[dr](a,{method:"delete",headers:bt(this,Hr)[Hr]}).catch(function(i){return bt(n,zn)[zn](i,{url:a,type:"API_ERROR"})})}},{key:"getAssemblyStatus",value:function(r){var n=this;return bt(this,dr)[dr](r,{headers:bt(this,Hr)[Hr]}).catch(function(a){return bt(n,zn)[zn](a,{url:r,type:"STATUS_ERROR"})})}},{key:"submitError",value:function(r,n){var a=n===void 0?{}:n,i=a.endpoint,o=a.instance,u=a.assembly,s=r.details?"".concat(r.message," (").concat(r.details,")"):r.message;return bt(this,dr)[dr]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:i,instance:o,assembly_id:u,agent:typeof navigator!="undefined"?navigator.userAgent:"",client:this.opts.client,error:s})})}}]),e}();function Cat(){for(var e,t=this,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=bt(this,ld))[ld].apply(e,n).then(function(i){if(i.status===429){var o;return t.opts.rateLimitedQueue.rateLimit(2e3),(o=bt(t,dr))[dr].apply(o,n)}if(!i.ok){var u=new Error(i.statusText);return u.statusCode=i.status,"".concat(n[0]).endsWith(wZ)?i.json().then(function(s){if(!s.error)throw u;var l=new Error(s.error);throw l.details=s.message,l.assembly=s,s.assembly_id&&(l.details+=" Assembly ID: ".concat(s.assembly_id)),l},function(s){throw s.cause=u,s}):Promise.reject(u)}return i.json()})}SZ.exports=xat});var kZ=h(function(GA,AZ){"use strict";function PZ(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function RZ(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){PZ(i,n,a,o,u,"next",s)}function u(s){PZ(i,n,a,o,u,"throw",s)}o(void 0)})}}function Dat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jat(e,t,r){return t&&qZ(e.prototype,t),r&&qZ(e,r),e}function Uat(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Mat(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function Mat(e,t){if(!!e){if(typeof e=="string")return EZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EZ(e,t)}}function EZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(GA,"__esModule",{value:!0});GA.validateParams=h0;function Nat(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Bat=0;function Lat(e){return"__private_"+Bat+++"_"+e}var zat=Vf();function h0(e){if(e==null)throw new Error("Transloadit: The `params` option is required.");if(typeof e=="string")try{e=JSON.parse(e)}catch(t){throw new zat("Transloadit: The `params` option is a malformed JSON string.",{cause:t})}if(!e.auth||!e.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}function Hat(e){var t=Object.create(null),r=Uat(e.filter(Boolean)),n;try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.fileIDs,o=a.options,u=JSON.stringify(o);u in t?t[u].fileIDArrays.push(i):t[u]={options:o,fileIDArrays:[i]}}}catch(s){r.e(s)}finally{r.f()}return Object.values(t).map(function(s){var l=s.options,c=s.fileIDArrays;return{options:l,fileIDs:c.flat(1)}})}var WA=Lat("getAssemblyOptions"),TZ=function(){function e(t,r){Dat(this,e),Object.defineProperty(this,WA,{value:$at}),this.files=t,this.opts=r}return jat(e,[{key:"build",value:function(){var t=RZ(regeneratorRuntime.mark(function n(){var a=this,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=this.opts,!(this.files.length>0)){s.next=3;break}return s.abrupt("return",Promise.all(this.files.map(function(l){return Nat(a,WA)[WA](l)})).then(Hat));case 3:if(!i.alwaysRunAssembly){s.next=9;break}return s.next=6,i.getAssemblyOptions(null,i);case 6:return o=s.sent,h0(o.params),s.abrupt("return",[{fileIDs:this.files.map(function(l){return l.id}),options:o}]);case 9:return s.abrupt("return",[]);case 10:case"end":return s.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}]),e}();function $at(e){return VA.apply(this,arguments)}function VA(){return VA=RZ(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t!=null){i.next=2;break}return i.abrupt("return",void 0);case 2:return r=this.opts,i.next=5,r.getAssemblyOptions(t,r);case 5:if(n=i.sent,t!=null){i.next=8;break}return i.abrupt("return",void 0);case 8:return Array.isArray(n.fields)?n.fields=Object.fromEntries(n.fields.map(function(o){return[o,t.meta[o]]})):n.fields==null&&(n.fields={}),h0(n.params),i.abrupt("return",{fileIDs:[t.id],options:n});case 11:case"end":return i.stop()}},e,this)})),VA.apply(this,arguments)}AZ.exports=TZ;TZ.validateParams=h0});var FZ=h(function(mgt,IZ){"use strict";function v0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v0=function(r){return typeof r}:v0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},v0(e)}function Wat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KA(e,t)}function KA(e,t){return KA=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},KA(e,t)}function Gat(e){var t=Yat();return function(){var n=y0(e),a;if(t){var i=y0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Kat(this,a)}}function Kat(e,t){if(t&&(v0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}function De(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function y0(e){return y0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(e)}function Se(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Xat=0;function $r(e){return"__private_"+Xat+++"_"+e}var Jat=nA(),cd=$r("assemblyIDs"),YA=$r("reject"),xu=$r("remaining"),fd=$r("resolve"),Qe=$r("uppy"),pa=$r("watching"),pd=$r("onAssemblyComplete"),dd=$r("onAssemblyCancel"),Cu=$r("onAssemblyError"),hd=$r("onImportError"),Du=$r("checkAllComplete"),XA=$r("removeListeners"),JA=$r("addListeners"),Qat=function(e){Vat(r,e);var t=Gat(r);function r(n,a){var i;return Wat(this,r),i=t.call(this),Object.defineProperty(De(i),JA,{value:rot}),Object.defineProperty(De(i),XA,{value:tot}),Object.defineProperty(De(i),Du,{value:eot}),Object.defineProperty(De(i),pa,{value:Zat}),Object.defineProperty(De(i),cd,{writable:!0,value:void 0}),Object.defineProperty(De(i),YA,{writable:!0,value:void 0}),Object.defineProperty(De(i),xu,{writable:!0,value:void 0}),Object.defineProperty(De(i),fd,{writable:!0,value:void 0}),Object.defineProperty(De(i),Qe,{writable:!0,value:void 0}),Object.defineProperty(De(i),pd,{writable:!0,value:function(u){!Se(De(i),pa)[pa](u.assembly_id)||(Se(De(i),Qe)[Qe].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(u.assembly_id)),i.emit("assembly-complete",u.assembly_id),Se(De(i),Du)[Du]())}}),Object.defineProperty(De(i),dd,{writable:!0,value:function(u){!Se(De(i),pa)[pa](u.assembly_id)||Se(De(i),Du)[Du]()}}),Object.defineProperty(De(i),Cu,{writable:!0,value:function(u,s){!Se(De(i),pa)[pa](u.assembly_id)||(Se(De(i),Qe)[Qe].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(u.assembly_id)),Se(De(i),Qe)[Qe].log(s),i.emit("assembly-error",u.assembly_id,s),Se(De(i),Du)[Du]())}}),Object.defineProperty(De(i),hd,{writable:!0,value:function(u,s,l){!Se(De(i),pa)[pa](u.assembly_id)||Se(De(i),Cu)[Cu](u,l)}}),Se(De(i),Qe)[Qe]=n,Se(De(i),cd)[cd]=a,Se(De(i),xu)[xu]=a.length,i.promise=new Promise(function(o,u){Se(De(i),fd)[fd]=o,Se(De(i),YA)[YA]=u}),Se(De(i),JA)[JA](),i}return r}(Jat);function Zat(e){return Se(this,cd)[cd].indexOf(e)!==-1}function eot(){Se(this,xu)[xu]-=1,Se(this,xu)[xu]===0&&(Se(this,XA)[XA](),Se(this,fd)[fd]())}function tot(){Se(this,Qe)[Qe].off("transloadit:complete",Se(this,pd)[pd]),Se(this,Qe)[Qe].off("transloadit:assembly-cancel",Se(this,dd)[dd]),Se(this,Qe)[Qe].off("transloadit:assembly-error",Se(this,Cu)[Cu]),Se(this,Qe)[Qe].off("transloadit:import-error",Se(this,hd)[hd])}function rot(){Se(this,Qe)[Qe].on("transloadit:complete",Se(this,pd)[pd]),Se(this,Qe)[Qe].on("transloadit:assembly-cancel",Se(this,dd)[dd]),Se(this,Qe)[Qe].on("transloadit:assembly-error",Se(this,Cu)[Cu]),Se(this,Qe)[Qe].on("transloadit:import-error",Se(this,hd)[hd])}IZ.exports=Qat});var CZ=h(function(ggt,xZ){"use strict";xZ.exports={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}}});var GZ=h(function(so,VZ){"use strict";function m0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m0=function(r){return typeof r}:m0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},m0(e)}function DZ(e){return aot(e)||iot(e)||QA(e)||not()}function not(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iot(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aot(e){if(Array.isArray(e))return ZA(e)}function jZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jZ(Object(r),!0).forEach(function(n){uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oot(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=QA(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function uot(e,t){return cot(e)||lot(e,t)||QA(e,t)||sot()}function sot(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function QA(e,t){if(!!e){if(typeof e=="string")return ZA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(e,t)}}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lot(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,u;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(s){i=!0,u=s}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function cot(e){if(Array.isArray(e))return e}function uo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UZ(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function ek(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){UZ(i,n,a,o,u,"next",s)}function u(s){UZ(i,n,a,o,u,"throw",s)}o(void 0)})}}function fot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pot(e,t,r){return t&&MZ(e.prototype,t),r&&MZ(e,r),e}function dot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tk(e,t)}function tk(e,t){return tk=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},tk(e,t)}function hot(e){var t=yot();return function(){var n=g0(e),a;if(t){var i=g0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return vot(this,a)}}function vot(e,t){if(t&&(m0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oe(e)}function Oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g0(e){return g0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},g0(e)}Object.defineProperty(so,"__esModule",{value:!0});so.COMPANION_PATTERN=so.COMPANION=so.ALLOWED_COMPANION_PATTERN=void 0;var mot=eo();function Re(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var got=0;function ut(e){return"__private_"+got+++"_"+e}var bot=Ms(),NZ=Vf(),_ot=rn(),BZ=tA(),LZ=bZ(),wot=OZ(),zZ=kZ(),HZ=zZ.validateParams,Sot=FZ(),Oot=CZ(),Pot={version:"2.3.3"};function Rot(e,t){return{params:t.params,signature:t.signature,fields:t.fields}}var $Z=function(t){return function(r){var n=new NZ("Failed to send error to the client",{cause:r});console.error(n,t)}},WZ="https://api2.transloadit.com/companion";so.COMPANION=WZ;var rk=/\.transloadit\.com$/;so.COMPANION_PATTERN=so.ALLOWED_COMPANION_PATTERN=rk;var qot=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,Hn=ut("rateLimitedQueue"),nk=ut("getClientVersion"),ik=ut("attachAssemblyMetadata"),ak=ut("createAssembly"),vd=ut("createAssemblyWatcher"),ok=ut("shouldWaitAfterUpload"),uk=ut("reserveFiles"),yd=ut("onFileUploadURLAvailable"),md=ut("findFile"),sk=ut("onFileUploadComplete"),lk=ut("onResult"),gd=ut("onAssemblyFinished"),ck=ut("cancelAssembly"),fk=ut("onCancelAll"),pk=ut("getPersistentData"),dk=ut("onRestored"),bd=ut("connectAssembly"),_d=ut("prepareUpload"),ju=ut("afterUpload"),wd=ut("closeAssemblyIfExists"),Sd=ut("onError"),hk=ut("onTusError"),Od=function(e){dot(r,e);var t=hot(r);function r(n,a){var i;fot(this,r);var o;i=t.call(this,n,a),o=Oe(i),Object.defineProperty(Oe(i),bd,{value:Mot}),Object.defineProperty(Oe(i),ck,{value:Uot}),Object.defineProperty(Oe(i),gd,{value:jot}),Object.defineProperty(Oe(i),lk,{value:Dot}),Object.defineProperty(Oe(i),sk,{value:Cot}),Object.defineProperty(Oe(i),md,{value:xot}),Object.defineProperty(Oe(i),uk,{value:Fot}),Object.defineProperty(Oe(i),ok,{value:Iot}),Object.defineProperty(Oe(i),vd,{value:kot}),Object.defineProperty(Oe(i),ak,{value:Aot}),Object.defineProperty(Oe(i),ik,{value:Tot}),Object.defineProperty(Oe(i),nk,{value:Eot}),Object.defineProperty(Oe(i),Hn,{writable:!0,value:void 0}),Object.defineProperty(Oe(i),yd,{writable:!0,value:function(c){var f,p=i.uppy.getFile(c.id);if(!!(p!=null&&(f=p.transloadit)!=null&&f.assembly)){var d=i.getPluginState(),v=d.assemblies,m=v[p.transloadit.assembly];i.client.addFile(m,p).catch(function(g){i.uppy.log(g),i.uppy.emit("transloadit:import-error",m,p.id,g)})}}}),Object.defineProperty(Oe(i),fk,{writable:!0,value:function(){var l=ek(regeneratorRuntime.mark(function f(p){var d,v,m,g,w,b;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(d=p===void 0?{}:p,v=d.reason,T.prev=1,v==="user"){T.next=4;break}return T.abrupt("return");case 4:return m=o.getPluginState(),g=m.uploadsAssemblies,w=Object.values(g).flat(1),b=w.map(function(x){return o.getAssembly(x)}),T.next=9,Promise.all(b.map(function(x){return Re(o,ck)[ck](x)}));case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),o.uppy.log(T.t0);case 14:case"end":return T.stop()}},f,null,[[1,11]])}));function c(f){return l.apply(this,arguments)}return c}()}),Object.defineProperty(Oe(i),pk,{writable:!0,value:function(c){var f=i.getPluginState(),p=f.assemblies,d=f.uploadsAssemblies;c(uo({},i.id,{assemblies:p,uploadsAssemblies:d}))}}),Object.defineProperty(Oe(i),dk,{writable:!0,value:function(c){var f=c&&c[i.id]?c[i.id]:{},p=f.assemblies||{},d=f.uploadsAssemblies||{};if(Object.keys(d).length!==0){var v=function(b){for(var O={},T=[],x=function(){var q=uot(N[D],2),U=q[0],Q=q[1];Q.uploads.forEach(function(A){var k=Re(Oe(i),md)[md](A);O[A.id]={id:k.id,assembly:U,uploadedFile:A}});var X=i.getPluginState();Object.keys(Q.results).forEach(function(A){var k=oot(Q.results[A]),z;try{for(k.s();!(z=k.n()).done;){var C=z.value,j=X.files[C.original_id];C.localId=j?j.id:null,T.push({id:C.id,result:C,stepName:A,assembly:U})}}catch(L){k.e(L)}finally{k.f()}})},D=0,N=Object.entries(b);D<N.length;D++)x();i.setPluginState({assemblies:b,files:O,results:T,uploadsAssemblies:d})},m=function(){var b=i.getPluginState(),O=b.assemblies,T=b.uploadsAssemblies;Object.keys(T).forEach(function(D){var N=T[D],G=N.flatMap(function(q){return i.getAssemblyFiles(q).map(function(U){return U.id})});Re(Oe(i),vd)[vd](N,G,D)});var x=Object.keys(O);x.forEach(function(D){var N=new LZ(O[D],Re(Oe(i),Hn)[Hn]);Re(Oe(i),bd)[bd](N)})},g=function(){var b=i.getPluginState(),O=b.assemblies;return Promise.all(Object.keys(O).map(function(T){return i.activeAssemblies[T].update()}))};i.restored=Promise.resolve().then(function(){return v(p),m(),g()}),i.restored.then(function(){i.restored=null})}}}),Object.defineProperty(Oe(i),_d,{writable:!0,value:function(c,f){var p=c.filter(function(b){return!b.error}),d=p.map(function(b){var O=i.uppy.getFile(b);return i.uppy.emit("preprocess-progress",O,{mode:"indeterminate",message:i.i18n("creatingAssembly")}),O}),v=function(){var b=ek(regeneratorRuntime.mark(function O(T){var x,D,N;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return x=T.fileIDs,D=T.options,q.prev=1,q.next=4,Re(Oe(i),ak)[ak](x,f,D);case 4:if(N=q.sent,!i.opts.importFromUploadURLs){q.next=8;break}return q.next=8,Re(Oe(i),uk)[uk](N,x);case 8:return x.forEach(function(U){var Q=i.uppy.getFile(U);i.uppy.emit("preprocess-complete",Q)}),q.abrupt("return",N);case 12:throw q.prev=12,q.t0=q.catch(1),x.forEach(function(U){var Q=i.uppy.getFile(U);i.uppy.emit("preprocess-complete",Q),i.uppy.emit("upload-error",Q,q.t0)}),q.t0;case 16:case"end":return q.stop()}},O,null,[[1,12]])}));return function(T){return b.apply(this,arguments)}}(),m=i.getPluginState(),g=m.uploadsAssemblies;i.setPluginState({uploadsAssemblies:ze(ze({},g),{},uo({},f,[]))});var w=new zZ(d,i.opts);return w.build().then(function(b){return Promise.all(b.map(v))}).then(function(b){var O=b.map(function(T){return T.status.assembly_id});return Re(Oe(i),vd)[vd](O,p,f),Promise.all(b.map(function(T){return Re(Oe(i),bd)[bd](T)}))}).catch(function(b){throw d.forEach(function(O){i.uppy.emit("preprocess-complete",O),i.uppy.emit("upload-error",O,b)}),b})}}),Object.defineProperty(Oe(i),ju,{writable:!0,value:function(c,f){var p=c.map(function(T){return i.uppy.getFile(T)}),d=p.filter(function(T){return!T.error}).map(function(T){return T.id}),v=i.getPluginState();if(i.restored)return i.restored.then(function(){return Re(Oe(i),ju)[ju](d,f)});var m=v.uploadsAssemblies[f],g=function(){m.forEach(function(x){var D=i.activeAssemblies[x];D.close(),delete i.activeAssemblies[x]})};if(!Re(Oe(i),ok)[ok]()){g();var w=m.map(function(T){return i.getAssembly(T)});return i.uppy.addResultData(f,{transloadit:w}),Promise.resolve()}if(m.length===0)return i.uppy.addResultData(f,{transloadit:[]}),Promise.resolve();var b=p.filter(function(T){return!bot(i.completedFiles,T.id)});b.forEach(function(T){i.uppy.emit("postprocess-progress",T,{mode:"indeterminate",message:i.i18n("encoding")})});var O=i.assemblyWatchers[f];return O.promise.then(function(){g();var T=m.map(function(D){return i.getAssembly(D)}),x=ze({},i.getPluginState().uploadsAssemblies);delete x[f],i.setPluginState({uploadsAssemblies:x}),i.uppy.addResultData(f,{transloadit:T})})}}),Object.defineProperty(Oe(i),wd,{writable:!0,value:function(c){var f;(f=i.activeAssemblies[c])==null||f.close()}}),Object.defineProperty(Oe(i),Sd,{writable:!0,value:function(c,f){c===void 0&&(c=null);var p=o.getPluginState(),d=p.uploadsAssemblies[f];d==null||d.forEach(Re(o,wd)[wd]),o.client.submitError(c).catch($Z(c))}}),Object.defineProperty(Oe(i),hk,{writable:!0,value:function(c,f){var p,d;if(Re(Oe(i),wd)[wd](c==null||(p=c.transloadit)==null?void 0:p.assembly),f!=null&&(d=f.message)!=null&&d.startsWith("tus: ")){var v,m,g=(v=f.originalRequest)==null||(m=v.getUnderlyingObject())==null?void 0:m.responseURL;i.client.submitError(f,{endpoint:g,type:"TUS_ERROR"}).catch($Z(f))}}}),i.type="uploader",i.id=i.opts.id||"Transloadit",i.title="Transloadit",i.defaultLocale=Oot;var u={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:Rot,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};i.opts=ze(ze({},u),a),Re(Oe(i),Hn)[Hn]=new mot.RateLimitedQueue(i.opts.limit),i.i18nInit();var s=i.opts.getAssemblyOptions!==u.getAssemblyOptions;return i.opts.params?HZ(i.opts.params):s||HZ(null),i.client=new wot({service:i.opts.service,client:Re(Oe(i),nk)[nk](),errorReporting:i.opts.errorReporting,rateLimitedQueue:Re(Oe(i),Hn)[Hn]}),i.activeAssemblies={},i.assemblyWatchers={},i.completedFiles=Object.create(null),i}return pot(r,[{key:"install",value:function(){this.uppy.addPreProcessor(Re(this,_d)[_d]),this.uppy.addPostProcessor(Re(this,ju)[ju]),this.uppy.on("error",Re(this,Sd)[Sd]),this.uppy.on("cancel-all",Re(this,fk)[fk]),this.uppy.on("upload-error",Re(this,hk)[hk]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",Re(this,yd)[yd]):this.uppy.use(BZ,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:Re(this,Hn)[Hn],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",Re(this,pk)[pk]),this.uppy.on("restored",Re(this,dk)[dk]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var a=this.uppy.getState(),i=a.capabilities;this.uppy.setState({capabilities:ze(ze({},i),{},{individualCancellation:!1})})}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(Re(this,_d)[_d]),this.uppy.removePostProcessor(Re(this,ju)[ju]),this.uppy.off("error",Re(this,Sd)[Sd]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",Re(this,yd)[yd]);var a=this.uppy.getState(),i=a.capabilities;this.uppy.setState({capabilities:ze(ze({},i),{},{individualCancellation:!0})})}},{key:"getAssembly",value:function(a){var i=this.getPluginState(),o=i.assemblies;return o[a]}},{key:"getAssemblyFiles",value:function(a){return this.uppy.getFiles().filter(function(i){var o;return(i==null||(o=i.transloadit)==null?void 0:o.assembly)===a})}}]),r}(_ot);function Eot(){var e=this,t=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(BZ.VERSION)],r=function(a,i){var o=e.uppy.getPlugin(a);o&&t.push("".concat(i,":").concat(o.constructor.VERSION))};return this.opts.importFromUploadURLs&&(r("XHRUpload","uppy-xhr-upload"),r("AwsS3","uppy-aws-s3"),r("AwsS3Multipart","uppy-aws-s3-multipart")),r("Dropbox","uppy-dropbox"),r("Box","uppy-box"),r("Facebook","uppy-facebook"),r("GoogleDrive","uppy-google-drive"),r("Instagram","uppy-instagram"),r("OneDrive","uppy-onedrive"),r("Zoom","uppy-zoom"),r("Url","uppy-url"),t.join(",")}function Tot(e,t){var r=ze(ze({},e.meta),{},{assembly_url:t.assembly_url,filename:e.name,fieldname:"file"}),n=ze(ze({},e.tus),{},{endpoint:t.tus_url,addRequestId:!0}),a=e.remote;if(e.remote&&qot.test(e.remote.companionUrl)){var i=t.companion_url.replace(/\/$/,""),o=e.remote.url.replace(e.remote.companionUrl,"").replace(/^\//,"");a=ze(ze({},e.remote),{},{companionUrl:i,url:"".concat(i,"/").concat(o)})}var u=ze(ze({},e),{},{transloadit:{assembly:t.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(u,{meta:r,tus:n,remote:a}),u}function Aot(e,t,r){var n=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:r.params,fields:r.fields,expectedFiles:e.length,signature:r.signature}).then(function(a){var i=new LZ(a,Re(n,Hn)[Hn]),o=i.status,u=o.assembly_id,s=n.getPluginState(),l=s.assemblies,c=s.uploadsAssemblies;n.setPluginState({assemblies:ze(ze({},l),{},uo({},u,o)),uploadsAssemblies:ze(ze({},c),{},uo({},t,[].concat(DZ(c[t]),[u])))});var f=n.uppy.getState(),p=f.files,d={};e.forEach(function(m){d[m]=Re(n,ik)[ik](n.uppy.getFile(m),o)}),n.uppy.setState({files:ze(ze({},p),d)});var v=function m(g,w){w==="cancel-all"?(i.close(),n.uppy.off(m)):g.id in d&&(delete d[g.id],Object.keys(d).length===0&&(i.close(),n.uppy.off(m)))};return n.uppy.on("file-removed",v),n.uppy.emit("transloadit:assembly-created",o,e),n.uppy.log("[Transloadit] Created Assembly ".concat(u)),i}).catch(function(a){var i=new NZ("".concat(n.i18n("creatingAssemblyFailed"),": ").concat(a.message),{cause:a});throw"details"in a&&(i.details=a.details),"assembly"in a&&(i.assembly=a.assembly),i})}function kot(e,t,r){var n=this,a=new Sot(this.uppy,e);a.on("assembly-complete",function(i){var o=n.getAssemblyFiles(i);o.forEach(function(u){n.completedFiles[u.id]=!0,n.uppy.emit("postprocess-complete",u)})}),a.on("assembly-error",function(i,o){var u=n.getAssemblyFiles(i);u.forEach(function(s){n.uppy.emit("upload-error",s,o),n.uppy.emit("postprocess-complete",s)})}),this.assemblyWatchers[r]=a}function Iot(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function Fot(e,t){var r=this;return Promise.all(t.map(function(n){var a=r.uppy.getFile(n);return r.client.reserveFile(e.status,a)}))}function xot(e){for(var t=this.uppy.getFiles(),r=0;r<t.length;r++){var n=t[r];if(n.uploadURL===e.tus_upload_url||n.tus&&n.tus.uploadUrl===e.tus_upload_url||!e.is_tus_file&&n.name===e.name&&n.size===e.size)return n}}function Cot(e,t){var r=this.getPluginState(),n=Re(this,md)[md](t);if(!n){this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process");return}this.setPluginState({files:ze(ze({},r.files),{},uo({},t.id,{assembly:e,id:n.id,uploadedFile:t}))}),this.uppy.emit("transloadit:upload",t,this.getAssembly(e))}function Dot(e,t,r){var n=this.getPluginState(),a=n.files[r.original_id];r.localId=a?a.id:null;var i={result:r,stepName:t,id:r.id,assembly:e};this.setPluginState({results:[].concat(DZ(n.results),[i])}),this.uppy.emit("transloadit:result",t,r,this.getAssembly(e))}function jot(e){var t=this,r=e.assembly_ssl_url;this.client.getAssemblyStatus(r).then(function(n){var a=n.assembly_id,i=t.getPluginState();t.setPluginState({assemblies:ze(ze({},i.assemblies),{},uo({},a,n))}),t.uppy.emit("transloadit:complete",n)})}function Uot(e){return vk.apply(this,arguments)}function vk(){return vk=ek(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.client.cancelAssembly(t);case 2:this.uppy.emit("transloadit:assembly-cancelled",t);case 3:case"end":return n.stop()}},e,this)})),vk.apply(this,arguments)}function Mot(e){var t=this,r=e.status,n=r.assembly_id;return this.activeAssemblies[n]=e,e.on("status",function(a){var i=t.getPluginState(),o=i.assemblies;t.setPluginState({assemblies:ze(ze({},o),{},uo({},n,a))})}),e.on("upload",function(a){Re(t,sk)[sk](n,a)}),e.on("error",function(a){a.assembly=e.status,t.uppy.emit("transloadit:assembly-error",e.status,a)}),e.on("executing",function(){t.uppy.emit("transloadit:assembly-executing",e.status)}),this.opts.waitForEncoding&&e.on("result",function(a,i){Re(t,lk)[lk](n,a,i)}),this.opts.waitForEncoding?e.on("finished",function(){Re(t,gd)[gd](e.status)}):this.opts.waitForMetadata&&e.on("metadata",function(){Re(t,gd)[gd](e.status)}),e.ok==="ASSEMBLY_COMPLETE"||e.connect(),e}Od.VERSION=Pot.version;VZ.exports=Od;Od.ALLOWED_COMPANION_PATTERN=rk;Od.COMPANION=WZ;Od.COMPANION_PATTERN=rk});var YZ=h(function(bgt,KZ){"use strict";KZ.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}});var uee=h(function(_gt,oee){"use strict";function b0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b0=function(r){return typeof r}:b0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},b0(e)}function XZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XZ(Object(r),!0).forEach(function(n){Not(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XZ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Not(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lot(e,t,r){return t&&JZ(e.prototype,t),r&&JZ(e,r),e}function zot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},yk(e,t)}function Hot(e){var t=Wot();return function(){var n=_0(e),a;if(t){var i=_0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return $ot(this,a)}}function $ot(e,t){if(t&&(b0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QZ(e)}function QZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _0(e){return _0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_0(e)}var Vot=Vo(),mk=Xt(),w0=eo(),Got=rn(),Kot=Ep(),Yot=Tp(),Xot=YT(),ZZ=Ip(),eee=tT(),tee=Hs(),ree=cb(),Jot={version:"2.1.2"},Qot=YZ();function nee(e,t){var r=t;return r||(r=new Error("Upload error")),typeof r=="string"&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),ree(e)?(r=new tee(r,e),r):(r.request=e,r)}function iee(e){var t=e.data.slice(0,e.data.size,e.meta.type);return t}var aee=function(e){zot(r,e);var t=Hot(r);function r(n,a){var i;Bot(this,r),i=t.call(this,n,a),i.type="uploader",i.id=i.opts.id||"XHRUpload",i.title="XHRUpload",i.defaultLocale=Qot;var o={formData:!0,fieldName:a.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData:function(s){var l={};try{l=JSON.parse(s)}catch(c){n.log(c)}return l},getResponseError:function(s,l){var c=new Error("Upload error");return ree(l)&&(c=new tee(c,l)),c},validateStatus:function(s){return s>=200&&s<300}};if(i.opts=qr(qr({},o),a),i.i18nInit(),i.handleUpload=i.handleUpload.bind(QZ(i)),w0.internalRateLimitedQueue in i.opts?i.requests=i.opts[w0.internalRateLimitedQueue]:i.requests=new w0.RateLimitedQueue(i.opts.limit),i.opts.bundle&&!i.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return i.uploaderEvents=Object.create(null),i}return Lot(r,[{key:"getOptions",value:function(a){var i=this.uppy.getState().xhrUpload,o=this.opts.headers,u=qr(qr(qr(qr({},this.opts),i||{}),a.xhrUpload||{}),{},{headers:{}});return typeof o=="function"?u.headers=o(a):Object.assign(u.headers,this.opts.headers),i&&Object.assign(u.headers,i.headers),a.xhrUpload&&Object.assign(u.headers,a.xhrUpload.headers),u}},{key:"addMetadata",value:function(a,i,o){var u=Array.isArray(o.metaFields)?o.metaFields:Object.keys(i);u.forEach(function(s){a.append(s,i[s])})}},{key:"createFormDataUpload",value:function(a,i){var o=new FormData;this.addMetadata(o,a.meta,i);var u=iee(a);return a.name?o.append(i.fieldName,u,a.meta.name):o.append(i.fieldName,u),o}},{key:"createBundledUpload",value:function(a,i){var o=this,u=new FormData,s=this.uppy.getState(),l=s.meta;return this.addMetadata(u,l,i),a.forEach(function(c){var f=o.getOptions(c),p=iee(c);c.name?u.append(f.fieldName,p,c.name):u.append(f.fieldName,p)}),u}},{key:"upload",value:function(a,i,o){var u=this,s=this.getOptions(a);return this.uppy.log("uploading ".concat(i," of ").concat(o)),new Promise(function(l,c){u.uppy.emit("upload-started",a);var f=s.formData?u.createFormDataUpload(a,s):a.data,p=new XMLHttpRequest;u.uploaderEvents[a.id]=new ZZ(u.uppy);var d,v=new eee(s.timeout,function(){p.abort(),d.done();var g=new Error(u.i18n("timedOut",{seconds:Math.ceil(s.timeout/1e3)}));u.uppy.emit("upload-error",a,g),c(g)}),m=(0,Vot.nanoid)();p.upload.addEventListener("loadstart",function(){u.uppy.log("[XHRUpload] ".concat(m," started"))}),p.upload.addEventListener("progress",function(g){u.uppy.log("[XHRUpload] ".concat(m," progress: ").concat(g.loaded," / ").concat(g.total)),v.progress(),g.lengthComputable&&u.uppy.emit("upload-progress",a,{uploader:u,bytesUploaded:g.loaded,bytesTotal:g.total})}),p.addEventListener("load",function(){if(u.uppy.log("[XHRUpload] ".concat(m," finished")),v.done(),d.done(),u.uploaderEvents[a.id]&&(u.uploaderEvents[a.id].remove(),u.uploaderEvents[a.id]=null),s.validateStatus(p.status,p.responseText,p)){var g=s.getResponseData(p.responseText,p),w=g[s.responseUrlFieldName],b={status:p.status,body:g,uploadURL:w};return u.uppy.emit("upload-success",a,b),w&&u.uppy.log("Download ".concat(a.name," from ").concat(w)),l(a)}var O=s.getResponseData(p.responseText,p),T=nee(p,s.getResponseError(p.responseText,p)),x={status:p.status,body:O};return u.uppy.emit("upload-error",a,T,x),c(T)}),p.addEventListener("error",function(){u.uppy.log("[XHRUpload] ".concat(m," errored")),v.done(),d.done(),u.uploaderEvents[a.id]&&(u.uploaderEvents[a.id].remove(),u.uploaderEvents[a.id]=null);var g=nee(p,s.getResponseError(p.responseText,p));return u.uppy.emit("upload-error",a,g),c(g)}),p.open(s.method.toUpperCase(),s.endpoint,!0),p.withCredentials=s.withCredentials,s.responseType!==""&&(p.responseType=s.responseType),d=u.requests.run(function(){u.uppy.emit("upload-started",a);var g=u.getOptions(a);return Object.keys(g.headers).forEach(function(w){p.setRequestHeader(w,g.headers[w])}),p.send(f),function(){v.done(),p.abort()}}),u.onFileRemove(a.id,function(){d.abort(),c(new Error("File removed"))}),u.onCancelAll(a.id,function(g){var w=g.reason;w==="user"&&d.abort(),c(new Error("Upload cancelled"))})})}},{key:"uploadRemote",value:function(a){var i=this,o=this.getOptions(a);return new Promise(function(u,s){i.uppy.emit("upload-started",a);var l={},c=Array.isArray(o.metaFields)?o.metaFields:Object.keys(a.meta);c.forEach(function(d){l[d]=a.meta[d]});var f=a.remote.providerOptions.provider?mk.Provider:mk.RequestClient,p=new f(i.uppy,a.remote.providerOptions);p.post(a.remote.url,qr(qr({},a.remote.body),{},{endpoint:o.endpoint,size:a.data.size,fieldname:o.fieldName,metadata:l,httpMethod:o.method,useFormData:o.formData,headers:o.headers})).then(function(d){var v=d.token,m=Yot(a.remote.companionUrl),g=new mk.Socket({target:"".concat(m,"/api/").concat(v),autoOpen:!1});i.uploaderEvents[a.id]=new ZZ(i.uppy);var w;i.onFileRemove(a.id,function(){g.send("cancel",{}),w.abort(),u("upload ".concat(a.id," was removed"))}),i.onCancelAll(a.id,function(b){var O=b===void 0?{}:b,T=O.reason;T==="user"&&(g.send("cancel",{}),w.abort()),u("upload ".concat(a.id," was canceled"))}),i.onRetry(a.id,function(){g.send("pause",{}),g.send("resume",{})}),i.onRetryAll(a.id,function(){g.send("pause",{}),g.send("resume",{})}),g.on("progress",function(b){return Kot(i,b,a)}),g.on("success",function(b){var O=o.getResponseData(b.response.responseText,b.response),T=O[o.responseUrlFieldName],x={status:b.response.status,body:O,uploadURL:T};return i.uppy.emit("upload-success",a,x),w.done(),i.uploaderEvents[a.id]&&(i.uploaderEvents[a.id].remove(),i.uploaderEvents[a.id]=null),u()}),g.on("error",function(b){var O=b.response,T=O?o.getResponseError(O.responseText,O):Object.assign(new Error(b.error.message),{cause:b.error});i.uppy.emit("upload-error",a,T),w.done(),i.uploaderEvents[a.id]&&(i.uploaderEvents[a.id].remove(),i.uploaderEvents[a.id]=null),s(T)}),w=i.requests.run(function(){return g.open(),a.isPaused&&g.send("pause",{}),function(){return g.close()}})}).catch(function(d){i.uppy.emit("upload-error",a,d),s(d)})})}},{key:"uploadBundle",value:function(a){var i=this;return new Promise(function(o,u){var s=i.opts.endpoint,l=i.opts.method,c=i.uppy.getState().xhrUpload,f=i.createBundledUpload(a,qr(qr({},i.opts),c||{})),p=new XMLHttpRequest,d=function(g){a.forEach(function(w){i.uppy.emit("upload-error",w,g)})},v=new eee(i.opts.timeout,function(){p.abort();var m=new Error(i.i18n("timedOut",{seconds:Math.ceil(i.opts.timeout/1e3)}));d(m),u(m)});p.upload.addEventListener("loadstart",function(){i.uppy.log("[XHRUpload] started uploading bundle"),v.progress()}),p.upload.addEventListener("progress",function(m){v.progress(),!!m.lengthComputable&&a.forEach(function(g){i.uppy.emit("upload-progress",g,{uploader:i,bytesUploaded:m.loaded/m.total*g.size,bytesTotal:g.size})})}),p.addEventListener("load",function(m){if(v.done(),i.opts.validateStatus(m.target.status,p.responseText,p)){var g=i.opts.getResponseData(p.responseText,p),w={status:m.target.status,body:g};return a.forEach(function(O){i.uppy.emit("upload-success",O,w)}),o()}var b=i.opts.getResponseError(p.responseText,p)||new Error("Upload error");return b.request=p,d(b),u(b)}),p.addEventListener("error",function(){v.done();var m=i.opts.getResponseError(p.responseText,p)||new Error("Upload error");return d(m),u(m)}),i.uppy.on("cancel-all",function(m){var g=m===void 0?{}:m,w=g.reason;w==="user"&&(v.done(),p.abort())}),p.open(l.toUpperCase(),s,!0),p.withCredentials=i.opts.withCredentials,i.opts.responseType!==""&&(p.responseType=i.opts.responseType),Object.keys(i.opts.headers).forEach(function(m){p.setRequestHeader(m,i.opts.headers[m])}),p.send(f),a.forEach(function(m){i.uppy.emit("upload-started",m)})})}},{key:"uploadFiles",value:function(a){var i=this,o=a.map(function(u,s){var l=parseInt(s,10)+1,c=a.length;return u.error?Promise.reject(new Error(u.error)):u.isRemote?i.uploadRemote(u,l,c):i.upload(u,l,c)});return Xot(o)}},{key:"onFileRemove",value:function(a,i){this.uploaderEvents[a].on("file-removed",function(o){a===o.id&&i(o.id)})}},{key:"onRetry",value:function(a,i){this.uploaderEvents[a].on("upload-retry",function(o){a===o&&i()})}},{key:"onRetryAll",value:function(a,i){var o=this;this.uploaderEvents[a].on("retry-all",function(){!o.uppy.getFile(a)||i()})}},{key:"onCancelAll",value:function(a,i){var o=this;this.uploaderEvents[a].on("cancel-all",function(){!o.uppy.getFile(a)||i.apply(void 0,arguments)})}},{key:"handleUpload",value:function(a){var i=this;if(a.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[w0.internalRateLimitedQueue]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var o=a.map(function(s){return i.uppy.getFile(s)});if(this.opts.bundle){var u=o.some(function(s){return s.isRemote});if(u)throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(o)}return this.uploadFiles(o).then(function(){return null})}},{key:"install",value:function(){if(this.opts.bundle){var a=this.uppy.getState(),i=a.capabilities;this.uppy.setState({capabilities:qr(qr({},i),{},{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)}},{key:"uninstall",value:function(){if(this.opts.bundle){var a=this.uppy.getState(),i=a.capabilities;this.uppy.setState({capabilities:qr(qr({},i),{},{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)}}]),r}(Got);aee.VERSION=Jot.version;oee.exports=aee});var lee=h(function(wgt,see){function S0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S0=function(r){return typeof r}:S0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},S0(e)}see.exports=function(t){if(typeof t!="number"||isNaN(t))throw new TypeError("Expected a number, got ".concat(S0(t)));var r=t<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(t=-t),t<1)return"".concat((r?"-":"")+t," B");var a=Math.min(Math.floor(Math.log(t)/Math.log(1024)),n.length-1);t=Number(t/Math.pow(1024,a));var i=n[a];return t>=10||t%1==0?"".concat((r?"-":"")+t.toFixed(0)," ").concat(i):"".concat((r?"-":"")+t.toFixed(1)," ").concat(i)}});var gee=h(function(Sgt,mee){"use strict";function cee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cee(Object(r),!0).forEach(function(n){tut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eut(e,t,r){return t&&fee(e.prototype,t),r&&fee(e,r),e}function tut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P0(){return P0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}var pee={exports:{}};(function(e){typeof window!="undefined"&&function(t){var r=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,n=t.Blob&&function(){try{return Boolean(new Blob)}catch(s){return!1}}(),a=n&&t.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(s){return!1}}(),i=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(n||i)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(s){var l,c,f,p,d,v,m,g,w;if(l=s.match(o),!l)throw new Error("invalid data URI");for(c=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),f=!!l[4],p=s.slice(l[0].length),f?d=atob(p):d=decodeURIComponent(p),v=new ArrayBuffer(d.length),m=new Uint8Array(v),g=0;g<d.length;g+=1)m[g]=d.charCodeAt(g);return n?new Blob([a?m:v],{type:c}):(w=new i,w.append(v),w.getBlob(c))};t.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(s,l,c){var f=this;setTimeout(function(){c&&r.toDataURL&&u?s(u(f.toDataURL(l,c))):s(f.mozGetAsFile("blob",l))})}:r.toDataURL&&u&&(r.msToBlob?r.toBlob=function(s,l,c){var f=this;setTimeout(function(){(l&&l!=="image/png"||c)&&r.toDataURL&&u?s(u(f.toDataURL(l,c))):s(f.msToBlob(l))})}:r.toBlob=function(s,l,c){var f=this;setTimeout(function(){s(u(f.toDataURL(l,c)))})})),e.exports?e.exports=u:t.dataURLtoBlob=u}(window)})(pee);var rut=pee.exports,nut=function(t){return typeof Blob=="undefined"?!1:t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"},dee={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},iut=typeof window!="undefined"&&typeof window.document!="undefined",lo=iut?window:{},R0=function(t){return t>0&&t<1/0},aut=Array.prototype.slice;function out(e){return Array.from?Array.from(e):aut.call(e)}var uut=/^image\/.+$/;function gk(e){return uut.test(e)}function sut(e){var t=gk(e)?e.substr(6):"";return t==="jpeg"&&(t="jpg"),".".concat(t)}var hee=String.fromCharCode;function lut(e,t,r){var n="",a;for(r+=t,a=t;a<r;a+=1)n+=hee(e.getUint8(a));return n}var cut=lo.btoa;function fut(e,t){for(var r=[],n=8192,a=new Uint8Array(e);a.length>0;)r.push(hee.apply(null,out(a.subarray(0,n)))),a=a.subarray(n);return"data:".concat(t,";base64,").concat(cut(r.join("")))}function put(e){var t=new DataView(e),r;try{var n,a,i;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,u=2;u+1<o;){if(t.getUint8(u)===255&&t.getUint8(u+1)===225){a=u;break}u+=1}if(a){var s=a+4,l=a+10;if(lut(t,s,4)==="Exif"){var c=t.getUint16(l);if(n=c===18761,(n||c===19789)&&t.getUint16(l+2,n)===42){var f=t.getUint32(l+4,n);f>=8&&(i=l+f)}}}if(i){var p=t.getUint16(i,n),d,v;for(v=0;v<p;v+=1)if(d=i+v*12+2,t.getUint16(d,n)===274){d+=8,r=t.getUint16(d,n),t.setUint16(d,1,n);break}}}catch(m){r=1}return r}function dut(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:r,scaleY:n}}var hut=/\.\d*(?:0|9){12}\d*$/;function vee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return hut.test(e)?Math.round(e*t)/t:e}function Pd(e){var t=e.aspectRatio,r=e.height,n=e.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",i=R0(n),o=R0(r);if(i&&o){var u=r*t;(a==="contain"||a==="none")&&u>n||a==="cover"&&u<n?r=n/t:n=r*t}else i?r=n/t:o&&(n=r*t);return{width:n,height:r}}var vut=lo.ArrayBuffer,yee=lo.FileReader,Uu=lo.URL||lo.webkitURL,yut=/\.\w+$/,mut=lo.Compressor,gut=function(){function e(t,r){Zot(this,e),this.file=t,this.image=new Image,this.options=O0(O0({},dee),r),this.aborted=!1,this.result=null,this.init()}return eut(e,[{key:"init",value:function(){var r=this,n=this.file,a=this.options;if(!nut(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var i=n.type;if(!gk(i)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Uu||!yee){this.fail(new Error("The current browser does not support image compression."));return}if(vut||(a.checkOrientation=!1),Uu&&!a.checkOrientation)this.load({url:Uu.createObjectURL(n)});else{var o=new yee,u=a.checkOrientation&&i==="image/jpeg";this.reader=o,o.onload=function(s){var l=s.target,c=l.result,f={};if(u){var p=put(c);p>1||!Uu?(f.url=fut(c,i),p>1&&P0(f,dut(p))):f.url=Uu.createObjectURL(n)}else f.url=c;r.load(f)},o.onabort=function(){r.fail(new Error("Aborted to read the image with FileReader."))},o.onerror=function(){r.fail(new Error("Failed to read the image with FileReader."))},o.onloadend=function(){r.reader=null},u?o.readAsArrayBuffer(n):o.readAsDataURL(n)}}},{key:"load",value:function(r){var n=this,a=this.file,i=this.image;i.onload=function(){n.draw(O0(O0({},r),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){n.fail(new Error("Aborted to load the image."))},i.onerror=function(){n.fail(new Error("Failed to load the image."))},lo.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(lo.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=a.name,i.src=r.url}},{key:"draw",value:function(r){var n=this,a=r.naturalWidth,i=r.naturalHeight,o=r.rotate,u=o===void 0?0:o,s=r.scaleX,l=s===void 0?1:s,c=r.scaleY,f=c===void 0?1:c,p=this.file,d=this.image,v=this.options,m=document.createElement("canvas"),g=m.getContext("2d"),w=Math.abs(u)%180==90,b=(v.resize==="contain"||v.resize==="cover")&&R0(v.width)&&R0(v.height),O=Math.max(v.maxWidth,0)||1/0,T=Math.max(v.maxHeight,0)||1/0,x=Math.max(v.minWidth,0)||0,D=Math.max(v.minHeight,0)||0,N=a/i,G=v.width,q=v.height;if(w){var U=[T,O];O=U[0],T=U[1];var Q=[D,x];x=Q[0],D=Q[1];var X=[q,G];G=X[0],q=X[1]}b&&(N=G/q);var A=Pd({aspectRatio:N,width:O,height:T},"contain");O=A.width,T=A.height;var k=Pd({aspectRatio:N,width:x,height:D},"cover");if(x=k.width,D=k.height,b){var z=Pd({aspectRatio:N,width:G,height:q},v.resize);G=z.width,q=z.height}else{var C=Pd({aspectRatio:N,width:G,height:q}),j=C.width;G=j===void 0?a:j;var L=C.height;q=L===void 0?i:L}G=Math.floor(vee(Math.min(Math.max(G,x),O))),q=Math.floor(vee(Math.min(Math.max(q,D),T)));var ee=-G/2,ce=-q/2,ue=G,je=q,He=[];if(b){var st=0,lt=0,Vt=a,Rt=i,Gt=Pd({aspectRatio:N,width:a,height:i},{contain:"cover",cover:"contain"}[v.resize]);Vt=Gt.width,Rt=Gt.height,st=(a-Vt)/2,lt=(i-Rt)/2,He.push(st,lt,Vt,Rt)}if(He.push(ee,ce,ue,je),w){var Mu=[q,G];G=Mu[0],q=Mu[1]}m.width=G,m.height=q,gk(v.mimeType)||(v.mimeType=p.type);var Nl="transparent";if(p.size>v.convertSize&&v.convertTypes.indexOf(v.mimeType)>=0&&(v.mimeType="image/jpeg"),v.mimeType==="image/jpeg"&&(Nl="#fff"),g.fillStyle=Nl,g.fillRect(0,0,G,q),v.beforeDraw&&v.beforeDraw.call(this,g,m),!this.aborted&&(g.save(),g.translate(G/2,q/2),g.rotate(u*Math.PI/180),g.scale(l,f),g.drawImage.apply(g,[d].concat(He)),g.restore(),v.drew&&v.drew.call(this,g,m),!this.aborted)){var Ed=function(M0){n.aborted||n.done({naturalWidth:a,naturalHeight:i,result:M0})};m.toBlob?m.toBlob(Ed,v.mimeType,v.quality):Ed(rut(m.toDataURL(v.mimeType,v.quality)))}}},{key:"done",value:function(r){var n=r.naturalWidth,a=r.naturalHeight,i=r.result,o=this.file,u=this.image,s=this.options;if(Uu&&!s.checkOrientation&&Uu.revokeObjectURL(u.src),i)if(s.strict&&i.size>o.size&&s.mimeType===o.type&&!(s.width>n||s.height>a||s.minWidth>n||s.minHeight>a||s.maxWidth<n||s.maxHeight<a))i=o;else{var l=new Date;i.lastModified=l.getTime(),i.lastModifiedDate=l,i.name=o.name,i.name&&i.type!==o.type&&(i.name=i.name.replace(yut,sut(i.type)))}else i=o;this.result=i,s.success&&s.success.call(this,i)}},{key:"fail",value:function(r){var n=this.options;if(n.error)n.error.call(this,r);else throw r}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=mut,e}},{key:"setDefaults",value:function(r){P0(dee,r)}}]),e}();mee.exports=gut});var _ee=h(function(Ogt,bee){"use strict";bee.exports={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}}});var Aee=h(function(Pgt,Tee){"use strict";function q0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?q0=function(r){return typeof r}:q0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},q0(e)}function but(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_ut(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return i=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function _ut(e,t){if(!!e){if(typeof e=="string")return wee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wee(e,t)}}function wee(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function See(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(l){r(l);return}u.done?t(s):Promise.resolve(s).then(n,a)}function Oee(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(s){See(i,n,a,o,u,"next",s)}function u(s){See(i,n,a,o,u,"throw",s)}o(void 0)})}}function Pee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pee(Object(r),!0).forEach(function(n){wut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ree(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Out(e,t,r){return t&&Ree(e.prototype,t),r&&Ree(e,r),e}function Put(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},bk(e,t)}function Rut(e){var t=Eut();return function(){var n=T0(e),a;if(t){var i=T0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return qut(this,a)}}function qut(e,t){if(t&&(q0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rd(e)}function Rd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eut(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(e)}var Tut=Xe(),Aut=eo();function qee(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var kut=0;function Iut(e){return"__private_"+kut+++"_"+e}var Fut=Af(),Eee=lee(),xut=gee(),Cut=_ee(),qd=Iut("RateLimitedQueue"),Dut=function(e){Put(r,e);var t=Rut(r);function r(n,a){var i;Sut(this,r),i=t.call(this,n,a),Object.defineProperty(Rd(i),qd,{writable:!0,value:void 0}),i.id=i.opts.id||"Compressor",i.type="modifier",i.defaultLocale=Cut;var o={quality:.6,limit:10};return i.opts=E0(E0({},o),a),qee(Rd(i),qd)[qd]=new Aut.RateLimitedQueue(i.opts.limit),i.i18nInit(),i.prepareUpload=i.prepareUpload.bind(Rd(i)),i.compress=i.compress.bind(Rd(i)),i}return Out(r,[{key:"compress",value:function(a){var i=this;return new Promise(function(o,u){new xut(a,E0(E0({},i.opts),{},{success:o,error:u}))})}},{key:"prepareUpload",value:function(){var n=Oee(regeneratorRuntime.mark(function i(o){var u=this,s,l,c,f,p,d,v,m;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s=0,l=[],c=qee(this,qd)[qd].wrapPromiseFunction(function(){var b=Oee(regeneratorRuntime.mark(function O(T){var x,D,N,G,q,U,Q;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,u.compress(T.data);case 3:x=A.sent,D=T.data.size-x.size,u.uppy.log("[Image Compressor] Image ".concat(T.id," compressed by ").concat(Eee(D))),s+=D,N=x.name,G=x.type,q=x.size,U=Fut(N),Q=U.extension,u.uppy.setFileState(T.id,{name:N,extension:Q,type:G,size:q,data:x}),u.uppy.setFileMeta(T.id,{name:N,type:G}),l.push(T),A.next=18;break;case 14:A.prev=14,A.t0=A.catch(0),u.uppy.log("[Image Compressor] Failed to compress ".concat(T.id,":"),"warning"),u.uppy.log(A.t0,"warning");case 18:case"end":return A.stop()}},O,null,[[0,14]])}));return function(O){return b.apply(this,arguments)}}()),f=o.map(function(b){var O=u.uppy.getFile(b);return u.uppy.emit("preprocess-progress",O,{mode:"indeterminate",message:u.i18n("compressingImages")}),O.isRemote||(O.data.type||(O.data=O.data.slice(0,O.data.size,O.type)),!O.type.startsWith("image/"))?Promise.resolve():c(O)}),w.next=6,Promise.all(f);case 6:this.uppy.emit("compressor:complete",l),s>1024&&this.uppy.info(this.i18n("compressedX",{size:Eee(s)}),"info"),p=but(o);try{for(p.s();!(d=p.n()).done;)v=d.value,m=this.uppy.getFile(v),this.uppy.emit("preprocess-complete",m)}catch(b){p.e(b)}finally{p.f()}case 10:case"end":return w.stop()}},i,this)}));function a(i){return n.apply(this,arguments)}return a}()},{key:"install",value:function(){this.uppy.addPreProcessor(this.prepareUpload)}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(this.prepareUpload)}}]),r}(Tut.BasePlugin);Tee.exports=Dut});var wk=h(function(A0){"use strict";A0.__esModule=!0;A0.default=Iee;A0.getFieldData=_k;var jut={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},Uut={button:!0,fieldset:!0,reset:!0,submit:!0},Mut={checkbox:!0,radio:!0},Nut=/^\s+|\s+$/g,But=Array.prototype.slice,kee=Object.prototype.toString;function Iee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{trim:!1};if(!e)throw new Error("A form is required by getFormData, was given form="+e);for(var r={},n=void 0,a=[],i={},o=0,u=e.elements.length;o<u;o++){var s=e.elements[o];Uut[s.type]||s.disabled||(n=s.name||s.id,n&&!i[n]&&(a.push(n),i[n]=!0))}for(var l=0,c=a.length;l<c;l++){n=a[l];var f=_k(e,n,t);f!=null&&(r[n]=f)}return r}function _k(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{trim:!1};if(!e)throw new Error("A form is required by getFieldData, was given form="+e);if(!t&&kee.call(t)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+t);var n=e.elements[t];if(!n||n.disabled)return null;if(!jut[kee.call(n)])return Fee(n,r.trim);for(var a=[],i=!0,o=0,u=n.length;o<u;o++)if(!n[o].disabled){i&&n[o].type!=="radio"&&(i=!1);var s=Fee(n[o],r.trim);s!=null&&(a=a.concat(s))}return i&&a.length===1?a[0]:a.length>0?a:null}function Fee(e,t){var r=null,n=e.type;if(n==="select-one")return e.options.length&&(r=e.options[e.selectedIndex].value),r;if(n==="select-multiple"){r=[];for(var a=0,i=e.options.length;a<i;a++)e.options[a].selected&&r.push(e.options[a].value);return r.length===0&&(r=null),r}return n==="file"&&"files"in e?(e.multiple?(r=But.call(e.files),r.length===0&&(r=null)):r=e.files[0],r):(Mut[n]?e.checked&&(r=e.value):r=t?e.value.replace(Nut,""):e.value,r)}Iee.getFieldData=_k});var Mee=h(function(qgt,Uee){"use strict";function k0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k0=function(r){return typeof r}:k0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},k0(e)}function xee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xee(Object(r),!0).forEach(function(n){Lut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hut(e,t,r){return t&&Dee(e.prototype,t),r&&Dee(e,r),e}function $ut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Sk(e,t)}function Wut(e){var t=Gut();return function(){var n=I0(e),a;if(t){var i=I0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Vut(this,a)}}function Vut(e,t){if(t&&(k0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jl(e)}function jl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gut(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function I0(e){return I0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},I0(e)}var Kut=rn(),Yut=rR(),Xut=In(),Jut=wk().default||wk(),Qut={version:"2.0.6"},jee=function(e){$ut(r,e);var t=Wut(r);function r(n,a){var i;zut(this,r),i=t.call(this,n,a),i.type="acquirer",i.id=i.opts.id||"Form",i.title="Form";var o={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};return i.opts=Cee(Cee({},o),a),i.handleFormSubmit=i.handleFormSubmit.bind(jl(i)),i.handleUploadStart=i.handleUploadStart.bind(jl(i)),i.handleSuccess=i.handleSuccess.bind(jl(i)),i.addResultToForm=i.addResultToForm.bind(jl(i)),i.getMetaFromForm=i.getMetaFromForm.bind(jl(i)),i}return Hut(r,[{key:"handleUploadStart",value:function(){this.opts.getMetaFromForm&&this.getMetaFromForm()}},{key:"handleSuccess",value:function(a){this.opts.addResultToForm&&this.addResultToForm(a),this.opts.submitOnSuccess&&this.form.submit()}},{key:"handleFormSubmit",value:function(a){var i=this;if(this.opts.triggerUploadOnSubmit){a.preventDefault();var o=Xut(a.target.elements),u=[];o.forEach(function(s){var l=s.tagName==="BUTTON"||s.tagName==="INPUT"&&s.type==="submit";l&&!s.disabled&&(s.disabled=!0,u.push(s))}),this.uppy.upload().then(function(){u.forEach(function(s){s.disabled=!1})},function(s){return u.forEach(function(l){l.disabled=!1}),Promise.reject(s)}).catch(function(s){i.uppy.log(s.stack||s.message||s)})}}},{key:"addResultToForm",value:function(a){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(a);var i=this.form.querySelector('[name="'.concat(this.opts.resultName,'"]'));if(i){var o;try{o=JSON.parse(i.value)}catch(u){}Array.isArray(o)||(o=[]),o.push(a),i.value=JSON.stringify(o);return}i=document.createElement("input"),i.name=this.opts.resultName,i.type="hidden",i.value=JSON.stringify([a]),this.form.appendChild(i)}},{key:"getMetaFromForm",value:function(){var a=Jut(this.form);delete a[this.opts.resultName],this.uppy.setMeta(a)}},{key:"install",value:function(){if(this.form=Yut(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)}},{key:"uninstall",value:function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}}]),r}(Kut);jee.VERSION=Qut.version;Uee.exports=jee});var Hee=h(function(Egt,zee){"use strict";function Zut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function est(e,t,r){return t&&Nee(e.prototype,t),r&&Nee(e,r),e}var Bee=typeof navigator!="undefined"&&"serviceWorker"in navigator;function tst(){return new Promise(function(e,t){Bee?navigator.serviceWorker.controller?e():navigator.serviceWorker.addEventListener("controllerchange",function(){e()}):t(new Error("Unsupported"))})}var Lee=function(){function e(t){Zut(this,e),this.ready=tst(),this.name=t.storeName}return est(e,[{key:"list",value:function(){var r=this,n={},a=new Promise(function(o,u){n.resolve=o,n.reject=u}),i=function o(u){if(u.data.store===r.name)switch(u.data.type){case"uppy/ALL_FILES":n.resolve(u.data.files),navigator.serviceWorker.removeEventListener("message",o);break;default:n.reject()}};return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",i),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:r.name})}),a}},{key:"put",value:function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:n.name,file:r})})}},{key:"delete",value:function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:n.name,fileID:r})})}}]),e}();Lee.isSupported=Bee;zee.exports=Lee});var Zee=h(function(Tgt,Qee){"use strict";function $ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rst(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$ee(Object(r),!0).forEach(function(n){nst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$ee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nst(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ist(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ast(e,t,r){return t&&Wee(e.prototype,t),r&&Wee(e,r),e}var Vee=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),ost=!!Vee,Gee="uppy-blobs",Er="files",Kee=24*60*60*1e3,ust=3;function sst(e){var t=e.openCursor();t.onsuccess=function(r){var n=r.target.result;if(!!n){var a=n.value;a.expires=Date.now()+Kee,n.update(a)}}}function Yee(e){var t=Vee.open(e,ust);return new Promise(function(r,n){t.onupgradeneeded=function(a){var i=a.target.result,o=a.currentTarget.transaction;if(a.oldVersion<2){var u=i.createObjectStore(Er,{keyPath:"id"});u.createIndex("store","store",{unique:!1})}if(a.oldVersion<3){var s=o.objectStore(Er);s.createIndex("expires","expires",{unique:!1}),sst(s)}o.oncomplete=function(){r(i)}},t.onsuccess=function(a){r(a.target.result)},t.onerror=n})}function F0(e){return new Promise(function(t,r){e.onsuccess=function(n){t(n.target.result)},e.onerror=r})}var Xee=!1,Jee=function(){function e(t){var r=this;ist(this,e),this.opts=rst({dbName:Gee,storeName:"default",expires:Kee,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},t),this.name=this.opts.storeName;var n=function(){return Yee(r.opts.dbName)};Xee?this.ready=n():(Xee=!0,this.ready=e.cleanup().then(n,n))}return ast(e,[{key:"key",value:function(r){return"".concat(this.name,"!").concat(r)}},{key:"list",value:function(){var r=this;return this.ready.then(function(n){var a=n.transaction([Er],"readonly"),i=a.objectStore(Er),o=i.index("store").getAll(IDBKeyRange.only(r.name));return F0(o)}).then(function(n){var a={};return n.forEach(function(i){a[i.fileID]=i.data}),a})}},{key:"get",value:function(r){var n=this;return this.ready.then(function(a){var i=a.transaction([Er],"readonly"),o=i.objectStore(Er).get(n.key(r));return F0(o)}).then(function(a){return{id:a.data.fileID,data:a.data.data}})}},{key:"getSize",value:function(){var r=this;return this.ready.then(function(n){var a=n.transaction([Er],"readonly"),i=a.objectStore(Er),o=i.index("store").openCursor(IDBKeyRange.only(r.name));return new Promise(function(u,s){var l=0;o.onsuccess=function(c){var f=c.target.result;f?(l+=f.value.data.size,f.continue()):u(l)},o.onerror=function(){s(new Error("Could not retrieve stored blobs size"))}})})}},{key:"put",value:function(r){var n=this;return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(a){return a>n.opts.maxTotalSize?Promise.reject(new Error("No space left")):n.ready}).then(function(a){var i=a.transaction([Er],"readwrite"),o=i.objectStore(Er).add({id:n.key(r.id),fileID:r.id,store:n.name,expires:Date.now()+n.opts.expires,data:r.data});return F0(o)})}},{key:"delete",value:function(r){var n=this;return this.ready.then(function(a){var i=a.transaction([Er],"readwrite"),o=i.objectStore(Er).delete(n.key(r));return F0(o)})}}],[{key:"cleanup",value:function(){return Yee(Gee).then(function(r){var n=r.transaction([Er],"readwrite"),a=n.objectStore(Er),i=a.index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(o,u){i.onsuccess=function(s){var l=s.target.result;l?(l.delete(),l.continue()):o(r)},i.onerror=u})}).then(function(r){r.close()})}}]),e}();Jee.isSupported=ost;Qee.exports=Jee});var ate=h(function(Agt,ite){"use strict";function ete(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lst(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ete(Object(r),!0).forEach(function(n){cst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ete(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cst(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pst(e,t,r){return t&&tte(e.prototype,t),r&&tte(e,r),e}function dst(){for(var e=[],t=0;t<localStorage.length;t++){var r=localStorage.key(t);/^uppyState:/.test(r)&&e.push(r.slice("uppyState:".length))}return e}function rte(e){try{return JSON.parse(e)}catch(t){return null}}var nte=!1,hst=function(){function e(t){fst(this,e),this.opts=lst({expires:24*60*60*1e3},t),this.name="uppyState:".concat(t.storeName),nte||(nte=!0,e.cleanup())}return pst(e,[{key:"load",value:function(){var r=localStorage.getItem(this.name);if(!r)return null;var n=rte(r);return n?n.metadata?n.metadata:(this.save(n),n):null}},{key:"save",value:function(r){var n=Date.now()+this.opts.expires,a=JSON.stringify({metadata:r,expires:n});localStorage.setItem(this.name,a)}}],[{key:"cleanup",value:function(r){if(r){localStorage.removeItem("uppyState:".concat(r));return}var n=dst(),a=Date.now();n.forEach(function(i){var o=localStorage.getItem("uppyState:".concat(i));if(!!o){var u=rte(o);!u||u.expires&&u.expires<a&&localStorage.removeItem("uppyState:".concat(i))}})}}]),e}();ite.exports=hst});var cte=h(function(kgt,lte){"use strict";function x0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x0=function(r){return typeof r}:x0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},x0(e)}function ote(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ote(Object(r),!0).forEach(function(n){vst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ote(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vst(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ute(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mst(e,t,r){return t&&ute(e.prototype,t),r&&ute(e,r),e}function gst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Ok(e,t)}function bst(e){var t=wst();return function(){var n=C0(e),a;if(t){var i=C0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _st(this,a)}}function _st(e,t){if(t&&(x0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ul(e)}function Ul(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function C0(e){return C0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},C0(e)}var Sst=Tf(),Ost=rn(),Pst=Hee(),Rst=Zee(),D0=ate(),qst={version:"2.1.0"},ste=function(e){gst(r,e);var t=bst(r);function r(n,a){var i;yst(this,r),i=t.call(this,n,a),i.addBlobToStores=function(u){u.isRemote||(i.ServiceWorkerStore&&i.ServiceWorkerStore.put(u).catch(function(s){i.uppy.log("[GoldenRetriever] Could not store file","warning"),i.uppy.log(s)}),i.IndexedDBStore.put(u).catch(function(s){i.uppy.log("[GoldenRetriever] Could not store file","warning"),i.uppy.log(s)}))},i.removeBlobFromStores=function(u){i.ServiceWorkerStore&&i.ServiceWorkerStore.delete(u.id).catch(function(s){i.uppy.log("[GoldenRetriever] Failed to remove file","warning"),i.uppy.log(s)}),i.IndexedDBStore.delete(u.id).catch(function(s){i.uppy.log("[GoldenRetriever] Failed to remove file","warning"),i.uppy.log(s)})},i.replaceBlobInStores=function(u){i.removeBlobFromStores(u),i.addBlobToStores(u)},i.handleRestoreConfirmed=function(){i.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");var u=i.uppy.getState(),s=u.currentUploads;s&&(Object.keys(s).forEach(function(l){i.uppy.restore(l,s[l])}),i.uppy.resumeAll()),i.uppy.upload(),i.uppy.setState({recoveredState:null})},i.abortRestore=function(){i.uppy.log("[GoldenRetriever] Aborting restore...");var u=Object.keys(i.uppy.getState().files);i.deleteBlobs(u).then(function(){i.uppy.log("[GoldenRetriever] Removed ".concat(u.length," files"))}).catch(function(s){i.uppy.log("[GoldenRetriever] Could not remove ".concat(u.length," files"),"warning"),i.uppy.log(s)}),i.uppy.cancelAll(),i.uppy.setState({recoveredState:null}),D0.cleanup(i.uppy.opts.id)},i.handleComplete=function(u){var s=u.successful,l=s.map(function(c){return c.id});i.deleteBlobs(l).then(function(){i.uppy.log("[GoldenRetriever] Removed ".concat(s.length," files that finished uploading"))}).catch(function(c){i.uppy.log("[GoldenRetriever] Could not remove ".concat(s.length," files that finished uploading"),"warning"),i.uppy.log(c)}),i.uppy.setState({recoveredState:null}),D0.cleanup(i.uppy.opts.id)},i.restoreBlobs=function(){i.uppy.getFiles().length>0?Promise.all([i.loadFileBlobsFromServiceWorker(),i.loadFileBlobsFromIndexedDB()]).then(function(u){var s=Wt(Wt({},u[0]),u[1]);i.onBlobsLoaded(s)}):(i.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),i.onBlobsLoaded([]))},i.type="debugger",i.id=i.opts.id||"GoldenRetriever",i.title="Golden Retriever";var o={expires:24*60*60*1e3,serviceWorker:!1};return i.opts=Wt(Wt({},o),a),i.MetaDataStore=new D0({expires:i.opts.expires,storeName:n.getID()}),i.ServiceWorkerStore=null,i.opts.serviceWorker&&(i.ServiceWorkerStore=new Pst({storeName:n.getID()})),i.IndexedDBStore=new Rst(Wt(Wt({expires:i.opts.expires},i.opts.indexedDB||{}),{},{storeName:n.getID()})),i.saveFilesStateToLocalStorage=Sst(i.saveFilesStateToLocalStorage.bind(Ul(i)),500,{leading:!0,trailing:!0}),i.restoreState=i.restoreState.bind(Ul(i)),i.loadFileBlobsFromServiceWorker=i.loadFileBlobsFromServiceWorker.bind(Ul(i)),i.loadFileBlobsFromIndexedDB=i.loadFileBlobsFromIndexedDB.bind(Ul(i)),i.onBlobsLoaded=i.onBlobsLoaded.bind(Ul(i)),i}return mst(r,[{key:"restoreState",value:function(){var a=this.MetaDataStore.load();a&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:a.currentUploads||{},files:a.files||{},recoveredState:a}),this.savedPluginData=a.pluginData)}},{key:"getWaitingFiles",value:function(){var a={};return this.uppy.getFiles().forEach(function(i){(!i.progress||!i.progress.uploadStarted)&&(a[i.id]=i)}),a}},{key:"getUploadingFiles",value:function(){var a=this,i={},o=this.uppy.getState(),u=o.currentUploads;if(u){var s=Object.keys(u);s.forEach(function(l){var c=u[l].fileIDs;c.forEach(function(f){i[f]=a.uppy.getFile(f)})})}return i}},{key:"saveFilesStateToLocalStorage",value:function(){var a=Wt(Wt({},this.getWaitingFiles()),this.getUploadingFiles());if(Object.keys(a).length===0){this.uppy.setState({recoveredState:null}),D0.cleanup(this.uppy.opts.id);return}var i={};Object.keys(a).forEach(function(l){a[l].isRemote?i[l]=Wt(Wt({},a[l]),{},{isRestored:!0}):i[l]=Wt(Wt({},a[l]),{},{isRestored:!0,data:null,preview:null})});var o={};this.uppy.emit("restore:get-data",function(l){Object.assign(o,l)});var u=this.uppy.getState(),s=u.currentUploads;this.MetaDataStore.save({currentUploads:s,files:i,pluginData:o})}},{key:"loadFileBlobsFromServiceWorker",value:function(){var a=this;return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(function(i){var o=a.uppy.getFiles(),u=o.filter(function(c){return!c.isRemote}),s=Object.keys(i).length,l=u.length;return s===l?(a.uppy.log("[GoldenRetriever] Successfully recovered ".concat(s," blobs from Service Worker!")),i):(a.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(function(i){return a.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),a.uppy.log(i),{}}):Promise.resolve({})}},{key:"loadFileBlobsFromIndexedDB",value:function(){var a=this;return this.IndexedDBStore.list().then(function(i){var o=Object.keys(i).length;return o>0?(a.uppy.log("[GoldenRetriever] Successfully recovered ".concat(o," blobs from IndexedDB!")),i):(a.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(function(i){return a.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),a.uppy.log(i),{}})}},{key:"onBlobsLoaded",value:function(a){var i=this,o=[],u=Wt({},this.uppy.getState().files);Object.keys(a).forEach(function(s){var l=i.uppy.getFile(s);if(!l){o.push(s);return}var c=a[s],f={data:c,isRestored:!0,isGhost:!1};u[s]=Wt(Wt({},l),f)}),Object.keys(u).forEach(function(s){u[s].data===null&&(u[s]=Wt(Wt({},u[s]),{},{isGhost:!0}))}),this.uppy.setState({files:u}),this.uppy.emit("restored",this.savedPluginData),o.length&&this.deleteBlobs(o).then(function(){i.uppy.log("[GoldenRetriever] Cleaned up ".concat(o.length," old files"))}).catch(function(s){i.uppy.log("[GoldenRetriever] Could not clean up ".concat(o.length," old files"),"warning"),i.uppy.log(s)})}},{key:"deleteBlobs",value:function(a){var i=this,o=[];return a.forEach(function(u){i.ServiceWorkerStore&&o.push(i.ServiceWorkerStore.delete(u)),i.IndexedDBStore&&o.push(i.IndexedDBStore.delete(u))}),Promise.all(o)}},{key:"install",value:function(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}},{key:"uninstall",value:function(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}}]),r}(Ost);ste.VERSION=qst.version;lte.exports=ste});var vte=h(function(Igt,hte){"use strict";function j0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?j0=function(r){return typeof r}:j0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},j0(e)}function fte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fte(Object(r),!0).forEach(function(n){Est(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fte(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Est(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ast(e,t,r){return t&&pte(e.prototype,t),r&&pte(e,r),e}function kst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pk(e,t)}function Pk(e,t){return Pk=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Pk(e,t)}function Ist(e){var t=xst();return function(){var n=U0(e),a;if(t){var i=U0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Fst(this,a)}}function Fst(e,t){if(t&&(j0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rk(e)}function Rk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},U0(e)}var Cst=Xe(),Dst={version:"2.1.0"},dte=function(e){kst(r,e);var t=Ist(r);function r(n,a){var i;Tst(this,r),i=t.call(this,n,a),i.type="debugger",i.id=i.opts.id||"ReduxDevTools",i.title="Redux DevTools";var o={};return i.opts=Ml(Ml({},o),a),i.handleStateChange=i.handleStateChange.bind(Rk(i)),i.initDevTools=i.initDevTools.bind(Rk(i)),i}return Ast(r,[{key:"handleStateChange",value:function(a,i){this.devTools.send("UPPY_STATE_UPDATE",i)}},{key:"initDevTools",value:function(){var a=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(i){if(i.type==="DISPATCH")switch(i.payload.type){case"RESET":a.uppy.reset();return;case"IMPORT_STATE":{var o=i.payload.nextLiftedState.computedStates;a.uppy.store.state=Ml(Ml({},a.uppy.getState()),o[o.length-1].state),a.uppy.updateAll(a.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":a.uppy.store.state=Ml(Ml({},a.uppy.getState()),JSON.parse(i.state)),a.uppy.updateAll(a.uppy.getState());break;default:}})}},{key:"install",value:function(){this.withDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}},{key:"uninstall",value:function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}}]),r}(Cst.UIPlugin);dte.VERSION=Dst.version;hte.exports=dte});var yte=h(function(_e){_e.Core=Xe();_e.debugLogger=_e.Core.debugLogger;_e.server=Xt();_e.views={ProviderView:ti()};_e.DefaultStore=HP();_e.ReduxStore=B7();_e.Dashboard=Lq();_e.DragDrop=PW();_e.DropTarget=IW();_e.FileInput=LW();_e.ImageEditor=ZW();_e.Informer=VR();_e.ProgressBar=sV();_e.StatusBar=LR();_e.Audio=tG();_e.Box=hE();_e.Dropbox=yE();_e.Facebook=gE();_e.GoogleDrive=wE();_e.Instagram=OE();_e.OneDrive=RE();_e.RemoteSources=jK();_e.ScreenCapture=uY();_e.Unsplash=EE();_e.Url=IE();_e.Webcam=HY();_e.Zoom=xE();_e.AwsS3=SX();_e.AwsS3Multipart=zX();_e.Transloadit=GZ();_e.Tus=tA();_e.XHRUpload=uee();_e.Compressor=Aee();_e.Form=Mee();_e.GoldenRetriever=cte();_e.ReduxDevTools=vte();_e.ThumbnailGenerator=pq();_e.locales={}});var gte=h(function(xgt,mte){globalThis.Uppy=mte.exports=yte()});var Xu=P(),P_=H(),moe=Fe(),goe=Ke(),Zl=le(),boe=ie(),_oe=de(),Ju=Ee(),Ro=Cd(),R_=ae(),vt=Le(),woe=_o(),Soe=Te(),Ooe=we(),Poe=tr(),q_=Hu(),E_=V(),Roe=xe(),Qd=er(),T_=yi(),FF=Be(),A_=yn(),ec=jt(),xF=wo(),qoe=gi(),CF=Jd(),k_=Ld(),DF=Dt(),jF=Ne(),UF=Hl(),Eoe=ba(),Zd=ct(),tc=Wu(),Toe=Gl(),MF=Ku(),NF=Vu(),BF=ge(),Aoe=S_(),koe=at(),Ioe=Kr(),LF=Ve(),eh=kt().forEach,mr=Toe("hidden"),th="Symbol",rc="prototype",zF=BF("toPrimitive"),Foe=LF.set,HF=LF.getterFor(th),Yr=Object[rc],_i=P_.Symbol,wa=_i&&_i[rc],$F=P_.TypeError,I_=P_.QObject,nc=moe("JSON","stringify"),WF=DF.f,Sa=jF.f,VF=CF.f,xoe=UF.f,GF=boe([].push),wi=tc("symbols"),ic=tc("op-symbols"),F_=tc("string-to-symbol-registry"),x_=tc("symbol-to-string-registry"),Coe=tc("wks"),C_=!I_||!I_[rc]||!I_[rc].findChild,D_=Ju&&R_(function(){return ec(Sa({},"a",{get:function(){return Sa(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=WF(Yr,t);n&&delete Yr[t],Sa(e,t,r),n&&e!==Yr&&Sa(Yr,t,n)}:Sa,j_=function(t,r){var n=wi[t]=ec(wa);return Foe(n,{type:th,tag:t,description:r}),Ju||(n.description=r),n},rh=function(t,r,n){t===Yr&&rh(ic,r,n),E_(t);var a=T_(r);return E_(n),vt(wi,a)?(n.enumerable?(vt(t,mr)&&t[mr][a]&&(t[mr][a]=!1),n=ec(n,{enumerable:A_(0,!1)})):(vt(t,mr)||Sa(t,mr,A_(1,{})),t[mr][a]=!0),D_(t,a,n)):Sa(t,a,n)},KF=function(t,r){E_(t);var n=Qd(r),a=xF(n).concat(M_(n));return eh(a,function(i){(!Ju||Zl(U_,n,i))&&rh(t,i,n[i])}),t},Doe=function(t,r){return r===void 0?ec(t):KF(ec(t),r)},U_=function(t){var r=T_(t),n=Zl(xoe,this,r);return this===Yr&&vt(wi,r)&&!vt(ic,r)?!1:n||!vt(this,r)||!vt(wi,r)||vt(this,mr)&&this[mr][r]?n:!0},YF=function(t,r){var n=Qd(t),a=T_(r);if(!(n===Yr&&vt(wi,a)&&!vt(ic,a))){var i=WF(n,a);return i&&vt(wi,a)&&!(vt(n,mr)&&n[mr][a])&&(i.enumerable=!0),i}},XF=function(t){var r=VF(Qd(t)),n=[];return eh(r,function(a){!vt(wi,a)&&!vt(MF,a)&&GF(n,a)}),n},M_=function(t){var r=t===Yr,n=VF(r?ic:Qd(t)),a=[];return eh(n,function(i){vt(wi,i)&&(!r||vt(Yr,i))&&GF(a,wi[i])}),a};Ro||(_i=function(){if(Poe(wa,this))throw $F("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:FF(arguments[0]),r=NF(t),n=function a(i){this===Yr&&Zl(a,ic,i),vt(this,mr)&&vt(this[mr],r)&&(this[mr][r]=!1),D_(this,r,A_(1,i))};return Ju&&C_&&D_(Yr,r,{configurable:!0,set:n}),j_(r,t)},wa=_i[rc],Zd(wa,"toString",function(){return HF(this).tag}),Zd(_i,"withoutSetter",function(e){return j_(NF(e),e)}),UF.f=U_,jF.f=rh,DF.f=YF,qoe.f=CF.f=XF,k_.f=M_,Aoe.f=function(e){return j_(BF(e),e)},Ju&&(Sa(wa,"description",{configurable:!0,get:function(){return HF(this).description}}),_oe||Zd(Yr,"propertyIsEnumerable",U_,{unsafe:!0})));Xu({global:!0,wrap:!0,forced:!Ro,sham:!Ro},{Symbol:_i});eh(xF(Coe),function(e){koe(e)});Xu({target:th,stat:!0,forced:!Ro},{for:function(t){var r=FF(t);if(vt(F_,r))return F_[r];var n=_i(r);return F_[r]=n,x_[n]=r,n},keyFor:function(t){if(!q_(t))throw $F(t+" is not a symbol");if(vt(x_,t))return x_[t]},useSetter:function(){C_=!0},useSimple:function(){C_=!1}});Xu({target:"Object",stat:!0,forced:!Ro,sham:!Ju},{create:Doe,defineProperty:rh,defineProperties:KF,getOwnPropertyDescriptor:YF});Xu({target:"Object",stat:!0,forced:!Ro},{getOwnPropertyNames:XF,getOwnPropertySymbols:M_});Xu({target:"Object",stat:!0,forced:R_(function(){k_.f(1)})},{getOwnPropertySymbols:function(t){return k_.f(Roe(t))}});nc&&(JF=!Ro||R_(function(){var e=_i();return nc([e])!="[null]"||nc({a:e})!="{}"||nc(Object(e))!="{}"}),Xu({target:"JSON",stat:!0,forced:JF},{stringify:function(t,r,n){var a=Eoe(arguments),i=r;if(!(!Ooe(r)&&t===void 0||q_(t)))return woe(r)||(r=function(u,s){if(Soe(i)&&(s=Zl(i,this,u,s)),!q_(s))return s}),a[1]=r,goe(nc,null,a)}}));var JF;wa[zF]||(QF=wa.valueOf,Zd(wa,zF,function(e){return Zl(QF,this)}));var QF;Ioe(_i,th);MF[mr]=!0;var joe=P(),Uoe=Ee(),Moe=H(),nh=ie(),Noe=Le(),Boe=Te(),Loe=tr(),zoe=Be(),Hoe=Ne().f,$oe=Hd(),Si=Moe.Symbol,qo=Si&&Si.prototype;Uoe&&Boe(Si)&&(!("description"in qo)||Si().description!==void 0)&&(N_={},ac=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:zoe(arguments[0]),r=Loe(qo,this)?new Si(t):t===void 0?Si():Si(t);return t===""&&(N_[r]=!0),r},$oe(ac,Si),ac.prototype=qo,qo.constructor=ac,ZF=String(Si("test"))=="Symbol(test)",ex=nh(qo.toString),tx=nh(qo.valueOf),rx=/^Symbol\((.*)\)[^)]+$/,nx=nh("".replace),ix=nh("".slice),Hoe(qo,"description",{configurable:!0,get:function(){var t=tx(this),r=ex(t);if(Noe(N_,t))return"";var n=ZF?ix(r,7,-1):nx(r,rx,"$1");return n===""?void 0:n}}),joe({global:!0,forced:!0},{Symbol:ac}));var N_,ac,ZF,ex,tx,rx,nx,ix;var Woe=at();Woe("asyncIterator");var Voe=at();Voe("hasInstance");var Goe=at();Goe("isConcatSpreadable");var Koe=at();Koe("iterator");var Yoe=at();Yoe("match");var Xoe=at();Xoe("matchAll");var Joe=at();Joe("replace");var Qoe=at();Qoe("search");var Zoe=at();Zoe("species");var eue=at();eue("split");var tue=at();tue("toPrimitive");var rue=at();rue("toStringTag");var nue=at();nue("unscopables");var Ygt=Gr(V_());var bse=P(),_se=H(),wse=ae(),Sse=_o(),Ose=we(),Pse=xe(),Rse=Ge(),xx=bi(),qse=Po(),Ese=Zu(),Tse=ge(),Ase=mo(),Cx=Tse("isConcatSpreadable"),Dx=9007199254740991,jx="Maximum allowed index exceeded",Ux=_se.TypeError,kse=Ase>=51||!wse(function(){var e=[];return e[Cx]=!1,e.concat()[0]!==e}),Ise=Ese("concat"),Fse=function(t){if(!Ose(t))return!1;var r=t[Cx];return r!==void 0?!!r:Sse(t)},xse=!kse||!Ise;bse({target:"Array",proto:!0,forced:xse},{concat:function(t){var r=Pse(this),n=qse(r,0),a=0,i,o,u,s,l;for(i=-1,u=arguments.length;i<u;i++)if(l=i===-1?r:arguments[i],Fse(l)){if(s=Rse(l),a+s>Dx)throw Ux(jx);for(o=0;o<s;o++,a++)o in l&&xx(n,a,l[o])}else{if(a>=Dx)throw Ux(jx);xx(n,a++,l)}return n.length=a,n}});var Bse=P(),Lse=K_(),zse=Yt();Bse({target:"Array",proto:!0},{copyWithin:Lse});zse("copyWithin");var Wse=P(),Vse=ph(),Gse=Yt();Wse({target:"Array",proto:!0},{fill:Vse});Gse("fill");var Kse=P(),Yse=kt().filter,Xse=Zu(),Jse=Xse("filter");Kse({target:"Array",proto:!0,forced:!Jse},{filter:function(t){return Yse(this,t,arguments.length>1?arguments[1]:void 0)}});var Qse=P(),Zse=kt().find,ele=Yt(),J_="find",zx=!0;J_ in[]&&Array(1)[J_](function(){zx=!1});Qse({target:"Array",proto:!0,forced:zx},{find:function(t){return Zse(this,t,arguments.length>1?arguments[1]:void 0)}});ele(J_);var tle=P(),rle=kt().findIndex,nle=Yt(),Q_="findIndex",Hx=!0;Q_ in[]&&Array(1)[Q_](function(){Hx=!1});tle({target:"Array",proto:!0,forced:Hx},{findIndex:function(t){return rle(this,t,arguments.length>1?arguments[1]:void 0)}});nle(Q_);var cle=P(),fle=Z_(),ple=xe(),dle=Ge(),hle=Kt(),vle=Po();cle({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=ple(this),n=dle(r),a=vle(r,0);return a.length=fle(a,r,r,n,0,t===void 0?1:hle(t)),a}});var yle=P(),mle=Z_(),gle=pe(),ble=xe(),_le=Ge(),wle=Po();yle({target:"Array",proto:!0},{flatMap:function(t){var r=ble(this),n=_le(r),a;return gle(t),a=wle(r,0),a.length=mle(a,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),a}});var Dle=P(),jle=ew(),Ule=sc(),Mle=!Ule(function(e){Array.from(e)});Dle({target:"Array",stat:!0,forced:Mle},{from:jle});var Nle=P(),Ble=Yl().includes,Lle=Yt();Nle({target:"Array",proto:!0},{includes:function(t){return Ble(this,t,arguments.length>1?arguments[1]:void 0)}});Lle("includes");var obt=Gr(fc());var vce=P(),yce=ie(),mce=yo(),gce=er(),bce=pc(),_ce=yce([].join),wce=mce!=Object,Sce=bce("join",",");vce({target:"Array",proto:!0,forced:wce||!Sce},{join:function(t){return _ce(gce(this),t===void 0?",":t)}});var Oce=P(),Pce=kt().map,Rce=Zu(),qce=Rce("map");Oce({target:"Array",proto:!0,forced:!qce},{map:function(t){return Pce(this,t,arguments.length>1?arguments[1]:void 0)}});var Ece=P(),Tce=H(),Ace=ae(),kce=Oo(),Ice=bi(),gC=Tce.Array,Fce=Ace(function(){function e(){}return!(gC.of.call(e)instanceof e)});Ece({target:"Array",stat:!0,forced:Fce},{of:function(){for(var t=0,r=arguments.length,n=new(kce(this)?this:gC)(r);r>t;)Ice(n,t,arguments[t++]);return n.length=r,n}});var xce=P(),Cce=H(),bC=_o(),Dce=Oo(),jce=we(),_C=mi(),Uce=Ge(),Mce=er(),Nce=bi(),Bce=ge(),Lce=Zu(),zce=ba(),Hce=Lce("slice"),$ce=Bce("species"),uw=Cce.Array,Wce=Math.max;xce({target:"Array",proto:!0,forced:!Hce},{slice:function(t,r){var n=Mce(this),a=Uce(n),i=_C(t,a),o=_C(r===void 0?a:r,a),u,s,l;if(bC(n)&&(u=n.constructor,Dce(u)&&(u===uw||bC(u.prototype))?u=void 0:jce(u)&&(u=u[$ce],u===null&&(u=void 0)),u===uw||u===void 0))return zce(n,i,o);for(s=new(u===void 0?uw:u)(Wce(o-i,0)),l=0;i<o;i++,l++)i in n&&Nce(s,l,n[i]);return s.length=l,s}});var Zce=P(),TC=ie(),efe=pe(),tfe=xe(),rfe=Ge(),AC=Be(),cw=ae(),nfe=mh(),ife=pc(),kC=sw(),afe=lw(),IC=mo(),FC=gh(),Pa=[],xC=TC(Pa.sort),ofe=TC(Pa.push),ufe=cw(function(){Pa.sort(void 0)}),sfe=cw(function(){Pa.sort(null)}),lfe=ife("sort"),CC=!cw(function(){if(IC)return IC<70;if(!(kC&&kC>3)){if(afe)return!0;if(FC)return FC<603;var e="",t,r,n,a;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)Pa.push({k:r+a,v:n})}for(Pa.sort(function(i,o){return o.v-i.v}),a=0;a<Pa.length;a++)r=Pa[a].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),cfe=ufe||!sfe||!lfe||!CC,ffe=function(t){return function(r,n){return n===void 0?-1:r===void 0?1:t!==void 0?+t(r,n)||0:AC(r)>AC(n)?1:-1}};Zce({target:"Array",proto:!0,forced:cfe},{sort:function(t){t!==void 0&&efe(t);var r=tfe(this);if(CC)return t===void 0?xC(r):xC(r,t);var n=[],a=rfe(r),i,o;for(o=0;o<a;o++)o in r&&ofe(n,r[o]);for(nfe(n,ffe(t)),i=n.length,o=0;o<i;)r[o]=n[o++];for(;o<a;)delete r[o++];return r}});var yfe=Ra();yfe("Array");var mfe=P(),gfe=H(),bfe=mi(),_fe=Kt(),wfe=Ge(),Sfe=xe(),Ofe=Po(),Pfe=bi(),Rfe=Zu(),qfe=Rfe("splice"),Efe=gfe.TypeError,Tfe=Math.max,Afe=Math.min,kfe=9007199254740991,Ife="Maximum allowed length exceeded";mfe({target:"Array",proto:!0,forced:!qfe},{splice:function(t,r){var n=Sfe(this),a=wfe(n),i=bfe(t,a),o=arguments.length,u,s,l,c,f,p;if(o===0?u=s=0:o===1?(u=0,s=a-i):(u=o-2,s=Afe(Tfe(_fe(r),0),a-i)),a+u-s>kfe)throw Efe(Ife);for(l=Ofe(n,s),c=0;c<s;c++)f=i+c,f in n&&Pfe(l,c,n[f]);if(l.length=s,u<s){for(c=i;c<a-s;c++)f=c+s,p=c+u,f in n?n[p]=n[f]:delete n[p];for(c=a;c>a-s+u;c--)delete n[c-1]}else if(u>s)for(c=a-s;c>i;c--)f=c+s-1,p=c+u-1,f in n?n[p]=n[f]:delete n[p];for(c=0;c<u;c++)n[c+i]=arguments[c+2];return n.length=a-s+u,l}});var Ffe=Yt();Ffe("flat");var xfe=Yt();xfe("flatMap");var fpe=P(),ppe=H(),dpe=_w(),hpe=Ra(),ww="ArrayBuffer",s3=dpe[ww],vpe=ppe[ww];fpe({global:!0,forced:vpe!==s3},{ArrayBuffer:s3});hpe(ww);var _pe=Le(),wpe=ct(),Spe=c3(),Ope=ge(),f3=Ope("toPrimitive"),p3=Date.prototype;_pe(p3,f3)||wpe(p3,f3,Spe);var Ppe=Te(),d3=we(),Rpe=Ne(),qpe=Ut(),Epe=ge(),h3=Epe("hasInstance"),v3=Function.prototype;h3 in v3||Rpe.f(v3,h3,{value:function(t){if(!Ppe(this)||!d3(t))return!1;var r=this.prototype;if(!d3(r))return t instanceof this;for(;t=qpe(t);)if(r===t)return!0;return!1}});var Tpe=Ee(),Ape=ma().EXISTS,y3=ie(),kpe=Ne().f,m3=Function.prototype,Ipe=y3(m3.toString),g3=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Fpe=y3(g3.exec),xpe="name";Tpe&&!Ape&&kpe(m3,xpe,{configurable:!0,get:function(){try{return Fpe(g3,Ipe(this))[1]}catch(t){return""}}});var _bt=Gr(Sw());var jpe=P(),Upe=H(),Mpe=Fe(),Npe=Ke(),hc=ie(),Bpe=ae(),Lpe=Upe.Array,qh=Mpe("JSON","stringify"),Eh=hc(/./.exec),b3=hc("".charAt),zpe=hc("".charCodeAt),Hpe=hc("".replace),$pe=hc(1 .toString),Wpe=/[\uD800-\uDFFF]/g,_3=/^[\uD800-\uDBFF]$/,w3=/^[\uDC00-\uDFFF]$/,Vpe=function(t,r,n){var a=b3(n,r-1),i=b3(n,r+1);return Eh(_3,t)&&!Eh(w3,i)||Eh(w3,t)&&!Eh(_3,a)?"\\u"+$pe(zpe(t,0),16):t},Gpe=Bpe(function(){return qh("\uDF06\uD834")!=='"\\udf06\\ud834"'||qh("\uDEAD")!=='"\\udead"'});qh&&jpe({target:"JSON",stat:!0,forced:Gpe},{stringify:function(t,r,n){for(var a=0,i=arguments.length,o=Lpe(i);a<i;a++)o[a]=arguments[a];var u=Npe(qh,null,o);return typeof u=="string"?Hpe(u,Wpe,Vpe):u}});var Kpe=H(),Ype=Kr();Ype(Kpe.JSON,"JSON",!0);var Obt=Gr(Ih());var Nde=P(),Bde=kw(),Iw=Math.acosh,Lde=Math.log,N3=Math.sqrt,zde=Math.LN2,Hde=!Iw||Math.floor(Iw(Number.MAX_VALUE))!=710||Iw(1/0)!=1/0;Nde({target:"Math",stat:!0,forced:Hde},{acosh:function(t){return(t=+t)<1?NaN:t>9490626562425156e-8?Lde(t)+zde:Bde(t-1+N3(t-1)*N3(t+1))}});var $de=P(),B3=Math.asinh,Wde=Math.log,Vde=Math.sqrt;function L3(e){return!isFinite(e=+e)||e==0?e:e<0?-L3(-e):Wde(e+Vde(e*e+1))}$de({target:"Math",stat:!0,forced:!(B3&&1/B3(0)>0)},{asinh:L3});var Gde=P(),z3=Math.atanh,Kde=Math.log;Gde({target:"Math",stat:!0,forced:!(z3&&1/z3(-0)<0)},{atanh:function(t){return(t=+t)==0?t:Kde((1+t)/(1-t))/2}});var Yde=P(),Xde=Fh(),Jde=Math.abs,Qde=Math.pow;Yde({target:"Math",stat:!0},{cbrt:function(t){return Xde(t=+t)*Qde(Jde(t),1/3)}});var Zde=P(),ehe=Math.floor,the=Math.log,rhe=Math.LOG2E;Zde({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-ehe(the(t+.5)*rhe):32}});var ihe=P(),ahe=_c(),W3=Math.cosh,ohe=Math.abs,Fw=Math.E;ihe({target:"Math",stat:!0,forced:!W3||W3(710)===1/0},{cosh:function(t){var r=ahe(ohe(t)-1)+1;return(r+1/(r*Fw*Fw))*(Fw/2)}});var uhe=P(),V3=_c();uhe({target:"Math",stat:!0,forced:V3!=Math.expm1},{expm1:V3});var phe=P(),dhe=Dw();phe({target:"Math",stat:!0},{fround:dhe});var hhe=P(),K3=Math.hypot,vhe=Math.abs,yhe=Math.sqrt,mhe=!!K3&&K3(1/0,NaN)!==1/0;hhe({target:"Math",stat:!0,forced:mhe},{hypot:function(t,r){for(var n=0,a=0,i=arguments.length,o=0,u,s;a<i;)u=vhe(arguments[a++]),o<u?(s=o/u,n=n*s*s+1,o=u):u>0?(s=u/o,n+=s*s):n+=u;return o===1/0?1/0:o*yhe(n)}});var ghe=P(),bhe=ae(),Y3=Math.imul,_he=bhe(function(){return Y3(4294967295,5)!=-5||Y3.length!=2});ghe({target:"Math",stat:!0,forced:_he},{imul:function(t,r){var n=65535,a=+t,i=+r,o=n&a,u=n&i;return 0|o*u+((n&a>>>16)*u+o*(n&i>>>16)<<16>>>0)}});var whe=P(),She=Math.log,Ohe=Math.LOG10E;whe({target:"Math",stat:!0},{log10:function(t){return She(t)*Ohe}});var Phe=P(),Rhe=kw();Phe({target:"Math",stat:!0},{log1p:Rhe});var qhe=P(),Ehe=Math.log,The=Math.LN2;qhe({target:"Math",stat:!0},{log2:function(t){return Ehe(t)/The}});var Ahe=P(),khe=Fh();Ahe({target:"Math",stat:!0},{sign:khe});var Ihe=P(),Fhe=ae(),X3=_c(),xhe=Math.abs,J3=Math.exp,Che=Math.E,Dhe=Fhe(function(){return Math.sinh(-2e-17)!=-2e-17});Ihe({target:"Math",stat:!0,forced:Dhe},{sinh:function(t){return xhe(t=+t)<1?(X3(t)-X3(-t))/2:(J3(t-1)-J3(-t-1))*(Che/2)}});var jhe=P(),Q3=_c(),Z3=Math.exp;jhe({target:"Math",stat:!0},{tanh:function(t){var r=Q3(t=+t),n=Q3(-t);return r==1/0?1:n==1/0?-1:(r-n)/(Z3(t)+Z3(-t))}});var Uhe=Kr();Uhe(Math,"Math",!0);var Mhe=P(),Nhe=Math.ceil,Bhe=Math.floor;Mhe({target:"Math",stat:!0},{trunc:function(t){return(t>0?Bhe:Nhe)(t)}});var Khe=Ee(),Mw=H(),iD=ie(),Yhe=Yu(),Xhe=ct(),aD=Le(),Jhe=yc(),Qhe=tr(),Zhe=Hu(),oD=r_(),eve=ae(),tve=gi().f,rve=Dt().f,nve=Ne().f,ive=jw(),ave=To().trim,Nw="Number",Aa=Mw[Nw],Bw=Aa.prototype,ove=Mw.TypeError,uve=iD("".slice),jh=iD("".charCodeAt),sve=function(t){var r=oD(t,"number");return typeof r=="bigint"?r:lve(r)},lve=function(t){var r=oD(t,"number"),n,a,i,o,u,s,l,c;if(Zhe(r))throw ove("Cannot convert a Symbol value to a number");if(typeof r=="string"&&r.length>2){if(r=ave(r),n=jh(r,0),n===43||n===45){if(a=jh(r,2),a===88||a===120)return NaN}else if(n===48){switch(jh(r,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+r}for(u=uve(r,2),s=u.length,l=0;l<s;l++)if(c=jh(u,l),c<48||c>o)return NaN;return parseInt(u,i)}}return+r};if(Yhe(Nw,!Aa(" 0o1")||!Aa("0b1")||Aa("+0x1"))){for(Ao=function(t){var r=arguments.length<1?0:Aa(sve(t)),n=this;return Qhe(Bw,n)&&eve(function(){ive(n)})?Jhe(Object(r),n,Ao):r},Lw=Khe?tve(Aa):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Uh=0;Lw.length>Uh;Uh++)aD(Aa,Sc=Lw[Uh])&&!aD(Ao,Sc)&&nve(Ao,Sc,rve(Aa,Sc));Ao.prototype=Bw,Bw.constructor=Ao,Xhe(Mw,Nw,Ao)}var Ao,Lw,Uh,Sc;var cve=P();cve({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var dve=P(),hve=zw();dve({target:"Number",stat:!0},{isFinite:hve});var mve=P(),gve=Mh();mve({target:"Number",stat:!0},{isInteger:gve});var bve=P();bve({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var _ve=P(),wve=Mh(),Sve=Math.abs;_ve({target:"Number",stat:!0},{isSafeInteger:function(t){return wve(t)&&Sve(t)<=9007199254740991}});var Ove=P();Ove({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var Pve=P();Pve({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Fve=P(),hD=dD();Fve({target:"Number",stat:!0,forced:Number.parseFloat!=hD},{parseFloat:hD});var Nve=P(),wD=Hw();Nve({target:"Number",stat:!0,forced:Number.parseInt!=wD},{parseInt:wD});var Wve=P(),OD=H(),$w=ie(),Vve=Kt(),Gve=jw(),Kve=Bh(),PD=ae(),Yve=OD.RangeError,RD=OD.String,qD=Math.floor,Ww=$w(Kve),ED=$w("".slice),Pc=$w(1 .toFixed),Lh=function e(t,r,n){return r===0?n:r%2==1?e(t,r-1,n*t):e(t*t,r/2,n)},Xve=function(t){for(var r=0,n=t;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r},as=function(t,r,n){for(var a=-1,i=n;++a<6;)i+=r*t[a],t[a]=i%1e7,i=qD(i/1e7)},Vw=function(t,r){for(var n=6,a=0;--n>=0;)a+=t[n],t[n]=qD(a/r),a=a%r*1e7},TD=function(t){for(var r=6,n="";--r>=0;)if(n!==""||r===0||t[r]!==0){var a=RD(t[r]);n=n===""?a:n+Ww("0",7-a.length)+a}return n},Jve=PD(function(){return Pc(8e-5,3)!=="0.000"||Pc(.9,0)!=="1"||Pc(1.255,2)!=="1.25"||Pc(1000000000000000100,0)!=="1000000000000000128"})||!PD(function(){Pc({})});Wve({target:"Number",proto:!0,forced:Jve},{toFixed:function(t){var r=Gve(this),n=Vve(t),a=[0,0,0,0,0,0],i="",o="0",u,s,l,c;if(n<0||n>20)throw Yve("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return RD(r);if(r<0&&(i="-",r=-r),r>1e-21)if(u=Xve(r*Lh(2,69,1))-69,s=u<0?r*Lh(2,-u,1):r/Lh(2,u,1),s*=4503599627370496,u=52-u,u>0){for(as(a,0,s),l=n;l>=7;)as(a,1e7,0),l-=7;for(as(a,Lh(10,l,1),0),l=u-1;l>=23;)Vw(a,1<<23),l-=23;Vw(a,1<<l),as(a,1,1),Vw(a,2),o=TD(a)}else as(a,0,s),as(a,1<<-u,0),o=TD(a)+Ww("0",n);return n>0?(c=o.length,o=i+(c<=n?"0."+Ww("0",n-c)+o:ED(o,0,c-n)+"."+ED(o,c-n))):o=i+o,o}});var oye=P(),FD=Kw();oye({target:"Object",stat:!0,forced:Object.assign!==FD},{assign:FD});var cye=P(),fye=Ee(),pye=Rc(),dye=pe(),hye=xe(),vye=Ne();fye&&cye({target:"Object",proto:!0,forced:pye},{__defineGetter__:function(t,r){vye.f(hye(this),t,{get:dye(r),enumerable:!0,configurable:!0})}});var yye=P(),mye=Ee(),gye=Rc(),bye=pe(),_ye=xe(),wye=Ne();mye&&yye({target:"Object",proto:!0,forced:gye},{__defineSetter__:function(t,r){wye.f(_ye(this),t,{set:bye(r),enumerable:!0,configurable:!0})}});var Tye=P(),Aye=Yw().entries;Tye({target:"Object",stat:!0},{entries:function(t){return Aye(t)}});var kye=P(),Iye=is(),Fye=ae(),xye=we(),Cye=Ta().onFreeze,Xw=Object.freeze,Dye=Fye(function(){Xw(1)});kye({target:"Object",stat:!0,forced:Dye,sham:!Iye},{freeze:function(t){return Xw&&xye(t)?Xw(Cye(t)):t}});var jye=P(),Uye=ye(),Mye=bi();jye({target:"Object",stat:!0},{fromEntries:function(t){var r={};return Uye(t,function(n,a){Mye(r,n,a)},{AS_ENTRIES:!0}),r}});var Nye=P(),Bye=ae(),Lye=er(),MD=Dt().f,ND=Ee(),zye=Bye(function(){MD(1)}),Hye=!ND||zye;Nye({target:"Object",stat:!0,forced:Hye,sham:!ND},{getOwnPropertyDescriptor:function(t,r){return MD(Lye(t),r)}});var $ye=P(),Wye=Ee(),Vye=zd(),Gye=er(),Kye=Dt(),Yye=bi();$ye({target:"Object",stat:!0,sham:!Wye},{getOwnPropertyDescriptors:function(t){for(var r=Gye(t),n=Kye.f,a=Vye(r),i={},o=0,u,s;a.length>o;)s=n(r,u=a[o++]),s!==void 0&&Yye(i,u,s);return i}});var Xye=P(),Jye=ae(),Qye=Jd().f,Zye=Jye(function(){return!Object.getOwnPropertyNames(1)});Xye({target:"Object",stat:!0,forced:Zye},{getOwnPropertyNames:Qye});var eme=P(),tme=ae(),rme=xe(),BD=Ut(),nme=ih(),ime=tme(function(){BD(1)});eme({target:"Object",stat:!0,forced:ime,sham:!nme},{getPrototypeOf:function(t){return BD(rme(t))}});var ame=P(),ome=Jw();ame({target:"Object",stat:!0},{is:ome});var ume=P(),zD=vc();ume({target:"Object",stat:!0,forced:Object.isExtensible!==zD},{isExtensible:zD});var sme=P(),lme=ae(),cme=we(),fme=yr(),HD=Th(),Qw=Object.isFrozen,pme=lme(function(){Qw(1)});sme({target:"Object",stat:!0,forced:pme||HD},{isFrozen:function(t){return!cme(t)||HD&&fme(t)=="ArrayBuffer"?!0:Qw?Qw(t):!1}});var dme=P(),hme=ae(),vme=we(),yme=yr(),$D=Th(),Zw=Object.isSealed,mme=hme(function(){Zw(1)});dme({target:"Object",stat:!0,forced:mme||$D},{isSealed:function(t){return!vme(t)||$D&&yme(t)=="ArrayBuffer"?!0:Zw?Zw(t):!1}});var gme=P(),bme=xe(),WD=wo(),_me=ae(),wme=_me(function(){WD(1)});gme({target:"Object",stat:!0,forced:wme},{keys:function(t){return WD(bme(t))}});var Sme=P(),Ome=Ee(),Pme=Rc(),Rme=xe(),qme=yi(),Eme=Ut(),Tme=Dt().f;Ome&&Sme({target:"Object",proto:!0,forced:Pme},{__lookupGetter__:function(t){var r=Rme(this),n=qme(t),a;do if(a=Tme(r,n))return a.get;while(r=Eme(r))}});var Ame=P(),kme=Ee(),Ime=Rc(),Fme=xe(),xme=yi(),Cme=Ut(),Dme=Dt().f;kme&&Ame({target:"Object",proto:!0,forced:Ime},{__lookupSetter__:function(t){var r=Fme(this),n=xme(t),a;do if(a=Dme(r,n))return a.set;while(r=Cme(r))}});var jme=P(),Ume=we(),Mme=Ta().onFreeze,Nme=is(),Bme=ae(),eS=Object.preventExtensions,Lme=Bme(function(){eS(1)});jme({target:"Object",stat:!0,forced:Lme,sham:!Nme},{preventExtensions:function(t){return eS&&Ume(t)?eS(Mme(t)):t}});var zme=P(),Hme=we(),$me=Ta().onFreeze,Wme=is(),Vme=ae(),tS=Object.seal,Gme=Vme(function(){tS(1)});zme({target:"Object",stat:!0,forced:Gme,sham:!Wme},{seal:function(t){return tS&&Hme(t)?tS($me(t)):t}});var Xme=Wd(),Jme=ct(),Qme=GD();Xme||Jme(Object.prototype,"toString",Qme,{unsafe:!0});var Zme=P(),ege=Yw().values;Zme({target:"Object",stat:!0},{values:function(t){return ege(t)}});var Wh=P(),Vh=de(),Ti=H(),Cge=Fe(),Ai=le(),Gh=rS(),Ej=ct(),Dge=bn(),Tj=Oi(),jge=Kr(),Uge=Ra(),_S=pe(),xc=Te(),Mge=we(),Nge=Xr(),Bge=Vl(),Aj=ye(),Lge=sc(),zge=rr(),kj=pS().set,Ij=mS(),Hge=gS(),$ge=bS(),Fj=ss(),wS=Fc(),SS=Ve(),Wge=Yu(),Vge=ge(),Gge=qj(),Kh=Ec(),xj=mo(),Kge=Vge("species"),Gn="Promise",Cj=SS.getterFor(Gn),Yge=SS.set,Xge=SS.getterFor(Gn),xo=Gh&&Gh.prototype,Jr=Gh,ls=xo,Dj=Ti.TypeError,OS=Ti.document,PS=Ti.process,cs=Fj.f,Jge=cs,Qge=!!(OS&&OS.createEvent&&Ti.dispatchEvent),jj=xc(Ti.PromiseRejectionEvent),Uj="unhandledrejection",Zge="rejectionhandled",Mj=0,Nj=1,ebe=2,RS=1,Bj=2,qS=!1,Yh,Lj,ES,zj,Cc=Wge(Gn,function(){var e=Bge(Jr),t=e!==String(Jr);if(!t&&xj===66||Vh&&!ls.finally)return!0;if(xj>=51&&/native code/.test(e))return!1;var r=new Jr(function(i){i(1)}),n=function(o){o(function(){},function(){})},a=r.constructor={};return a[Kge]=n,qS=r.then(function(){})instanceof n,qS?!t&&Gge&&!jj:!0}),tbe=Cc||!Lge(function(e){Jr.all(e).catch(function(){})}),Hj=function(t){var r;return Mge(t)&&xc(r=t.then)?r:!1},TS=function(t,r){if(!t.notified){t.notified=!0;var n=t.reactions;Ij(function(){for(var a=t.value,i=t.state==Nj,o=0;n.length>o;){var u=n[o++],s=i?u.ok:u.fail,l=u.resolve,c=u.reject,f=u.domain,p,d,v;try{s?(i||(t.rejection===Bj&&nbe(t),t.rejection=RS),s===!0?p=a:(f&&f.enter(),p=s(a),f&&(f.exit(),v=!0)),p===u.promise?c(Dj("Promise-chain cycle")):(d=Hj(p))?Ai(d,p,l,c):l(p)):c(a)}catch(m){f&&!v&&f.exit(),c(m)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&rbe(t)})}},$j=function(t,r,n){var a,i;Qge?(a=OS.createEvent("Event"),a.promise=r,a.reason=n,a.initEvent(t,!1,!0),Ti.dispatchEvent(a)):a={promise:r,reason:n},!jj&&(i=Ti["on"+t])?i(a):t===Uj&&$ge("Unhandled promise rejection",n)},rbe=function(t){Ai(kj,Ti,function(){var r=t.facade,n=t.value,a=Wj(t),i;if(a&&(i=wS(function(){Kh?PS.emit("unhandledRejection",n,r):$j(Uj,r,n)}),t.rejection=Kh||Wj(t)?Bj:RS,i.error))throw i.value})},Wj=function(t){return t.rejection!==RS&&!t.parent},nbe=function(t){Ai(kj,Ti,function(){var r=t.facade;Kh?PS.emit("rejectionHandled",r):$j(Zge,r,t.value)})},fs=function(t,r,n){return function(a){t(r,a,n)}},ps=function(t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=ebe,TS(t,!0))},Vj=function e(t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===r)throw Dj("Promise can't be resolved itself");var a=Hj(r);a?Ij(function(){var i={done:!1};try{Ai(a,r,fs(e,i,t),fs(ps,i,t))}catch(o){ps(i,o,t)}}):(t.value=r,t.state=Nj,TS(t,!1))}catch(i){ps({done:!1},i,t)}}};if(Cc&&(Jr=function(t){Nge(this,ls),_S(t),Ai(Yh,this);var r=Cj(this);try{t(fs(Vj,r),fs(ps,r))}catch(n){ps(r,n)}},ls=Jr.prototype,Yh=function(t){Yge(this,{type:Gn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Mj,value:void 0})},Yh.prototype=Dge(ls,{then:function(t,r){var n=Xge(this),a=n.reactions,i=cs(zge(this,Jr));return i.ok=xc(t)?t:!0,i.fail=xc(r)&&r,i.domain=Kh?PS.domain:void 0,n.parent=!0,a[a.length]=i,n.state!=Mj&&TS(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),Lj=function(){var t=new Yh,r=Cj(t);this.promise=t,this.resolve=fs(Vj,r),this.reject=fs(ps,r)},Fj.f=cs=function(t){return t===Jr||t===ES?new Lj(t):Jge(t)},!Vh&&xc(Gh)&&xo!==Object.prototype)){zj=xo.then,qS||(Ej(xo,"then",function(t,r){var n=this;return new Jr(function(a,i){Ai(zj,n,a,i)}).then(t,r)},{unsafe:!0}),Ej(xo,"catch",ls.catch,{unsafe:!0}));try{delete xo.constructor}catch(e){}Tj&&Tj(xo,ls)}Wh({global:!0,wrap:!0,forced:Cc},{Promise:Jr});jge(Jr,Gn,!1,!0);Uge(Gn);ES=Cge(Gn);Wh({target:Gn,stat:!0,forced:Cc},{reject:function(t){var r=cs(this);return Ai(r.reject,void 0,t),r.promise}});Wh({target:Gn,stat:!0,forced:Vh||Cc},{resolve:function(t){return Hge(Vh&&this===ES?Jr:this,t)}});Wh({target:Gn,stat:!0,forced:tbe},{all:function(t){var r=this,n=cs(r),a=n.resolve,i=n.reject,o=wS(function(){var u=_S(r.resolve),s=[],l=0,c=1;Aj(t,function(f){var p=l++,d=!1;c++,Ai(u,r,f).then(function(v){d||(d=!0,s[p]=v,--c||a(s))},i)}),--c||a(s)});return o.error&&i(o.value),n.promise},race:function(t){var r=this,n=cs(r),a=n.reject,i=wS(function(){var o=_S(r.resolve);Aj(t,function(u){Ai(o,r,u).then(n.resolve,a)})});return i.error&&a(i.value),n.promise}});var w0t=Gr(AS()),S0t=Gr(kS());var mbe=P(),gbe=de(),Dc=rS(),bbe=ae(),Kj=Fe(),Yj=Te(),_be=rr(),Xj=gS(),wbe=ct(),Sbe=!!Dc&&bbe(function(){Dc.prototype.finally.call({then:function(){}},function(){})});mbe({target:"Promise",proto:!0,real:!0,forced:Sbe},{finally:function(t){var r=_be(this,Kj("Promise")),n=Yj(t);return this.then(n?function(a){return Xj(r,t()).then(function(){return a})}:t,n?function(a){return Xj(r,t()).then(function(){throw a})}:t)}});!gbe&&Yj(Dc)&&(IS=Kj("Promise").prototype.finally,Dc.prototype.finally!==IS&&wbe(Dc.prototype,"finally",IS,{unsafe:!0}));var IS;var Obe=P(),Pbe=Ke(),Rbe=pe(),qbe=V(),Ebe=ae(),Tbe=!Ebe(function(){Reflect.apply(function(){})});Obe({target:"Reflect",stat:!0,forced:Tbe},{apply:function(t,r,n){return Pbe(Rbe(t),r,qbe(n))}});var jbe=P(),Ube=Fe(),xS=Ke(),Mbe=tU(),rU=qc(),Nbe=V(),nU=we(),Bbe=jt(),iU=ae(),CS=Ube("Reflect","construct"),Lbe=Object.prototype,zbe=[].push,aU=iU(function(){function e(){}return!(CS(function(){},[],e)instanceof e)}),oU=!iU(function(){CS(function(){})}),uU=aU||oU;jbe({target:"Reflect",stat:!0,forced:uU,sham:uU},{construct:function(t,r){rU(t),Nbe(r);var n=arguments.length<3?t:rU(arguments[2]);if(oU&&!aU)return CS(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var a=[null];return xS(zbe,a,r),new(xS(Mbe,t,a))}var i=n.prototype,o=Bbe(nU(i)?i:Lbe),u=xS(t,o,r);return nU(u)?u:o}});var Hbe=P(),$be=Ee(),sU=V(),Wbe=yi(),lU=Ne(),Vbe=ae(),Gbe=Vbe(function(){Reflect.defineProperty(lU.f({},1,{value:1}),1,{value:2})});Hbe({target:"Reflect",stat:!0,forced:Gbe,sham:!$be},{defineProperty:function(t,r,n){sU(t);var a=Wbe(r);sU(n);try{return lU.f(t,a,n),!0}catch(i){return!1}}});var Kbe=P(),Ybe=V(),Xbe=Dt().f;Kbe({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=Xbe(Ybe(t),r);return n&&!n.configurable?!1:delete t[r]}});var Jbe=P(),Qbe=le(),Zbe=we(),e0e=V(),t0e=DS(),r0e=Dt(),n0e=Ut();function pU(e,t){var r=arguments.length<3?e:arguments[2],n,a;if(e0e(e)===r)return e[t];if(n=r0e.f(e,t),n)return t0e(n)?n.value:n.get===void 0?void 0:Qbe(n.get,r);if(Zbe(a=n0e(e)))return pU(a,t,r)}Jbe({target:"Reflect",stat:!0},{get:pU});var i0e=P(),a0e=Ee(),o0e=V(),u0e=Dt();i0e({target:"Reflect",stat:!0,sham:!a0e},{getOwnPropertyDescriptor:function(t,r){return u0e.f(o0e(t),r)}});var s0e=P(),l0e=V(),c0e=Ut(),f0e=ih();s0e({target:"Reflect",stat:!0,sham:!f0e},{getPrototypeOf:function(t){return c0e(l0e(t))}});var p0e=P();p0e({target:"Reflect",stat:!0},{has:function(t,r){return r in t}});var d0e=P(),h0e=V(),v0e=vc();d0e({target:"Reflect",stat:!0},{isExtensible:function(t){return h0e(t),v0e(t)}});var y0e=P(),m0e=zd();y0e({target:"Reflect",stat:!0},{ownKeys:m0e});var g0e=P(),b0e=Fe(),_0e=V(),w0e=is();g0e({target:"Reflect",stat:!0,sham:!w0e},{preventExtensions:function(t){_0e(t);try{var r=b0e("Object","preventExtensions");return r&&r(t),!0}catch(n){return!1}}});var S0e=P(),O0e=le(),P0e=V(),dU=we(),R0e=DS(),q0e=ae(),jS=Ne(),hU=Dt(),E0e=Ut(),vU=yn();function yU(e,t,r){var n=arguments.length<4?e:arguments[3],a=hU.f(P0e(e),t),i,o,u;if(!a){if(dU(o=E0e(e)))return yU(o,t,r,n);a=vU(0)}if(R0e(a)){if(a.writable===!1||!dU(n))return!1;if(i=hU.f(n,t)){if(i.get||i.set||i.writable===!1)return!1;i.value=r,jS.f(n,t,i)}else jS.f(n,t,vU(0,r))}else{if(u=a.set,u===void 0)return!1;O0e(u,n,r)}return!0}var T0e=q0e(function(){var e=function(){},t=jS.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});S0e({target:"Reflect",stat:!0,forced:T0e},{set:yU});var A0e=P(),k0e=V(),I0e=L_(),mU=Oi();mU&&A0e({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){k0e(t),I0e(r);try{return mU(t,r),!0}catch(n){return!1}}});var F0e=P(),x0e=H(),C0e=Kr();F0e({global:!0},{Reflect:{}});C0e(x0e.Reflect,"Reflect",!0);var Y0e=Ee(),LS=H(),hs=ie(),X0e=Yu(),J0e=yc(),Q0e=At(),Z0e=Ne().f,e_e=gi().f,OU=tr(),t_e=ds(),PU=Be(),r_e=Co(),RU=jc(),n_e=ct(),i_e=ae(),a_e=Le(),o_e=Ve().enforce,u_e=Ra(),s_e=ge(),qU=Xh(),EU=BS(),l_e=s_e("match"),ki=LS.RegExp,vs=ki.prototype,c_e=LS.SyntaxError,f_e=hs(r_e),p_e=hs(vs.exec),Jh=hs("".charAt),TU=hs("".replace),AU=hs("".indexOf),d_e=hs("".slice),h_e=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Do=/a/g,zS=/a/g,v_e=new ki(Do)!==Do,kU=RU.MISSED_STICKY,y_e=RU.UNSUPPORTED_Y,m_e=Y0e&&(!v_e||kU||qU||EU||i_e(function(){return zS[l_e]=!1,ki(Do)!=Do||ki(zS)==zS||ki(Do,"i")!="/a/i"})),g_e=function(t){for(var r=t.length,n=0,a="",i=!1,o;n<=r;n++){if(o=Jh(t,n),o==="\\"){a+=o+Jh(t,++n);continue}!i&&o==="."?a+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),a+=o)}return a},b_e=function(t){for(var r=t.length,n=0,a="",i=[],o={},u=!1,s=!1,l=0,c="",f;n<=r;n++){if(f=Jh(t,n),f==="\\")f=f+Jh(t,++n);else if(f==="]")u=!1;else if(!u)switch(!0){case f==="[":u=!0;break;case f==="(":p_e(h_e,d_e(t,n+1))&&(n+=2,s=!0),a+=f,l++;continue;case(f===">"&&s):if(c===""||a_e(o,c))throw new c_e("Invalid capture group name");o[c]=!0,i[i.length]=[c,l],s=!1,c="";continue}s?c+=f:a+=f}return[a,i]};if(X0e("RegExp",m_e)){for(Ii=function(t,r){var n=OU(vs,this),a=t_e(t),i=r===void 0,o=[],u=t,s,l,c,f,p,d;if(!n&&a&&i&&t.constructor===Ii)return t;if((a||OU(vs,t))&&(t=t.source,i&&(r="flags"in u?u.flags:f_e(u))),t=t===void 0?"":PU(t),r=r===void 0?"":PU(r),u=t,qU&&"dotAll"in Do&&(l=!!r&&AU(r,"s")>-1,l&&(r=TU(r,/s/g,""))),s=r,kU&&"sticky"in Do&&(c=!!r&&AU(r,"y")>-1,c&&y_e&&(r=TU(r,/y/g,""))),EU&&(f=b_e(t),t=f[0],o=f[1]),p=J0e(ki(t,r),n?this:vs,Ii),(l||c||o.length)&&(d=o_e(p),l&&(d.dotAll=!0,d.raw=Ii(g_e(t),s)),c&&(d.sticky=!0),o.length&&(d.groups=o)),t!==u)try{Q0e(p,"source",u===""?"(?:)":u)}catch(v){}return p},IU=function(t){t in Ii||Z0e(Ii,t,{configurable:!0,get:function(){return ki[t]},set:function(n){ki[t]=n}})},HS=e_e(ki),$S=0;HS.length>$S;)IU(HS[$S++]);vs.constructor=Ii,Ii.prototype=vs,n_e(LS,"RegExp",Ii)}var Ii,IU,HS,$S;u_e("RegExp");var __e=H(),w_e=Ee(),S_e=Xh(),O_e=yr(),P_e=Ne().f,R_e=Ve().get,FU=RegExp.prototype,q_e=__e.TypeError;w_e&&S_e&&P_e(FU,"dotAll",{configurable:!0,get:function(){if(this!==FU){if(O_e(this)==="RegExp")return!!R_e(this).dotAll;throw q_e("Incompatible receiver, RegExp required")}}});var B0t=Gr(ev());var L_e=Ee(),z_e=Ne(),H_e=Co(),$_e=ae(),jU=RegExp.prototype,W_e=L_e&&$_e(function(){return Object.getOwnPropertyDescriptor(jU,"flags").get.call({dotAll:!0,sticky:!0})!=="sy"});W_e&&z_e.f(jU,"flags",{configurable:!0,get:H_e});var V_e=H(),G_e=Ee(),K_e=jc().MISSED_STICKY,Y_e=yr(),X_e=Ne().f,J_e=Ve().get,UU=RegExp.prototype,Q_e=V_e.TypeError;G_e&&K_e&&X_e(UU,"sticky",{configurable:!0,get:function(){if(this!==UU){if(Y_e(this)==="RegExp")return!!J_e(this).sticky;throw Q_e("Incompatible receiver, RegExp required")}}});ev();var Z_e=P(),ewe=H(),twe=le(),rwe=ie(),nwe=Te(),iwe=we(),awe=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),owe=ewe.Error,uwe=rwe(/./.test);Z_e({target:"RegExp",proto:!0,forced:!awe},{test:function(t){var r=this.exec;if(!nwe(r))return uwe(this,t);var n=twe(r,this,t);if(n!==null&&!iwe(n))throw new owe("RegExp exec method returned something other than an Object or null");return!!n}});var swe=ie(),lwe=ma().PROPER,cwe=ct(),fwe=V(),pwe=tr(),MU=Be(),dwe=ae(),hwe=Co(),YS="toString",XS=RegExp.prototype,NU=XS[YS],vwe=swe(hwe),ywe=dwe(function(){return NU.call({source:"a",flags:"b"})!="/a/b"}),mwe=lwe&&NU.name!=YS;(ywe||mwe)&&cwe(RegExp.prototype,YS,function(){var t=fwe(this),r=MU(t.source),n=t.flags,a=MU(n===void 0&&pwe(XS,t)&&!("flags"in XS)?vwe(t):n);return"/"+r+"/"+a},{unsafe:!0});var gwe=mc(),bwe=Aw();gwe("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},bwe);var Rwe=P(),qwe=jo().codeAt;Rwe({target:"String",proto:!0},{codePointAt:function(t){return qwe(this,t)}});var Fwe=P(),WU=ie(),xwe=Dt().f,Cwe=Ar(),VU=Be(),Dwe=tv(),jwe=Tt(),Uwe=rv(),Mwe=de(),GU=WU("".endsWith),Nwe=WU("".slice),Bwe=Math.min,KU=Uwe("endsWith"),Lwe=!Mwe&&!KU&&!!function(){var e=xwe(String.prototype,"endsWith");return e&&!e.writable}();Fwe({target:"String",proto:!0,forced:!Lwe&&!KU},{endsWith:function(t){var r=VU(jwe(this));Dwe(t);var n=arguments.length>1?arguments[1]:void 0,a=r.length,i=n===void 0?a:Bwe(Cwe(n),a),o=VU(t);return GU?GU(r,o,i):Nwe(r,i-o.length,i)===o}});var zwe=P(),Hwe=H(),$we=ie(),Wwe=mi(),Vwe=Hwe.RangeError,YU=String.fromCharCode,XU=String.fromCodePoint,Gwe=$we([].join),Kwe=!!XU&&XU.length!=1;zwe({target:"String",stat:!0,forced:Kwe},{fromCodePoint:function(t){for(var r=[],n=arguments.length,a=0,i;n>a;){if(i=+arguments[a++],Wwe(i,1114111)!==i)throw Vwe(i+" is not a valid code point");r[a]=i<65536?YU(i):YU(((i-=65536)>>10)+55296,i%1024+56320)}return Gwe(r,"")}});var Ywe=P(),Xwe=ie(),Jwe=tv(),Qwe=Tt(),JU=Be(),Zwe=rv(),eSe=Xwe("".indexOf);Ywe({target:"String",proto:!0,forced:!Zwe("includes")},{includes:function(t){return!!~eSe(JU(Qwe(this)),JU(Jwe(t)),arguments.length>1?arguments[1]:void 0)}});var X0t=Gr(QS());var ySe=le(),mSe=Mc(),gSe=V(),bSe=Ar(),eO=Be(),_Se=Tt(),wSe=Ct(),SSe=Nc(),sM=ms();mSe("match",function(e,t,r){return[function(a){var i=_Se(this),o=a==null?void 0:wSe(a,e);return o?ySe(o,a,i):new RegExp(a)[e](eO(i))},function(n){var a=gSe(this),i=eO(n),o=r(t,a,i);if(o.done)return o.value;if(!a.global)return sM(a,i);var u=a.unicode;a.lastIndex=0;for(var s=[],l=0,c;(c=sM(a,i))!==null;){var f=eO(c[0]);s[l]=f,f===""&&(a.lastIndex=SSe(i,bSe(a.lastIndex),u)),l++}return l===0?null:s}]});var Q0t=Gr(oO());var YSe=P(),XSe=uO().end,JSe=sO();YSe({target:"String",proto:!0,forced:JSe},{padEnd:function(t){return XSe(this,t,arguments.length>1?arguments[1]:void 0)}});var QSe=P(),ZSe=uO().start,eOe=sO();QSe({target:"String",proto:!0,forced:eOe},{padStart:function(t){return ZSe(this,t,arguments.length>1?arguments[1]:void 0)}});var tOe=P(),wM=ie(),rOe=er(),nOe=xe(),SM=Be(),iOe=Ge(),OM=wM([].push),aOe=wM([].join);tOe({target:"String",stat:!0},{raw:function(t){for(var r=rOe(nOe(t).raw),n=iOe(r),a=arguments.length,i=[],o=0;n>o;){if(OM(i,SM(r[o++])),o===n)return aOe(i,"");o<a&&OM(i,SM(arguments[o]))}}});var oOe=P(),uOe=Bh();oOe({target:"String",proto:!0},{repeat:uOe});var dOe=Ke(),RM=le(),av=ie(),hOe=Mc(),vOe=ae(),yOe=V(),mOe=Te(),gOe=Kt(),bOe=Ar(),gs=Be(),_Oe=Tt(),wOe=Nc(),SOe=Ct(),OOe=pO(),POe=ms(),ROe=ge(),dO=ROe("replace"),qOe=Math.max,EOe=Math.min,TOe=av([].concat),hO=av([].push),qM=av("".indexOf),EM=av("".slice),AOe=function(t){return t===void 0?t:String(t)},kOe=function(){return"a".replace(/./,"$0")==="$0"}(),TM=function(){return/./[dO]?/./[dO]("a","$0")==="":!1}(),IOe=!vOe(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});hOe("replace",function(e,t,r){var n=TM?"$":"$0";return[function(i,o){var u=_Oe(this),s=i==null?void 0:SOe(i,dO);return s?RM(s,i,u,o):RM(t,gs(u),i,o)},function(a,i){var o=yOe(this),u=gs(a);if(typeof i=="string"&&qM(i,n)===-1&&qM(i,"$<")===-1){var s=r(t,o,u,i);if(s.done)return s.value}var l=mOe(i);l||(i=gs(i));var c=o.global;if(c){var f=o.unicode;o.lastIndex=0}for(var p=[];;){var d=POe(o,u);if(d===null||(hO(p,d),!c))break;var v=gs(d[0]);v===""&&(o.lastIndex=wOe(u,bOe(o.lastIndex),f))}for(var m="",g=0,w=0;w<p.length;w++){d=p[w];for(var b=gs(d[0]),O=qOe(EOe(gOe(d.index),u.length),0),T=[],x=1;x<d.length;x++)hO(T,AOe(d[x]));var D=d.groups;if(l){var N=TOe([b],T,O,u);D!==void 0&&hO(N,D);var G=gs(dOe(i,void 0,N))}else G=OOe(b,u,O,T,D,i);O>=g&&(m+=EM(u,g,O)+G,g=O+b.length)}return m+EM(u,g)}]},!IOe||!kOe||TM);var i_t=Gr(vO());var KOe=le(),YOe=Mc(),XOe=V(),JOe=Tt(),xM=Jw(),CM=Be(),QOe=Ct(),ZOe=ms();YOe("search",function(e,t,r){return[function(a){var i=JOe(this),o=a==null?void 0:QOe(a,e);return o?KOe(o,a,i):new RegExp(a)[e](CM(i))},function(n){var a=XOe(this),i=CM(n),o=r(t,a,i);if(o.done)return o.value;var u=a.lastIndex;xM(u,0)||(a.lastIndex=0);var s=ZOe(a,i);return xM(a.lastIndex,u)||(a.lastIndex=u),s===null?-1:s.index}]});var e1e=Ke(),zc=le(),yO=ie(),t1e=Mc(),r1e=ds(),n1e=V(),DM=Tt(),i1e=rr(),a1e=Nc(),o1e=Ar(),mO=Be(),u1e=Ct(),jM=So(),UM=ms(),s1e=Uc(),l1e=jc(),c1e=ae(),_s=l1e.UNSUPPORTED_Y,MM=4294967295,f1e=Math.min,NM=[].push,p1e=yO(/./.exec),ws=yO(NM),Hc=yO("".slice),d1e=!c1e(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"});t1e("split",function(e,t,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(i,o){var u=mO(DM(this)),s=o===void 0?MM:o>>>0;if(s===0)return[];if(i===void 0)return[u];if(!r1e(i))return zc(t,u,i,s);for(var l=[],c=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),f=0,p=new RegExp(i.source,c+"g"),d,v,m;(d=zc(s1e,p,u))&&(v=p.lastIndex,!(v>f&&(ws(l,Hc(u,f,d.index)),d.length>1&&d.index<u.length&&e1e(NM,l,jM(d,1)),m=d[0].length,f=v,l.length>=s)));)p.lastIndex===d.index&&p.lastIndex++;return f===u.length?(m||!p1e(p,""))&&ws(l,""):ws(l,Hc(u,f)),l.length>s?jM(l,0,s):l}:"0".split(void 0,0).length?n=function(i,o){return i===void 0&&o===0?[]:zc(t,this,i,o)}:n=t,[function(i,o){var u=DM(this),s=i==null?void 0:u1e(i,e);return s?zc(s,i,u,o):zc(n,mO(u),i,o)},function(a,i){var o=n1e(this),u=mO(a),s=r(n,o,u,i,n!==t);if(s.done)return s.value;var l=i1e(o,RegExp),c=o.unicode,f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(_s?"g":"y"),p=new l(_s?"^(?:"+o.source+")":o,f),d=i===void 0?MM:i>>>0;if(d===0)return[];if(u.length===0)return UM(p,u)===null?[u]:[];for(var v=0,m=0,g=[];m<u.length;){p.lastIndex=_s?0:m;var w=UM(p,_s?Hc(u,m):u),b;if(w===null||(b=f1e(o1e(p.lastIndex+(_s?m:0)),u.length))===v)m=a1e(u,m,c);else{if(ws(g,Hc(u,v,m)),g.length===d)return g;for(var O=1;O<=w.length-1;O++)if(ws(g,w[O]),g.length===d)return g;m=v=b}}return ws(g,Hc(u,v)),g}]},!d1e,_s);var h1e=P(),BM=ie(),v1e=Dt().f,y1e=Ar(),LM=Be(),m1e=tv(),g1e=Tt(),b1e=rv(),_1e=de(),zM=BM("".startsWith),w1e=BM("".slice),S1e=Math.min,HM=b1e("startsWith"),O1e=!_1e&&!HM&&!!function(){var e=v1e(String.prototype,"startsWith");return e&&!e.writable}();h1e({target:"String",proto:!0,forced:!O1e&&!HM},{startsWith:function(t){var r=LM(g1e(this));m1e(t);var n=y1e(S1e(arguments.length>1?arguments[1]:void 0,r.length)),a=LM(t);return zM?zM(r,a,n):w1e(r,n,n+a.length)===a}});var q1e=P(),E1e=To().trim,T1e=uv();q1e({target:"String",proto:!0,forced:T1e("trim")},{trim:function(){return E1e(this)}});var A1e=P(),k1e=To().end,I1e=uv(),GM=I1e("trimEnd"),KM=GM?function(){return k1e(this)}:"".trimEnd;A1e({target:"String",proto:!0,name:"trimEnd",forced:GM},{trimEnd:KM,trimRight:KM});var F1e=P(),x1e=To().start,C1e=uv(),YM=C1e("trimStart"),XM=YM?function(){return x1e(this)}:"".trimStart;F1e({target:"String",proto:!0,name:"trimStart",forced:YM},{trimStart:XM,trimLeft:XM});var B1e=P(),L1e=gr(),z1e=br();B1e({target:"String",proto:!0,forced:z1e("anchor")},{anchor:function(t){return L1e(this,"a","name",t)}});var H1e=P(),$1e=gr(),W1e=br();H1e({target:"String",proto:!0,forced:W1e("big")},{big:function(){return $1e(this,"big","","")}});var V1e=P(),G1e=gr(),K1e=br();V1e({target:"String",proto:!0,forced:K1e("blink")},{blink:function(){return G1e(this,"blink","","")}});var Y1e=P(),X1e=gr(),J1e=br();Y1e({target:"String",proto:!0,forced:J1e("bold")},{bold:function(){return X1e(this,"b","","")}});var Q1e=P(),Z1e=gr(),ePe=br();Q1e({target:"String",proto:!0,forced:ePe("fixed")},{fixed:function(){return Z1e(this,"tt","","")}});var tPe=P(),rPe=gr(),nPe=br();tPe({target:"String",proto:!0,forced:nPe("fontcolor")},{fontcolor:function(t){return rPe(this,"font","color",t)}});var iPe=P(),aPe=gr(),oPe=br();iPe({target:"String",proto:!0,forced:oPe("fontsize")},{fontsize:function(t){return aPe(this,"font","size",t)}});var uPe=P(),sPe=gr(),lPe=br();uPe({target:"String",proto:!0,forced:lPe("italics")},{italics:function(){return sPe(this,"i","","")}});var cPe=P(),fPe=gr(),pPe=br();cPe({target:"String",proto:!0,forced:pPe("link")},{link:function(t){return fPe(this,"a","href",t)}});var dPe=P(),hPe=gr(),vPe=br();dPe({target:"String",proto:!0,forced:vPe("small")},{small:function(){return hPe(this,"small","","")}});var yPe=P(),mPe=gr(),gPe=br();yPe({target:"String",proto:!0,forced:gPe("strike")},{strike:function(){return mPe(this,"strike","","")}});var bPe=P(),_Pe=gr(),wPe=br();bPe({target:"String",proto:!0,forced:wPe("sub")},{sub:function(){return _Pe(this,"sub","","")}});var SPe=P(),OPe=gr(),PPe=br();SPe({target:"String",proto:!0,forced:PPe("sup")},{sup:function(){return OPe(this,"sup","","")}});var _Re=Yn();_Re("Float32",function(e){return function(r,n,a){return e(this,r,n,a)}});var wRe=Yn();wRe("Float64",function(e){return function(r,n,a){return e(this,r,n,a)}});var SRe=Yn();SRe("Int8",function(e){return function(r,n,a){return e(this,r,n,a)}});var ORe=Yn();ORe("Int16",function(e){return function(r,n,a){return e(this,r,n,a)}});var PRe=Yn();PRe("Int32",function(e){return function(r,n,a){return e(this,r,n,a)}});var RRe=Yn();RRe("Uint8",function(e){return function(r,n,a){return e(this,r,n,a)}});var qRe=Yn();qRe("Uint8",function(e){return function(r,n,a){return e(this,r,n,a)}},!0);var ERe=Yn();ERe("Uint16",function(e){return function(r,n,a){return e(this,r,n,a)}});var TRe=Yn();TRe("Uint32",function(e){return function(r,n,a){return e(this,r,n,a)}});var ARe=ie(),FN=Ae(),kRe=K_(),IRe=ARe(kRe),FRe=FN.aTypedArray,xRe=FN.exportTypedArrayMethod;xRe("copyWithin",function(t,r){return IRe(FRe(this),t,r,arguments.length>2?arguments[2]:void 0)});var xN=Ae(),CRe=kt().every,DRe=xN.aTypedArray,jRe=xN.exportTypedArrayMethod;jRe("every",function(t){return CRe(DRe(this),t,arguments.length>1?arguments[1]:void 0)});var CN=Ae(),URe=le(),MRe=ph(),NRe=CN.aTypedArray,BRe=CN.exportTypedArrayMethod;BRe("fill",function(t){var r=arguments.length;return URe(MRe,NRe(this),t,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)});var BN=Ae(),VRe=kt().filter,GRe=hv(),KRe=BN.aTypedArray,YRe=BN.exportTypedArrayMethod;YRe("filter",function(t){var r=VRe(KRe(this),t,arguments.length>1?arguments[1]:void 0);return GRe(this,r)});var LN=Ae(),XRe=kt().find,JRe=LN.aTypedArray,QRe=LN.exportTypedArrayMethod;QRe("find",function(t){return XRe(JRe(this),t,arguments.length>1?arguments[1]:void 0)});var zN=Ae(),ZRe=kt().findIndex,eqe=zN.aTypedArray,tqe=zN.exportTypedArrayMethod;tqe("findIndex",function(t){return ZRe(eqe(this),t,arguments.length>1?arguments[1]:void 0)});var HN=Ae(),rqe=kt().forEach,nqe=HN.aTypedArray,iqe=HN.exportTypedArrayMethod;iqe("forEach",function(t){rqe(nqe(this),t,arguments.length>1?arguments[1]:void 0)});var aqe=lv(),oqe=Ae().exportTypedArrayStaticMethod,uqe=IO();oqe("from",uqe,aqe);var $N=Ae(),sqe=Yl().includes,lqe=$N.aTypedArray,cqe=$N.exportTypedArrayMethod;cqe("includes",function(t){return sqe(lqe(this),t,arguments.length>1?arguments[1]:void 0)});var WN=Ae(),fqe=Yl().indexOf,pqe=WN.aTypedArray,dqe=WN.exportTypedArrayMethod;dqe("indexOf",function(t){return fqe(pqe(this),t,arguments.length>1?arguments[1]:void 0)});var hqe=H(),BO=ie(),VN=ma().PROPER,GN=Ae(),LO=fc(),vqe=ge(),KN=vqe("iterator"),YN=hqe.Uint8Array,yqe=BO(LO.values),mqe=BO(LO.keys),gqe=BO(LO.entries),zO=GN.aTypedArray,vv=GN.exportTypedArrayMethod,XN=YN&&YN.prototype[KN],JN=!!XN&&XN.name==="values",QN=function(){return yqe(zO(this))};vv("entries",function(){return gqe(zO(this))});vv("keys",function(){return mqe(zO(this))});vv("values",QN,VN&&!JN);vv(KN,QN,VN&&!JN);var ZN=Ae(),bqe=ie(),_qe=ZN.aTypedArray,wqe=ZN.exportTypedArrayMethod,Sqe=bqe([].join);wqe("join",function(t){return Sqe(_qe(this),t)});var n5=Ae(),Iqe=Ke(),Fqe=r5(),xqe=n5.aTypedArray,Cqe=n5.exportTypedArrayMethod;Cqe("lastIndexOf",function(t){var r=arguments.length;return Iqe(Fqe,xqe(this),r>1?[t,arguments[1]]:[t])});var i5=Ae(),Dqe=kt().map,jqe=Vc(),Uqe=i5.aTypedArray,Mqe=i5.exportTypedArrayMethod;Mqe("map",function(t){return Dqe(Uqe(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(jqe(r))(n)})});var a5=Ae(),Nqe=lv(),Bqe=a5.aTypedArrayConstructor,Lqe=a5.exportTypedArrayStaticMethod;Lqe("of",function(){for(var t=0,r=arguments.length,n=new(Bqe(this))(r);r>t;)n[t]=arguments[t++];return n},Nqe);var s5=Ae(),Kqe=$O().left,Yqe=s5.aTypedArray,Xqe=s5.exportTypedArrayMethod;Xqe("reduce",function(t){var r=arguments.length;return Kqe(Yqe(this),t,r,r>1?arguments[1]:void 0)});var l5=Ae(),Jqe=$O().right,Qqe=l5.aTypedArray,Zqe=l5.exportTypedArrayMethod;Zqe("reduceRight",function(t){var r=arguments.length;return Jqe(Qqe(this),t,r,r>1?arguments[1]:void 0)});var c5=Ae(),eEe=c5.aTypedArray,tEe=c5.exportTypedArrayMethod,rEe=Math.floor;tEe("reverse",function(){for(var t=this,r=eEe(t).length,n=rEe(r/2),a=0,i;a<n;)i=t[a],t[a++]=t[--r],t[r]=i;return t});var nEe=H(),f5=Ae(),iEe=Ge(),aEe=kO(),oEe=xe(),uEe=ae(),sEe=nEe.RangeError,lEe=f5.aTypedArray,cEe=f5.exportTypedArrayMethod,fEe=uEe(function(){new Int8Array(1).set({})});cEe("set",function(t){lEe(this);var r=aEe(arguments.length>1?arguments[1]:void 0,1),n=this.length,a=oEe(t),i=iEe(a),o=0;if(i+r>n)throw sEe("Wrong length");for(;o<i;)this[r+o]=a[o++]},fEe);var p5=Ae(),pEe=Vc(),dEe=ae(),hEe=ba(),vEe=p5.aTypedArray,yEe=p5.exportTypedArrayMethod,mEe=dEe(function(){new Int8Array(1).slice()});yEe("slice",function(t,r){for(var n=hEe(vEe(this),t,r),a=pEe(this),i=0,o=n.length,u=new a(o);o>i;)u[i]=n[i++];return u},mEe);var d5=Ae(),gEe=kt().some,bEe=d5.aTypedArray,_Ee=d5.exportTypedArrayMethod;_Ee("some",function(t){return gEe(bEe(this),t,arguments.length>1?arguments[1]:void 0)});var h5=H(),wEe=ie(),WO=ae(),SEe=pe(),OEe=mh(),v5=Ae(),y5=sw(),PEe=lw(),m5=mo(),g5=gh(),REe=h5.Array,qEe=v5.aTypedArray,EEe=v5.exportTypedArrayMethod,Gc=h5.Uint16Array,qs=Gc&&wEe(Gc.prototype.sort),TEe=!!qs&&!(WO(function(){qs(new Gc(2),null)})&&WO(function(){qs(new Gc(2),{})})),b5=!!qs&&!WO(function(){if(m5)return m5<74;if(y5)return y5<67;if(PEe)return!0;if(g5)return g5<602;var e=new Gc(516),t=REe(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(qs(e,function(a,i){return(a/4|0)-(i/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),AEe=function(t){return function(r,n){return t!==void 0?+t(r,n)||0:n!==n?-1:r!==r?1:r===0&&n===0?1/r>0&&1/n<0?1:-1:r>n}};EEe("sort",function(t){return t!==void 0&&SEe(t),b5?qs(this,t):OEe(qEe(this),AEe(t))},!b5||TEe);var _5=Ae(),kEe=Ar(),w5=mi(),IEe=Vc(),FEe=_5.aTypedArray,xEe=_5.exportTypedArrayMethod;xEe("subarray",function(t,r){var n=FEe(this),a=n.length,i=w5(t,a),o=IEe(n);return new o(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,kEe((r===void 0?a:w5(r,a))-i))});var CEe=H(),DEe=Ke(),S5=Ae(),VO=ae(),O5=ba(),yv=CEe.Int8Array,P5=S5.aTypedArray,jEe=S5.exportTypedArrayMethod,R5=[].toLocaleString,UEe=!!yv&&VO(function(){R5.call(new yv(1))}),MEe=VO(function(){return[1,2].toLocaleString()!=new yv([1,2]).toLocaleString()})||!VO(function(){yv.prototype.toLocaleString.call([1,2])});jEe("toLocaleString",function(){return DEe(R5,UEe?O5(P5(this)):P5(this),O5(arguments))},MEe);var NEe=Ae().exportTypedArrayMethod,BEe=ae(),LEe=H(),zEe=ie(),q5=LEe.Uint8Array,HEe=q5&&q5.prototype||{},mv=[].toString,$Ee=zEe([].join);BEe(function(){mv.call({})})&&(mv=function(){return $Ee(this)});var WEe=HEe.toString!=mv;NEe("toString",mv,WEe);var iwt=Gr(Pv());var sTe=mc(),lTe=YO();sTe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},lTe);V_();j5();var vTe=P(),yTe=kt().filterReject,mTe=Yt();vTe({target:"Array",proto:!0},{filterOut:function(t){return yTe(this,t,arguments.length>1?arguments[1]:void 0)}});mTe("filterOut");var STe=P(),OTe=Xc().findLast,PTe=Yt();STe({target:"Array",proto:!0},{findLast:function(t){return OTe(this,t,arguments.length>1?arguments[1]:void 0)}});PTe("findLast");var RTe=P(),qTe=Xc().findLastIndex,ETe=Yt();RTe({target:"Array",proto:!0},{findLastIndex:function(t){return qTe(this,t,arguments.length>1?arguments[1]:void 0)}});ETe("findLastIndex");var TTe=P(),ATe=_o(),N5=Object.isFrozen,B5=function(t,r){if(!N5||!ATe(t)||!N5(t))return!1;for(var n=0,a=t.length,i;n<a;)if(i=t[n++],!(typeof i=="string"||r&&typeof i=="undefined"))return!1;return a!==0};TTe({target:"Array",stat:!0},{isTemplateObject:function(t){if(!B5(t,!0))return!1;var r=t.raw;return!(r.length!==t.length||!B5(r,!1))}});var kTe=Ee(),ITe=Yt(),FTe=xe(),xTe=Ge(),CTe=Ne().f;kTe&&!("lastIndex"in[])&&(CTe(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=FTe(this),r=xTe(t);return r==0?0:r-1}}),ITe("lastIndex"));var DTe=Ee(),jTe=Yt(),L5=xe(),z5=Ge(),UTe=Ne().f;DTe&&!("lastItem"in[])&&(UTe(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=L5(this),r=z5(t);return r==0?void 0:t[r-1]},set:function(t){var r=L5(this),n=z5(r);return r[n==0?0:n-1]=t}}),jTe("lastItem"));var GTe=P(),KTe=Yt(),YTe=qv();GTe({target:"Array",proto:!0},{uniqueBy:YTe});KTe("uniqueBy");var eAe=P(),tAe=Xr(),Z5=At(),e8=Le(),rAe=ge(),Bo=Jc(),t8=de(),r8=rAe("toStringTag"),t1=function(){tAe(this,Bo)};t1.prototype=Bo;e8(Bo,r8)||Z5(Bo,r8,"AsyncIterator");(t8||!e8(Bo,"constructor")||Bo.constructor===Object)&&Z5(Bo,"constructor",t1);eAe({global:!0,forced:t8},{AsyncIterator:t1});var pAe=P(),dAe=Ke(),i1=V(),hAe=Ia(),vAe=hAe(function(e,t){var r=this,n=r.iterator;return e.resolve(i1(dAe(r.next,n,t))).then(function(a){return i1(a).done?(r.done=!0,{done:!0,value:void 0}):{done:!1,value:[r.index++,a.value]}})});pAe({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new vAe({iterator:i1(this),index:0})}});var yAe=P(),mAe=Ke(),a1=V(),gAe=Ps(),bAe=Ia(),_Ae=bAe(function(e,t){var r=this;return new e(function(n,a){var i=function o(){try{e.resolve(a1(mAe(r.next,r.iterator,r.remaining?[]:t))).then(function(u){try{a1(u).done?(r.done=!0,n({done:!0,value:void 0})):r.remaining?(r.remaining--,o()):n({done:!1,value:u.value})}catch(s){a(s)}},a)}catch(u){a(u)}};i()})});yAe({target:"AsyncIterator",proto:!0,real:!0},{drop:function(t){return new _Ae({iterator:a1(this),remaining:gAe(t)})}});var qAe=P(),EAe=Ts().every;qAe({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return EAe(this,t)}});var TAe=P(),AAe=Ke(),kAe=pe(),u1=V(),IAe=Ia(),FAe=IAe(function(e,t){var r=this,n=r.filterer;return new e(function(a,i){var o=function u(){try{e.resolve(u1(AAe(r.next,r.iterator,t))).then(function(s){try{if(u1(s).done)r.done=!0,a({done:!0,value:void 0});else{var l=s.value;e.resolve(n(l)).then(function(c){c?a({done:!1,value:l}):u()},i)}}catch(c){i(c)}},i)}catch(s){i(s)}};o()})});TAe({target:"AsyncIterator",proto:!0,real:!0},{filter:function(t){return new FAe({iterator:u1(this),filterer:kAe(t)})}});var xAe=P(),CAe=Ts().find;xAe({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return CAe(this,t)}});var GAe=P(),m8=le(),g8=pe(),ef=V(),KAe=Ia(),YAe=p1(),XAe=KAe(function(e){var t=this,r=t.mapper,n;return new e(function(a,i){var o=function(){try{e.resolve(ef(m8(t.next,t.iterator))).then(function(l){try{ef(l).done?(t.done=!0,a({done:!0,value:void 0})):e.resolve(r(l.value)).then(function(c){try{return t.innerIterator=n=YAe(c),t.innerNext=g8(n.next),u()}catch(f){i(f)}},i)}catch(c){i(c)}},i)}catch(l){i(l)}},u=function(){if(n=t.innerIterator)try{e.resolve(ef(m8(t.innerNext,n))).then(function(l){try{ef(l).done?(t.innerIterator=t.innerNext=null,o()):a({done:!1,value:l.value})}catch(c){i(c)}},i)}catch(l){i(l)}else o()};u()})});GAe({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(t){return new XAe({iterator:ef(this),mapper:g8(t),innerIterator:null,innerNext:null})}});var JAe=P(),QAe=Ts().forEach;JAe({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return QAe(this,t)}});var ZAe=P(),eke=Ke(),tke=V(),rke=xe(),nke=tr(),ike=Jc(),ake=Ia(),oke=p1(),uke=gn(),ske=Pi(),lke=Ct(),cke=ge(),fke=f1(),pke=cke("asyncIterator"),dke=ake(function(e,t){return tke(eke(this.next,this.iterator,t))},!0);ZAe({target:"AsyncIterator",stat:!0},{from:function(t){var r=rke(t),n=lke(r,pke),a;return n&&(a=oke(r,n),nke(ike,a))?a:a===void 0&&(n=ske(r),n)?new fke(uke(r,n)):new dke({iterator:a!==void 0?a:r})}});var hke=P(),vke=Ke(),yke=pe(),d1=V(),mke=Ia(),gke=mke(function(e,t){var r=this,n=r.mapper;return e.resolve(d1(vke(r.next,r.iterator,t))).then(function(a){return d1(a).done?(r.done=!0,{done:!0,value:void 0}):e.resolve(n(a.value)).then(function(i){return{done:!1,value:i}})})});hke({target:"AsyncIterator",proto:!0,real:!0},{map:function(t){return new gke({iterator:d1(this),mapper:yke(t)})}});var bke=P(),_ke=H(),wke=le(),b8=pe(),h1=V(),Ske=Fe(),v1=Ske("Promise"),Oke=_ke.TypeError;bke({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){var r=h1(this),n=b8(r.next),a=arguments.length<2,i=a?void 0:arguments[1];return b8(t),new v1(function(o,u){var s=function l(){try{v1.resolve(h1(wke(n,r))).then(function(c){try{if(h1(c).done)a?u(Oke("Reduce of empty iterator with no initial value")):o(i);else{var f=c.value;a?(a=!1,i=f,l()):v1.resolve(t(i,f)).then(function(p){i=p,l()},u)}}catch(p){u(p)}},u)}catch(c){u(c)}};s()})}});var Pke=P(),Rke=Ts().some;Pke({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return Rke(this,t)}});var qke=P(),Eke=Ke(),Tke=le(),Ake=V(),kke=Ps(),Ike=Ia(),Fke=Ike(function(e,t){var r=this.iterator,n,a;return this.remaining--?Eke(this.next,r,t):(a={done:!0,value:void 0},this.done=!0,n=r.return,n!==void 0?e.resolve(Tke(n,r)).then(function(){return a}):a)});qke({target:"AsyncIterator",proto:!0,real:!0},{take:function(t){return new Fke({iterator:Ake(this),remaining:kke(t)})}});var xke=P(),Cke=Ts().toArray;xke({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return Cke(this,void 0,[])}});var Nke=P(),Bke=g1();typeof BigInt=="function"&&Nke({target:"BigInt",stat:!0},{range:function(t,r,n){return new Bke(t,r,n,"bigint",BigInt(0),BigInt(1))}});var Vke=P(),Gke=H(),Kke=Ke(),Yke=b1(),Xke=Fe(),I8=jt(),Jke=Gke.Object,Qke=function(){var t=Xke("Object","freeze");return t?t(I8(null)):I8(null)};Vke({global:!0},{compositeKey:function(){return Kke(Yke,Jke,arguments).get("object",Qke)}});var Zke=P(),eIe=b1(),F8=Fe(),tIe=Ke();Zke({global:!0},{compositeSymbol:function(){return arguments.length==1&&typeof arguments[0]=="string"?F8("Symbol").for(arguments[0]):tIe(eIe,null,arguments).get("symbol",F8("Symbol"))}});Sw();var rIe=P(),nIe=H(),iIe=Xr(),aIe=Te(),x8=At(),oIe=ae(),C8=Le(),uIe=ge(),Fa=es().IteratorPrototype,sIe=de(),D8=uIe("toStringTag"),_1=nIe.Iterator,j8=sIe||!aIe(_1)||_1.prototype!==Fa||!oIe(function(){_1({})}),w1=function(){iIe(this,Fa)};C8(Fa,D8)||x8(Fa,D8,"Iterator");(j8||!C8(Fa,"constructor")||Fa.constructor===Object)&&x8(Fa,"constructor",w1);w1.prototype=Fa;rIe({global:!0,forced:j8},{Iterator:w1});var gIe=P(),bIe=Ke(),L8=V(),_Ie=xa(),wIe=_Ie(function(e){var t=L8(bIe(this.next,this.iterator,e)),r=this.done=!!t.done;if(!r)return[this.index++,t.value]});gIe({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new wIe({iterator:L8(this),index:0})}});var SIe=P(),OIe=Ke(),PIe=le(),P1=V(),RIe=Ps(),qIe=xa(),EIe=qIe(function(e){for(var t=this.iterator,r=this.next,n,a;this.remaining;)if(this.remaining--,n=P1(PIe(r,t)),a=this.done=!!n.done,a)return;if(n=P1(OIe(r,t,e)),a=this.done=!!n.done,!a)return n.value});SIe({target:"Iterator",proto:!0,real:!0},{drop:function(t){return new EIe({iterator:P1(this),remaining:RIe(t)})}});var TIe=P(),AIe=ye(),kIe=pe(),IIe=V();TIe({target:"Iterator",proto:!0,real:!0},{every:function(t){return IIe(this),kIe(t),!AIe(this,function(r,n){if(!t(r))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var FIe=P(),xIe=Ke(),CIe=pe(),z8=V(),DIe=xa(),jIe=dh(),UIe=DIe(function(e){for(var t=this.iterator,r=this.filterer,n=this.next,a,i,o;;){if(a=z8(xIe(n,t,e)),i=this.done=!!a.done,i)return;if(o=a.value,jIe(t,r,o))return o}});FIe({target:"Iterator",proto:!0,real:!0},{filter:function(t){return new UIe({iterator:z8(this),filterer:CIe(t)})}});var MIe=P(),NIe=ye(),BIe=pe(),LIe=V();MIe({target:"Iterator",proto:!0,real:!0},{find:function(t){return LIe(this),BIe(t),NIe(this,function(r,n){if(t(r))return n(r)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var zIe=P(),HIe=H(),R1=le(),H8=pe(),Fv=V(),$Ie=Pi(),WIe=xa(),VIe=oc(),GIe=HIe.TypeError,KIe=WIe(function(){for(var e=this.iterator,t=this.mapper,r,n,a,i;;)try{if(i=this.innerIterator){if(r=Fv(R1(this.innerNext,i)),!r.done)return r.value;this.innerIterator=this.innerNext=null}if(r=Fv(R1(this.next,e)),this.done=!!r.done)return;if(n=t(r.value),a=$Ie(n),!a)throw GIe(".flatMap callback should return an iterable object");this.innerIterator=i=Fv(R1(a,n)),this.innerNext=H8(i.next)}catch(o){VIe(e,"throw",o)}});zIe({target:"Iterator",proto:!0,real:!0},{flatMap:function(t){return new KIe({iterator:Fv(this),mapper:H8(t),innerIterator:null,innerNext:null})}});var YIe=P(),XIe=ye(),JIe=V();YIe({target:"Iterator",proto:!0,real:!0},{forEach:function(t){XIe(JIe(this),t,{IS_ITERATOR:!0})}});var QIe=P(),ZIe=Ke(),e2e=V(),t2e=xe(),r2e=tr(),n2e=es().IteratorPrototype,i2e=xa(),a2e=gn(),o2e=Pi(),u2e=i2e(function(e){var t=e2e(ZIe(this.next,this.iterator,e)),r=this.done=!!t.done;if(!r)return t.value},!0);QIe({target:"Iterator",stat:!0},{from:function(t){var r=t2e(t),n=o2e(r),a;if(n){if(a=a2e(r,n),r2e(n2e,a))return a}else a=r;return new u2e({iterator:a})}});var s2e=P(),l2e=Ke(),c2e=pe(),$8=V(),f2e=xa(),p2e=dh(),d2e=f2e(function(e){var t=this.iterator,r=$8(l2e(this.next,t,e)),n=this.done=!!r.done;if(!n)return p2e(t,this.mapper,r.value)});s2e({target:"Iterator",proto:!0,real:!0},{map:function(t){return new d2e({iterator:$8(this),mapper:c2e(t)})}});var h2e=P(),v2e=H(),y2e=ye(),m2e=pe(),g2e=V(),b2e=v2e.TypeError;h2e({target:"Iterator",proto:!0,real:!0},{reduce:function(t){g2e(this),m2e(t);var r=arguments.length<2,n=r?void 0:arguments[1];if(y2e(this,function(a){r?(r=!1,n=a):n=t(n,a)},{IS_ITERATOR:!0}),r)throw b2e("Reduce of empty iterator with no initial value");return n}});var _2e=P(),w2e=ye(),S2e=pe(),O2e=V();_2e({target:"Iterator",proto:!0,real:!0},{some:function(t){return O2e(this),S2e(t),w2e(this,function(r,n){if(t(r))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var P2e=P(),R2e=Ke(),W8=V(),q2e=Ps(),E2e=xa(),T2e=oc(),A2e=E2e(function(e){var t=this.iterator;if(!this.remaining--)return this.done=!0,T2e(t,"normal",void 0);var r=W8(R2e(this.next,t,e)),n=this.done=!!r.done;if(!n)return r.value});P2e({target:"Iterator",proto:!0,real:!0},{take:function(t){return new A2e({iterator:W8(this),remaining:q2e(t)})}});var k2e=P(),I2e=ye(),F2e=V(),x2e=[].push;k2e({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return I2e(F2e(this),x2e,{that:t,IS_ITERATOR:!0}),t}});var U2e=P(),M2e=de(),N2e=nf();U2e({target:"Map",proto:!0,real:!0,forced:M2e},{deleteAll:N2e});var L2e=P(),z2e=de(),H2e=T1();L2e({target:"Map",proto:!0,real:!0,forced:z2e},{emplace:H2e});var W2e=P(),V2e=de(),G2e=V(),K2e=Ye(),Y2e=Sn(),X2e=ye();W2e({target:"Map",proto:!0,real:!0,forced:V2e},{every:function(t){var r=G2e(this),n=Y2e(r),a=K2e(t,arguments.length>1?arguments[1]:void 0);return!X2e(n,function(i,o,u){if(!a(o,i,r))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var J2e=de(),Q2e=P(),Z2e=Fe(),eFe=Ye(),tFe=le(),rFe=pe(),nFe=V(),iFe=rr(),aFe=Sn(),oFe=ye();Q2e({target:"Map",proto:!0,real:!0,forced:J2e},{filter:function(t){var r=nFe(this),n=aFe(r),a=eFe(t,arguments.length>1?arguments[1]:void 0),i=new(iFe(r,Z2e("Map"))),o=rFe(i.set);return oFe(n,function(u,s){a(s,u,r)&&tFe(o,i,u,s)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});var uFe=P(),sFe=de(),lFe=V(),cFe=Ye(),fFe=Sn(),pFe=ye();uFe({target:"Map",proto:!0,real:!0,forced:sFe},{find:function(t){var r=lFe(this),n=fFe(r),a=cFe(t,arguments.length>1?arguments[1]:void 0);return pFe(n,function(i,o,u){if(a(o,i,r))return u(o)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var dFe=P(),hFe=de(),vFe=V(),yFe=Ye(),mFe=Sn(),gFe=ye();dFe({target:"Map",proto:!0,real:!0,forced:hFe},{findKey:function(t){var r=vFe(this),n=mFe(r),a=yFe(t,arguments.length>1?arguments[1]:void 0);return gFe(n,function(i,o,u){if(a(o,i,r))return u(i)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var OFe=P(),PFe=af();OFe({target:"Map",stat:!0},{from:PFe});var RFe=P(),A1=le(),qFe=ie(),xv=pe(),EFe=gn(),TFe=ye(),AFe=qFe([].push);RFe({target:"Map",stat:!0},{groupBy:function(t,r){xv(r);var n=EFe(t),a=new this,i=xv(a.has),o=xv(a.get),u=xv(a.set);return TFe(n,function(s){var l=r(s);A1(i,a,l)?AFe(A1(o,a,l),s):A1(u,a,l,[s])},{IS_ITERATOR:!0}),a}});var kFe=de(),IFe=P(),FFe=V(),xFe=Sn(),CFe=Z8(),DFe=ye();IFe({target:"Map",proto:!0,real:!0,forced:kFe},{includes:function(t){return DFe(xFe(FFe(this)),function(r,n,a){if(CFe(n,t))return a()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var jFe=P(),UFe=le(),MFe=ye(),eB=pe();jFe({target:"Map",stat:!0},{keyBy:function(t,r){var n=new this;eB(r);var a=eB(n.set);return MFe(t,function(i){UFe(a,n,r(i),i)}),n}});var NFe=P(),BFe=de(),LFe=V(),zFe=Sn(),HFe=ye();NFe({target:"Map",proto:!0,real:!0,forced:BFe},{keyOf:function(t){return HFe(zFe(LFe(this)),function(r,n,a){if(n===t)return a(r)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var $Fe=de(),WFe=P(),VFe=Fe(),GFe=Ye(),KFe=le(),YFe=pe(),XFe=V(),JFe=rr(),QFe=Sn(),ZFe=ye();WFe({target:"Map",proto:!0,real:!0,forced:$Fe},{mapKeys:function(t){var r=XFe(this),n=QFe(r),a=GFe(t,arguments.length>1?arguments[1]:void 0),i=new(JFe(r,VFe("Map"))),o=YFe(i.set);return ZFe(n,function(u,s){KFe(o,i,a(s,u,r),s)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});var exe=de(),txe=P(),rxe=Fe(),nxe=Ye(),ixe=le(),axe=pe(),oxe=V(),uxe=rr(),sxe=Sn(),lxe=ye();txe({target:"Map",proto:!0,real:!0,forced:exe},{mapValues:function(t){var r=oxe(this),n=sxe(r),a=nxe(t,arguments.length>1?arguments[1]:void 0),i=new(uxe(r,rxe("Map"))),o=axe(i.set);return lxe(n,function(u,s){ixe(o,i,u,a(s,u,r))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}});var cxe=P(),fxe=de(),pxe=pe(),dxe=V(),hxe=ye();cxe({target:"Map",proto:!0,real:!0,forced:fxe},{merge:function(t){for(var r=dxe(this),n=pxe(r.set),a=arguments.length,i=0;i<a;)hxe(arguments[i++],n,{that:r,AS_ENTRIES:!0});return r}});var yxe=P(),mxe=of();yxe({target:"Map",stat:!0},{of:mxe});var gxe=P(),bxe=H(),_xe=de(),wxe=V(),Sxe=pe(),Oxe=Sn(),Pxe=ye(),Rxe=bxe.TypeError;gxe({target:"Map",proto:!0,real:!0,forced:_xe},{reduce:function(t){var r=wxe(this),n=Oxe(r),a=arguments.length<2,i=a?void 0:arguments[1];if(Sxe(t),Pxe(n,function(o,u){a?(a=!1,i=u):i=t(i,u,o,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a)throw Rxe("Reduce of empty map with no initial value");return i}});var qxe=P(),Exe=de(),Txe=V(),Axe=Ye(),kxe=Sn(),Ixe=ye();qxe({target:"Map",proto:!0,real:!0,forced:Exe},{some:function(t){var r=Txe(this),n=kxe(r),a=Axe(t,arguments.length>1?arguments[1]:void 0);return Ixe(n,function(i,o,u){if(a(o,i,r))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Fxe=de(),xxe=P(),Cxe=H(),k1=le(),Dxe=V(),uf=pe(),jxe=Cxe.TypeError;xxe({target:"Map",proto:!0,real:!0,forced:Fxe},{update:function(t,r){var n=Dxe(this),a=uf(n.get),i=uf(n.has),o=uf(n.set),u=arguments.length;uf(r);var s=k1(i,n,t);if(!s&&u<3)throw jxe("Updating absent value");var l=s?k1(a,n,t):uf(u>2?arguments[2]:void 0)(t,n);return k1(o,n,t,r(l,t,n)),n}});var Bxe=P(),Lxe=de(),zxe=jv();Bxe({target:"Map",proto:!0,real:!0,name:"upsert",forced:Lxe},{updateOrInsert:zxe});var Hxe=P(),$xe=de(),Wxe=jv();Hxe({target:"Map",proto:!0,real:!0,forced:$xe},{upsert:Wxe});var Vxe=P(),Gxe=Math.min,Kxe=Math.max;Vxe({target:"Math",stat:!0},{clamp:function(t,r,n){return Gxe(n,Kxe(r,t))}});var Yxe=P();Yxe({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180});var Xxe=P(),Jxe=180/Math.PI;Xxe({target:"Math",stat:!0},{degrees:function(t){return t*Jxe}});var Qxe=P(),Zxe=F1(),eCe=Dw();Qxe({target:"Math",stat:!0},{fscale:function(t,r,n,a,i){return eCe(Zxe(t,r,n,a,i))}});var tCe=P();tCe({target:"Math",stat:!0},{iaddh:function(t,r,n,a){var i=t>>>0,o=r>>>0,u=n>>>0;return o+(a>>>0)+((i&u|(i|u)&~(i+u>>>0))>>>31)|0}});var rCe=P();rCe({target:"Math",stat:!0},{imulh:function(t,r){var n=65535,a=+t,i=+r,o=a&n,u=i&n,s=a>>16,l=i>>16,c=(s*u>>>0)+(o*u>>>16);return s*l+(c>>16)+((o*l>>>0)+(c&n)>>16)}});var nCe=P();nCe({target:"Math",stat:!0},{isubh:function(t,r,n,a){var i=t>>>0,o=r>>>0,u=n>>>0;return o-(a>>>0)-((~i&u|~(i^u)&i-u>>>0)>>>31)|0}});var iCe=P();iCe({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI});var aCe=P(),oCe=Math.PI/180;aCe({target:"Math",stat:!0},{radians:function(t){return t*oCe}});var uCe=P(),sCe=F1();uCe({target:"Math",stat:!0},{scale:sCe});var lCe=P(),cCe=H(),fCe=V(),pCe=zw(),dCe=Oa(),iB=Ve(),aB="Seeded Random",oB=aB+" Generator",hCe='Math.seededPRNG() argument should have a "seed" field with a finite value.',vCe=iB.set,yCe=iB.getterFor(oB),mCe=cCe.TypeError,gCe=dCe(function(t){vCe(this,{type:oB,seed:t%2147483647})},aB,function(){var t=yCe(this),r=t.seed=(t.seed*1103515245+12345)%2147483647;return{value:(r&1073741823)/1073741823,done:!1}});lCe({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var r=fCe(t).seed;if(!pCe(r))throw mCe(hCe);return new gCe(r)}});var bCe=P();bCe({target:"Math",stat:!0},{signbit:function(t){return(t=+t)==t&&t==0?1/t==-1/0:t<0}});var _Ce=P();_Ce({target:"Math",stat:!0},{umulh:function(t,r){var n=65535,a=+t,i=+r,o=a&n,u=i&n,s=a>>>16,l=i>>>16,c=(s*u>>>0)+(o*u>>>16);return s*l+(c>>>16)+((o*l>>>0)+(c&n)>>>16)}});var wCe=P(),x1=H(),Uv=ie(),SCe=Kt(),OCe=Hw(),Mv="Invalid number representation",PCe="Invalid radix",RCe=x1.RangeError,C1=x1.SyntaxError,qCe=x1.TypeError,uB=/^[\da-z]+$/,ECe=Uv("".charAt),TCe=Uv(uB.exec),ACe=Uv(1 .toString),kCe=Uv("".slice);wCe({target:"Number",stat:!0},{fromString:function(t,r){var n=1,a,i;if(typeof t!="string")throw qCe(Mv);if(!t.length||ECe(t,0)=="-"&&(n=-1,t=kCe(t,1),!t.length))throw C1(Mv);if(a=r===void 0?10:SCe(r),a<2||a>36)throw RCe(PCe);if(!TCe(uB,t)||ACe(i=OCe(t,a),a)!==t)throw C1(Mv);return n*i}});var ICe=P(),FCe=g1();ICe({target:"Number",stat:!0},{range:function(t,r,n){return new FCe(t,r,n,"number",0,1)}});sB();var LCe=P(),zCe=Nv();LCe({target:"Object",stat:!0},{iterateEntries:function(t){return new zCe(t,"entries")}});var HCe=P(),$Ce=Nv();HCe({target:"Object",stat:!0},{iterateKeys:function(t){return new $Ce(t,"keys")}});var WCe=P(),VCe=Nv();WCe({target:"Object",stat:!0},{iterateValues:function(t){return new VCe(t,"values")}});var GCe=P(),KCe=H(),sf=le(),lf=Ee(),YCe=Ra(),pB=pe(),dB=Te(),hB=Oo(),D1=V(),XCe=we(),JCe=Xr(),vB=Ne().f,QCe=ct(),Bv=bn(),ZCe=gn(),cf=Ct(),e3e=ye(),As=bS(),t3e=ge(),yB=Ve(),mB=t3e("observable"),j1="Observable",gB="Subscription",bB="SubscriptionObserver",U1=yB.getterFor,M1=yB.set,r3e=U1(j1),_B=U1(gB),Lv=U1(bB),n3e=KCe.Array,wB=function(t){this.observer=D1(t),this.cleanup=void 0,this.subscriptionObserver=void 0};wB.prototype={type:gB,clean:function(){var t=this.cleanup;if(t){this.cleanup=void 0;try{t()}catch(r){As(r)}}},close:function(){if(!lf){var t=this.facade,r=this.subscriptionObserver;t.closed=!0,r&&(r.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var N1=function(t,r){var n=M1(this,new wB(t)),a;lf||(this.closed=!1);try{(a=cf(t,"start"))&&sf(a,t,this)}catch(s){As(s)}if(!n.isClosed()){var i=n.subscriptionObserver=new B1(n);try{var o=r(i),u=o;o!=null&&(n.cleanup=dB(o.unsubscribe)?function(){u.unsubscribe()}:pB(o))}catch(s){i.error(s);return}n.isClosed()&&n.clean()}};N1.prototype=Bv({},{unsubscribe:function(){var t=_B(this);t.isClosed()||(t.close(),t.clean())}});lf&&vB(N1.prototype,"closed",{configurable:!0,get:function(){return _B(this).isClosed()}});var B1=function(t){M1(this,{type:bB,subscriptionState:t}),lf||(this.closed=!1)};B1.prototype=Bv({},{next:function(t){var r=Lv(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var a=cf(n,"next");a&&sf(a,n,t)}catch(i){As(i)}}},error:function(t){var r=Lv(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var a=cf(n,"error");a?sf(a,n,t):As(t)}catch(i){As(i)}r.clean()}},complete:function(){var t=Lv(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=cf(r,"complete");n&&sf(n,r)}catch(a){As(a)}t.clean()}}});lf&&vB(B1.prototype,"closed",{configurable:!0,get:function(){return Lv(this).subscriptionState.isClosed()}});var ff=function(t){JCe(this,L1),M1(this,{type:j1,subscriber:pB(t)})},L1=ff.prototype;Bv(L1,{subscribe:function(t){var r=arguments.length;return new N1(dB(t)?{next:t,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:XCe(t)?t:{},r3e(this).subscriber)}});Bv(ff,{from:function(t){var r=hB(this)?this:ff,n=cf(D1(t),mB);if(n){var a=D1(sf(n,t));return a.constructor===r?a:new r(function(o){return a.subscribe(o)})}var i=ZCe(t);return new r(function(o){e3e(i,function(u,s){if(o.next(u),o.closed)return s()},{IS_ITERATOR:!0,INTERRUPTED:!0}),o.complete()})},of:function(){for(var t=hB(this)?this:ff,r=arguments.length,n=n3e(r),a=0;a<r;)n[a]=arguments[a++];return new t(function(i){for(var o=0;o<r;o++)if(i.next(n[o]),i.closed)return;i.complete()})}});QCe(L1,mB,function(){return this});GCe({global:!0},{Observable:ff});YCe(j1);AS();kS();var i3e=P(),a3e=ss(),o3e=Fc();i3e({target:"Promise",stat:!0},{try:function(t){var r=a3e.f(this),n=o3e(t);return(n.error?r.reject:r.resolve)(n.value),r.promise}});var y3e=P(),qB=Jn(),m3e=V(),g3e=qB.toKey,b3e=qB.set;y3e({target:"Reflect",stat:!0},{defineMetadata:function(t,r,n){var a=arguments.length<4?void 0:g3e(arguments[3]);b3e(t,r,m3e(n),a)}});var _3e=P(),H1=Jn(),w3e=V(),S3e=H1.toKey,O3e=H1.getMap,EB=H1.store;_3e({target:"Reflect",stat:!0},{deleteMetadata:function(t,r){var n=arguments.length<3?void 0:S3e(arguments[2]),a=O3e(w3e(r),n,!1);if(a===void 0||!a.delete(t))return!1;if(a.size)return!0;var i=EB.get(r);return i.delete(n),!!i.size||EB.delete(r)}});var P3e=P(),$1=Jn(),R3e=V(),q3e=Ut(),E3e=$1.has,T3e=$1.get,A3e=$1.toKey,k3e=function e(t,r,n){var a=E3e(t,r,n);if(a)return T3e(t,r,n);var i=q3e(r);return i!==null?e(t,i,n):void 0};P3e({target:"Reflect",stat:!0},{getMetadata:function(t,r){var n=arguments.length<3?void 0:A3e(arguments[2]);return k3e(t,R3e(r),n)}});var I3e=P(),TB=ie(),AB=Jn(),F3e=V(),x3e=Ut(),C3e=qv(),D3e=TB(C3e),j3e=TB([].concat),U3e=AB.keys,M3e=AB.toKey,N3e=function e(t,r){var n=U3e(t,r),a=x3e(t);if(a===null)return n;var i=e(a,r);return i.length?n.length?D3e(j3e(n,i)):i:n};I3e({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var r=arguments.length<2?void 0:M3e(arguments[1]);return N3e(F3e(t),r)}});var B3e=P(),kB=Jn(),L3e=V(),z3e=kB.get,H3e=kB.toKey;B3e({target:"Reflect",stat:!0},{getOwnMetadata:function(t,r){var n=arguments.length<3?void 0:H3e(arguments[2]);return z3e(t,L3e(r),n)}});var $3e=P(),IB=Jn(),W3e=V(),V3e=IB.keys,G3e=IB.toKey;$3e({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var r=arguments.length<2?void 0:G3e(arguments[1]);return V3e(W3e(t),r)}});var K3e=P(),FB=Jn(),Y3e=V(),X3e=Ut(),J3e=FB.has,Q3e=FB.toKey,Z3e=function e(t,r,n){var a=J3e(t,r,n);if(a)return!0;var i=X3e(r);return i!==null?e(t,i,n):!1};K3e({target:"Reflect",stat:!0},{hasMetadata:function(t,r){var n=arguments.length<3?void 0:Q3e(arguments[2]);return Z3e(t,Y3e(r),n)}});var eDe=P(),xB=Jn(),tDe=V(),rDe=xB.has,nDe=xB.toKey;eDe({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,r){var n=arguments.length<3?void 0:nDe(arguments[2]);return rDe(t,tDe(r),n)}});var iDe=P(),CB=Jn(),aDe=V(),oDe=CB.toKey,uDe=CB.set;iDe({target:"Reflect",stat:!0},{metadata:function(t,r){return function(a,i){uDe(t,r,aDe(a),oDe(i))}}});var fDe=P(),pDe=de(),dDe=W1();fDe({target:"Set",proto:!0,real:!0,forced:pDe},{addAll:dDe});var hDe=P(),vDe=de(),yDe=nf();hDe({target:"Set",proto:!0,real:!0,forced:vDe},{deleteAll:yDe});var mDe=de(),gDe=P(),bDe=Fe(),_De=le(),wDe=pe(),SDe=V(),ODe=rr(),PDe=ye();gDe({target:"Set",proto:!0,real:!0,forced:mDe},{difference:function(t){var r=SDe(this),n=new(ODe(r,bDe("Set")))(r),a=wDe(n.delete);return PDe(t,function(i){_De(a,n,i)}),n}});var qDe=P(),EDe=de(),TDe=V(),ADe=Ye(),kDe=Ca(),IDe=ye();qDe({target:"Set",proto:!0,real:!0,forced:EDe},{every:function(t){var r=TDe(this),n=kDe(r),a=ADe(t,arguments.length>1?arguments[1]:void 0);return!IDe(n,function(i,o){if(!a(i,i,r))return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var FDe=de(),xDe=P(),CDe=Fe(),DDe=le(),jDe=pe(),UDe=V(),MDe=Ye(),NDe=rr(),BDe=Ca(),LDe=ye();xDe({target:"Set",proto:!0,real:!0,forced:FDe},{filter:function(t){var r=UDe(this),n=BDe(r),a=MDe(t,arguments.length>1?arguments[1]:void 0),i=new(NDe(r,CDe("Set"))),o=jDe(i.add);return LDe(n,function(u){a(u,u,r)&&DDe(o,i,u)},{IS_ITERATOR:!0}),i}});var zDe=P(),HDe=de(),$De=V(),WDe=Ye(),VDe=Ca(),GDe=ye();zDe({target:"Set",proto:!0,real:!0,forced:HDe},{find:function(t){var r=$De(this),n=VDe(r),a=WDe(t,arguments.length>1?arguments[1]:void 0);return GDe(n,function(i,o){if(a(i,i,r))return o(i)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var KDe=P(),YDe=af();KDe({target:"Set",stat:!0},{from:YDe});var XDe=de(),JDe=P(),QDe=Fe(),UB=le(),MB=pe(),ZDe=V(),eje=rr(),tje=ye();JDe({target:"Set",proto:!0,real:!0,forced:XDe},{intersection:function(t){var r=ZDe(this),n=new(eje(r,QDe("Set"))),a=MB(r.has),i=MB(n.add);return tje(t,function(o){UB(a,r,o)&&UB(i,n,o)}),n}});var rje=de(),nje=P(),ije=le(),aje=pe(),oje=V(),uje=ye();nje({target:"Set",proto:!0,real:!0,forced:rje},{isDisjointFrom:function(t){var r=oje(this),n=aje(r.has);return!uje(t,function(a,i){if(ije(n,r,a)===!0)return i()},{INTERRUPTED:!0}).stopped}});var sje=de(),lje=P(),cje=Fe(),fje=le(),pje=pe(),dje=Te(),hje=V(),vje=gn(),yje=ye();lje({target:"Set",proto:!0,real:!0,forced:sje},{isSubsetOf:function(t){var r=vje(this),n=hje(t),a=n.has;return dje(a)||(n=new(cje("Set"))(t),a=pje(n.has)),!yje(r,function(i,o){if(fje(a,n,i)===!1)return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var mje=de(),gje=P(),bje=le(),_je=pe(),wje=V(),Sje=ye();gje({target:"Set",proto:!0,real:!0,forced:mje},{isSupersetOf:function(t){var r=wje(this),n=_je(r.has);return!Sje(t,function(a,i){if(bje(n,r,a)===!1)return i()},{INTERRUPTED:!0}).stopped}});var Oje=de(),Pje=P(),Rje=ie(),qje=V(),Eje=Be(),Tje=Ca(),Aje=ye(),kje=Rje([].join),Ije=[].push;Pje({target:"Set",proto:!0,real:!0,forced:Oje},{join:function(t){var r=qje(this),n=Tje(r),a=t===void 0?",":Eje(t),i=[];return Aje(n,Ije,{that:i,IS_ITERATOR:!0}),kje(i,a)}});var Fje=de(),xje=P(),Cje=Fe(),Dje=Ye(),jje=le(),Uje=pe(),Mje=V(),Nje=rr(),Bje=Ca(),Lje=ye();xje({target:"Set",proto:!0,real:!0,forced:Fje},{map:function(t){var r=Mje(this),n=Bje(r),a=Dje(t,arguments.length>1?arguments[1]:void 0),i=new(Nje(r,Cje("Set"))),o=Uje(i.add);return Lje(n,function(u){jje(o,i,a(u,u,r))},{IS_ITERATOR:!0}),i}});var zje=P(),Hje=of();zje({target:"Set",stat:!0},{of:Hje});var $je=P(),Wje=H(),Vje=de(),Gje=pe(),Kje=V(),Yje=Ca(),Xje=ye(),Jje=Wje.TypeError;$je({target:"Set",proto:!0,real:!0,forced:Vje},{reduce:function(t){var r=Kje(this),n=Yje(r),a=arguments.length<2,i=a?void 0:arguments[1];if(Gje(t),Xje(n,function(o){a?(a=!1,i=o):i=t(i,o,o,r)},{IS_ITERATOR:!0}),a)throw Jje("Reduce of empty set with no initial value");return i}});var Qje=P(),Zje=de(),eUe=V(),tUe=Ye(),rUe=Ca(),nUe=ye();Qje({target:"Set",proto:!0,real:!0,forced:Zje},{some:function(t){var r=eUe(this),n=rUe(r),a=tUe(t,arguments.length>1?arguments[1]:void 0);return nUe(n,function(i,o){if(a(i,i,r))return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var iUe=de(),aUe=P(),oUe=Fe(),NB=le(),BB=pe(),uUe=V(),sUe=rr(),lUe=ye();aUe({target:"Set",proto:!0,real:!0,forced:iUe},{symmetricDifference:function(t){var r=uUe(this),n=new(sUe(r,oUe("Set")))(r),a=BB(n.delete),i=BB(n.add);return lUe(t,function(o){NB(a,n,o)||NB(i,n,o)}),n}});var cUe=P(),fUe=de(),pUe=Fe(),dUe=pe(),hUe=V(),vUe=rr(),yUe=ye();cUe({target:"Set",proto:!0,real:!0,forced:fUe},{union:function(t){var r=hUe(this),n=new(vUe(r,pUe("Set")))(r);return yUe(t,dUe(n.add),{that:n}),n}});var mUe=P(),gUe=jo().charAt,bUe=ae(),_Ue=bUe(function(){return"\uD842\uDFB7".at(0)!=="\uD842\uDFB7"});mUe({target:"String",proto:!0,forced:_Ue},{at:function(t){return gUe(this,t)}});var wUe=P(),SUe=Oa(),OUe=Tt(),PUe=Be(),LB=Ve(),zB=jo(),RUe=zB.codeAt,qUe=zB.charAt,HB="String Iterator",EUe=LB.set,TUe=LB.getterFor(HB),AUe=SUe(function(t){EUe(this,{type:HB,string:t,index:0})},"String",function(){var t=TUe(this),r=t.string,n=t.index,a;return n>=r.length?{value:void 0,done:!0}:(a=qUe(r,n),t.index+=a.length,{value:{codePoint:RUe(a,0),position:n},done:!1})});wUe({target:"String",proto:!0},{codePoints:function(){return new AUe(PUe(OUe(this)))}});oO();vO();var kUe=at();kUe("asyncDispose");var IUe=at();IUe("dispose");var FUe=at();FUe("matcher");var xUe=at();xUe("metadata");var CUe=at();CUe("observable");var DUe=at();DUe("patternMatch");var jUe=at();jUe("replaceAll");WB();var VB=Ae(),LUe=kt().filterReject,zUe=hv(),HUe=VB.aTypedArray,$Ue=VB.exportTypedArrayMethod;$Ue("filterOut",function(t){var r=LUe(HUe(this),t,arguments.length>1?arguments[1]:void 0);return zUe(this,r)});var GB=Ae(),WUe=Xc().findLast,VUe=GB.aTypedArray,GUe=GB.exportTypedArrayMethod;GUe("findLast",function(t){return WUe(VUe(this),t,arguments.length>1?arguments[1]:void 0)});var KB=Ae(),KUe=Xc().findLastIndex,YUe=KB.aTypedArray,XUe=KB.exportTypedArrayMethod;XUe("findLastIndex",function(t){return KUe(YUe(this),t,arguments.length>1?arguments[1]:void 0)});var JUe=ie(),YB=Ae(),QUe=qv(),ZUe=hv(),eMe=YB.aTypedArray,tMe=YB.exportTypedArrayMethod,rMe=JUe(QUe);tMe("uniqueBy",function(t){return ZUe(this,rMe(eMe(this),t))});var nMe=P(),iMe=de(),aMe=nf();nMe({target:"WeakMap",proto:!0,real:!0,forced:iMe},{deleteAll:aMe});var oMe=P(),uMe=af();oMe({target:"WeakMap",stat:!0},{from:uMe});var sMe=P(),lMe=of();sMe({target:"WeakMap",stat:!0},{of:lMe});var cMe=P(),fMe=de(),pMe=T1();cMe({target:"WeakMap",proto:!0,real:!0,forced:fMe},{emplace:pMe});var dMe=P(),hMe=de(),vMe=jv();dMe({target:"WeakMap",proto:!0,real:!0,forced:hMe},{upsert:vMe});var yMe=P(),mMe=de(),gMe=W1();yMe({target:"WeakSet",proto:!0,real:!0,forced:mMe},{addAll:gMe});var bMe=P(),_Me=de(),wMe=nf();bMe({target:"WeakSet",proto:!0,real:!0,forced:_Me},{deleteAll:wMe});var SMe=P(),OMe=af();SMe({target:"WeakSet",stat:!0},{from:OMe});var PMe=P(),RMe=of();PMe({target:"WeakSet",stat:!0},{of:RMe});var t6=H(),r6=V1(),kMe=K1(),Y1=e6(),IMe=At(),n6=function(t){if(t&&t.forEach!==Y1)try{IMe(t,"forEach",Y1)}catch(r){t.forEach=Y1}};for(Hv in r6)r6[Hv]&&n6(t6[Hv]&&t6[Hv].prototype);var Hv;n6(kMe);var i6=H(),a6=V1(),FMe=K1(),df=fc(),X1=At(),o6=ge(),J1=o6("iterator"),u6=o6("toStringTag"),Q1=df.values,s6=function(t,r){if(t){if(t[J1]!==Q1)try{X1(t,J1,Q1)}catch(a){t[J1]=Q1}if(t[u6]||X1(t,u6,r),a6[r]){for(var n in df)if(t[n]!==df[n])try{X1(t,n,df[n])}catch(a){t[n]=df[n]}}}};for($v in a6)s6(i6[$v]&&i6[$v].prototype,$v);var $v;s6(FMe,"DOMTokenList");var xMe=P(),CMe=H(),DMe=mS(),jMe=Ec(),UMe=CMe.process;xMe({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var r=jMe&&UMe.domain;DMe(r?r.bind(t):t)}});function Xv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xv=function(r){return typeof r}:Xv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xv(e)}QS();var qNe=P(),hP=Ee(),ENe=Z1(),vP=H(),B6=Ye(),Qr=ie(),TNe=Gd(),Jv=ct(),ANe=Xr(),yP=Le(),mP=Kw(),Fs=ew(),Pn=So(),kNe=jo().codeAt,INe=g6(),Ci=Be(),FNe=Kr(),L6=dP(),z6=Ve(),xNe=z6.set,Qv=z6.getterFor("URL"),CNe=L6.URLSearchParams,DNe=L6.getState,gf=vP.URL,gP=vP.TypeError,Zv=vP.parseInt,jNe=Math.floor,H6=Math.pow,Zr=Qr("".charAt),Rn=Qr(/./.exec),bf=Qr([].join),UNe=Qr(1 .toString),MNe=Qr([].pop),xs=Qr([].push),$6=Qr("".replace),NNe=Qr([].shift),BNe=Qr("".split),_f=Qr("".slice),ey=Qr("".toLowerCase),LNe=Qr([].unshift),zNe="Invalid authority",bP="Invalid scheme",$o="Invalid host",W6="Invalid port",V6=/[a-z]/i,HNe=/[\d+-.a-z]/i,_P=/\d/,$Ne=/^0x/i,WNe=/^[0-7]+$/,VNe=/^\d+$/,G6=/^[\da-f]+$/i,GNe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,KNe=/[\0\t\n\r #/:<>?@[\\\]^|]/,YNe=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,XNe=/[\t\n\r]/g,en,JNe=function(t){var r=BNe(t,"."),n,a,i,o,u,s,l;if(r.length&&r[r.length-1]==""&&r.length--,n=r.length,n>4)return t;for(a=[],i=0;i<n;i++){if(o=r[i],o=="")return t;if(u=10,o.length>1&&Zr(o,0)=="0"&&(u=Rn($Ne,o)?16:8,o=_f(o,u==8?1:2)),o==="")s=0;else{if(!Rn(u==10?VNe:u==8?WNe:G6,o))return t;s=Zv(o,u)}xs(a,s)}for(i=0;i<n;i++)if(s=a[i],i==n-1){if(s>=H6(256,5-n))return null}else if(s>255)return null;for(l=MNe(a),i=0;i<a.length;i++)l+=a[i]*H6(256,3-i);return l},QNe=function(t){var r=[0,0,0,0,0,0,0,0],n=0,a=null,i=0,o,u,s,l,c,f,p,d=function(){return Zr(t,i)};if(d()==":"){if(Zr(t,1)!=":")return;i+=2,n++,a=n}for(;d();){if(n==8)return;if(d()==":"){if(a!==null)return;i++,n++,a=n;continue}for(o=u=0;u<4&&Rn(G6,d());)o=o*16+Zv(d(),16),i++,u++;if(d()=="."){if(u==0||(i-=u,n>6))return;for(s=0;d();){if(l=null,s>0)if(d()=="."&&s<4)i++;else return;if(!Rn(_P,d()))return;for(;Rn(_P,d());){if(c=Zv(d(),10),l===null)l=c;else{if(l==0)return;l=l*10+c}if(l>255)return;i++}r[n]=r[n]*256+l,s++,(s==2||s==4)&&n++}if(s!=4)return;break}else if(d()==":"){if(i++,!d())return}else if(d())return;r[n++]=o}if(a!==null)for(f=n-a,n=7;n!=0&&f>0;)p=r[n],r[n--]=r[a+f-1],r[a+--f]=p;else if(n!=8)return;return r},ZNe=function(t){for(var r=null,n=1,a=null,i=0,o=0;o<8;o++)t[o]!==0?(i>n&&(r=a,n=i),a=null,i=0):(a===null&&(a=o),++i);return i>n&&(r=a,n=i),r},wf=function(t){var r,n,a,i;if(typeof t=="number"){for(r=[],n=0;n<4;n++)LNe(r,t%256),t=jNe(t/256);return bf(r,".")}else if(Xv(t)=="object"){for(r="",a=ZNe(t),n=0;n<8;n++)i&&t[n]===0||(i&&(i=!1),a===n?(r+=n?":":"::",i=!0):(r+=UNe(t[n],16),n<7&&(r+=":")));return"["+r+"]"}return t},ty={},K6=mP({},ty,{" ":1,'"':1,"<":1,">":1,"`":1}),Y6=mP({},K6,{"#":1,"?":1,"{":1,"}":1}),wP=mP({},Y6,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ja=function(t,r){var n=kNe(t,0);return n>32&&n<127&&!yP(r,t)?t:encodeURIComponent(t)},ry={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Sf=function(t,r){var n;return t.length==2&&Rn(V6,Zr(t,0))&&((n=Zr(t,1))==":"||!r&&n=="|")},X6=function(t){var r;return t.length>1&&Sf(_f(t,0,2))&&(t.length==2||(r=Zr(t,2))==="/"||r==="\\"||r==="?"||r==="#")},e5e=function(t){return t==="."||ey(t)==="%2e"},t5e=function(t){return t=ey(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},SP={},J6={},OP={},Q6={},Z6={},PP={},e4={},t4={},ny={},iy={},RP={},qP={},EP={},TP={},r4={},AP={},Cs={},Zn={},n4={},Wo={},Di={},i4=function e(t,r,n){var a=Ci(t),i,o,u;if(r){if(o=this.parse(a),o)throw gP(o);this.searchParams=null}else{if(n!==void 0&&(i=new e(n,!0)),o=this.parse(a,null,i),o)throw gP(o);u=DNe(new CNe),u.bindURL(this),this.searchParams=u}};i4.prototype={type:"URL",parse:function(t,r,n){var a=this,i=r||SP,o=0,u="",s=!1,l=!1,c=!1,f,p,d,v;for(t=Ci(t),r||(a.scheme="",a.username="",a.password="",a.host=null,a.port=null,a.path=[],a.query=null,a.fragment=null,a.cannotBeABaseURL=!1,t=$6(t,YNe,"")),t=$6(t,XNe,""),f=Fs(t);o<=f.length;){switch(p=f[o],i){case SP:if(p&&Rn(V6,p))u+=ey(p),i=J6;else{if(r)return bP;i=OP;continue}break;case J6:if(p&&(Rn(HNe,p)||p=="+"||p=="-"||p=="."))u+=ey(p);else if(p==":"){if(r&&(a.isSpecial()!=yP(ry,u)||u=="file"&&(a.includesCredentials()||a.port!==null)||a.scheme=="file"&&!a.host))return;if(a.scheme=u,r){a.isSpecial()&&ry[a.scheme]==a.port&&(a.port=null);return}u="",a.scheme=="file"?i=TP:a.isSpecial()&&n&&n.scheme==a.scheme?i=Q6:a.isSpecial()?i=t4:f[o+1]=="/"?(i=Z6,o++):(a.cannotBeABaseURL=!0,xs(a.path,""),i=n4)}else{if(r)return bP;u="",i=OP,o=0;continue}break;case OP:if(!n||n.cannotBeABaseURL&&p!="#")return bP;if(n.cannotBeABaseURL&&p=="#"){a.scheme=n.scheme,a.path=Pn(n.path),a.query=n.query,a.fragment="",a.cannotBeABaseURL=!0,i=Di;break}i=n.scheme=="file"?TP:PP;continue;case Q6:if(p=="/"&&f[o+1]=="/")i=ny,o++;else{i=PP;continue}break;case Z6:if(p=="/"){i=iy;break}else{i=Zn;continue}case PP:if(a.scheme=n.scheme,p==en)a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=Pn(n.path),a.query=n.query;else if(p=="/"||p=="\\"&&a.isSpecial())i=e4;else if(p=="?")a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=Pn(n.path),a.query="",i=Wo;else if(p=="#")a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=Pn(n.path),a.query=n.query,a.fragment="",i=Di;else{a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=Pn(n.path),a.path.length--,i=Zn;continue}break;case e4:if(a.isSpecial()&&(p=="/"||p=="\\"))i=ny;else if(p=="/")i=iy;else{a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,i=Zn;continue}break;case t4:if(i=ny,p!="/"||Zr(u,o+1)!="/")continue;o++;break;case ny:if(p!="/"&&p!="\\"){i=iy;continue}break;case iy:if(p=="@"){s&&(u="%40"+u),s=!0,d=Fs(u);for(var m=0;m<d.length;m++){var g=d[m];if(g==":"&&!c){c=!0;continue}var w=ja(g,wP);c?a.password+=w:a.username+=w}u=""}else if(p==en||p=="/"||p=="?"||p=="#"||p=="\\"&&a.isSpecial()){if(s&&u=="")return zNe;o-=Fs(u).length+1,u="",i=RP}else u+=p;break;case RP:case qP:if(r&&a.scheme=="file"){i=AP;continue}else if(p==":"&&!l){if(u=="")return $o;if(v=a.parseHost(u),v)return v;if(u="",i=EP,r==qP)return}else if(p==en||p=="/"||p=="?"||p=="#"||p=="\\"&&a.isSpecial()){if(a.isSpecial()&&u=="")return $o;if(r&&u==""&&(a.includesCredentials()||a.port!==null))return;if(v=a.parseHost(u),v)return v;if(u="",i=Cs,r)return;continue}else p=="["?l=!0:p=="]"&&(l=!1),u+=p;break;case EP:if(Rn(_P,p))u+=p;else if(p==en||p=="/"||p=="?"||p=="#"||p=="\\"&&a.isSpecial()||r){if(u!=""){var b=Zv(u,10);if(b>65535)return W6;a.port=a.isSpecial()&&b===ry[a.scheme]?null:b,u=""}if(r)return;i=Cs;continue}else return W6;break;case TP:if(a.scheme="file",p=="/"||p=="\\")i=r4;else if(n&&n.scheme=="file")if(p==en)a.host=n.host,a.path=Pn(n.path),a.query=n.query;else if(p=="?")a.host=n.host,a.path=Pn(n.path),a.query="",i=Wo;else if(p=="#")a.host=n.host,a.path=Pn(n.path),a.query=n.query,a.fragment="",i=Di;else{X6(bf(Pn(f,o),""))||(a.host=n.host,a.path=Pn(n.path),a.shortenPath()),i=Zn;continue}else{i=Zn;continue}break;case r4:if(p=="/"||p=="\\"){i=AP;break}n&&n.scheme=="file"&&!X6(bf(Pn(f,o),""))&&(Sf(n.path[0],!0)?xs(a.path,n.path[0]):a.host=n.host),i=Zn;continue;case AP:if(p==en||p=="/"||p=="\\"||p=="?"||p=="#"){if(!r&&Sf(u))i=Zn;else if(u==""){if(a.host="",r)return;i=Cs}else{if(v=a.parseHost(u),v)return v;if(a.host=="localhost"&&(a.host=""),r)return;u="",i=Cs}continue}else u+=p;break;case Cs:if(a.isSpecial()){if(i=Zn,p!="/"&&p!="\\")continue}else if(!r&&p=="?")a.query="",i=Wo;else if(!r&&p=="#")a.fragment="",i=Di;else if(p!=en&&(i=Zn,p!="/"))continue;break;case Zn:if(p==en||p=="/"||p=="\\"&&a.isSpecial()||!r&&(p=="?"||p=="#")){if(t5e(u)?(a.shortenPath(),p!="/"&&!(p=="\\"&&a.isSpecial())&&xs(a.path,"")):e5e(u)?p!="/"&&!(p=="\\"&&a.isSpecial())&&xs(a.path,""):(a.scheme=="file"&&!a.path.length&&Sf(u)&&(a.host&&(a.host=""),u=Zr(u,0)+":"),xs(a.path,u)),u="",a.scheme=="file"&&(p==en||p=="?"||p=="#"))for(;a.path.length>1&&a.path[0]==="";)NNe(a.path);p=="?"?(a.query="",i=Wo):p=="#"&&(a.fragment="",i=Di)}else u+=ja(p,Y6);break;case n4:p=="?"?(a.query="",i=Wo):p=="#"?(a.fragment="",i=Di):p!=en&&(a.path[0]+=ja(p,ty));break;case Wo:!r&&p=="#"?(a.fragment="",i=Di):p!=en&&(p=="'"&&a.isSpecial()?a.query+="%27":p=="#"?a.query+="%23":a.query+=ja(p,ty));break;case Di:p!=en&&(a.fragment+=ja(p,K6));break}o++}},parseHost:function(t){var r,n,a;if(Zr(t,0)=="["){if(Zr(t,t.length-1)!="]"||(r=QNe(_f(t,1,-1)),!r))return $o;this.host=r}else if(this.isSpecial()){if(t=INe(t),Rn(GNe,t)||(r=JNe(t),r===null))return $o;this.host=r}else{if(Rn(KNe,t))return $o;for(r="",n=Fs(t),a=0;a<n.length;a++)r+=ja(n[a],ty);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return yP(ry,this.scheme)},shortenPath:function(){var t=this.path,r=t.length;r&&(this.scheme!="file"||r!=1||!Sf(t[0],!0))&&t.length--},serialize:function(){var t=this,r=t.scheme,n=t.username,a=t.password,i=t.host,o=t.port,u=t.path,s=t.query,l=t.fragment,c=r+":";return i!==null?(c+="//",t.includesCredentials()&&(c+=n+(a?":"+a:"")+"@"),c+=wf(i),o!==null&&(c+=":"+o)):r=="file"&&(c+="//"),c+=t.cannotBeABaseURL?u[0]:u.length?"/"+bf(u,"/"):"",s!==null&&(c+="?"+s),l!==null&&(c+="#"+l),c},setHref:function(t){var r=this.parse(t);if(r)throw gP(r);this.searchParams.update()},getOrigin:function(){var t=this.scheme,r=this.port;if(t=="blob")try{return new Ds(t.path[0]).origin}catch(n){return"null"}return t=="file"||!this.isSpecial()?"null":t+"://"+wf(this.host)+(r!==null?":"+r:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(Ci(t)+":",SP)},getUsername:function(){return this.username},setUsername:function(t){var r=Fs(Ci(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<r.length;n++)this.username+=ja(r[n],wP)}},getPassword:function(){return this.password},setPassword:function(t){var r=Fs(Ci(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<r.length;n++)this.password+=ja(r[n],wP)}},getHost:function(){var t=this.host,r=this.port;return t===null?"":r===null?wf(t):wf(t)+":"+r},setHost:function(t){this.cannotBeABaseURL||this.parse(t,RP)},getHostname:function(){var t=this.host;return t===null?"":wf(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,qP)},getPort:function(){var t=this.port;return t===null?"":Ci(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=Ci(t),t==""?this.port=null:this.parse(t,EP))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+bf(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Cs))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=Ci(t),t==""?this.query=null:(Zr(t,0)=="?"&&(t=_f(t,1)),this.query="",this.parse(t,Wo)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=Ci(t),t==""){this.fragment=null;return}Zr(t,0)=="#"&&(t=_f(t,1)),this.fragment="",this.parse(t,Di)},update:function(){this.query=this.searchParams.serialize()||null}};var Ds=function(t){var r=ANe(this,ay),n=arguments.length>1?arguments[1]:void 0,a=xNe(r,new i4(t,!1,n));hP||(r.href=a.serialize(),r.origin=a.getOrigin(),r.protocol=a.getProtocol(),r.username=a.getUsername(),r.password=a.getPassword(),r.host=a.getHost(),r.hostname=a.getHostname(),r.port=a.getPort(),r.pathname=a.getPathname(),r.search=a.getSearch(),r.searchParams=a.getSearchParams(),r.hash=a.getHash())},ay=Ds.prototype,tn=function(t,r){return{get:function(){return Qv(this)[t]()},set:r&&function(n){return Qv(this)[r](n)},configurable:!0,enumerable:!0}};hP&&TNe(ay,{href:tn("serialize","setHref"),origin:tn("getOrigin"),protocol:tn("getProtocol","setProtocol"),username:tn("getUsername","setUsername"),password:tn("getPassword","setPassword"),host:tn("getHost","setHost"),hostname:tn("getHostname","setHostname"),port:tn("getPort","setPort"),pathname:tn("getPathname","setPathname"),search:tn("getSearch","setSearch"),searchParams:tn("getSearchParams"),hash:tn("getHash","setHash")});Jv(ay,"toJSON",function(){return Qv(this).serialize()},{enumerable:!0});Jv(ay,"toString",function(){return Qv(this).serialize()},{enumerable:!0});gf&&(kP=gf.createObjectURL,IP=gf.revokeObjectURL,kP&&Jv(Ds,"createObjectURL",B6(kP,gf)),IP&&Jv(Ds,"revokeObjectURL",B6(IP,gf)));var kP,IP;FNe(Ds,"URL");qNe({global:!0,forced:!ENe,sham:!hP},{URL:Ds});var r5e=P(),n5e=le();r5e({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return n5e(URL.prototype.toString,this)}});var NOt=Gr(dP());o4();u4();s4();var jst=l4();typeof window.ResizeObserver!="function"&&(window.ResizeObserver=jst);c4();gte();})();
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */
/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */
//# sourceMappingURL=uppy.legacy.min.js.map
